(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){e.exports=n(40)()},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(i):new Error(i+": "+(t||""))}},function(e,t,n){"use strict";var r=n(2);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(4);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function y(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return p}));var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",E="hashchange";function T(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,y=o.keyLength,S=void 0===y?6:y,I=e.basename?d(l(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return I&&(o=f(o,I)),m(o,r,n)}function C(){return Math.random().toString(36).substr(2,S)}var N=v();function A(e){Object(r.a)(q,e),q.length=t.length,N.notifyListeners(q.location,q.action)}function _(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||O(k(e.state))}function D(){O(k(T()))}var x=!1;function O(e){if(x)x=!1,A();else{N.confirmTransitionTo(e,"POP",h,(function(t){t?A({action:"POP",location:e}):function(e){var t=q.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(x=!0,L(i))}(e)}))}}var P=k(T()),R=[P.key];function M(e){return I+p(e)}function L(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?(window.addEventListener(w,_),i&&window.addEventListener(E,D)):0===F&&(window.removeEventListener(w,_),i&&window.removeEventListener(E,D))}var V=!1;var q={length:t.length,action:"POP",location:P,createHref:M,push:function(e,r){var i=m(e,r,C(),q.location);N.confirmTransitionTo(i,"PUSH",h,(function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=R.indexOf(q.location.key),c=R.slice(0,u+1);c.push(i.key),R=c,A({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=m(e,r,C(),q.location);N.confirmTransitionTo(i,"REPLACE",h,(function(e){if(e){var r=M(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=R.indexOf(q.location.key);-1!==u&&(R[u]=i.key),A({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=N.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},listen:function(e){var t=N.appendListener(e);return U(1),function(){U(-1),t()}}};return q}var I="hashchange",k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(C(window.location.href)+"#"+e)}function _(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",h=k[s],y=h.encodePath,w=h.decodePath;function E(){var e=w(N());return u&&(e=f(e,u)),m(e)}var T=v();function S(e){Object(r.a)(q,e),q.length=t.length,T.notifyListeners(q.location,q.action)}var _=!1,D=null;function x(){var e,t,n=N(),r=y(n);if(n!==r)A(r);else{var i=E(),a=q.location;if(!_&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(D===p(i))return;D=null,function(e){if(_)_=!1,S();else{T.confirmTransitionTo(e,"POP",o,(function(t){t?S({action:"POP",location:e}):function(e){var t=q.location,n=M.lastIndexOf(p(t));-1===n&&(n=0);var r=M.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(_=!0,L(i))}(e)}))}}(i)}}var O=N(),P=y(O);O!==P&&A(P);var R=E(),M=[p(R)];function L(e){t.go(e)}var F=0;function U(e){1===(F+=e)&&1===e?window.addEventListener(I,x):0===F&&window.removeEventListener(I,x)}var V=!1;var q={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+y(u+p(e))},push:function(e,t){var n=m(e,void 0,void 0,q.location);T.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),r=y(u+t);if(N()!==r){D=t,function(e){window.location.hash=e}(r);var i=M.lastIndexOf(p(q.location)),o=M.slice(0,i+1);o.push(t),M=o,S({action:"PUSH",location:n})}else S()}}))},replace:function(e,t){var n=m(e,void 0,void 0,q.location);T.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),r=y(u+t);N()!==r&&(D=t,A(r));var i=M.indexOf(p(q.location));-1!==i&&(M[i]=t),S({action:"REPLACE",location:n})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return V||(U(1),V=!0),function(){return V&&(V=!1,U(-1)),t()}},listen:function(e){var t=T.appendListener(e);return U(1),function(){U(-1),t()}}};return q}function D(e,t,n){return Math.min(Math.max(e,t),n)}function x(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=v();function h(e){Object(r.a)(w,e),w.length=w.entries.length,l.notifyListeners(w.location,w.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=D(s,0,o.length-1),y=o.map((function(e){return m(e,void 0,"string"===typeof e?f():e.key||f())})),g=p;function b(e){var t=D(w.index+e,0,w.entries.length-1),r=w.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var w={length:y.length,action:"POP",location:y[d],index:d,entries:y,createHref:g,push:function(e,t){var r=m(e,t,f(),w.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),h({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,f(),w.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(w.entries[w.index]=r,h({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return w}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return w}));var r=n(8),i=n(6),o=n(0),a=n.n(o),s=n(5),u=(n(1),n(2)),c=n(10),l=n(4);a.a.Component;var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(a.a.Component);var f=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},m=a.a.forwardRef;"undefined"===typeof m&&(m=p);var y=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==m&&t||n,a.a.createElement("a",l)}));var v=m((function(e,t){var n=e.component,i=void 0===n?y:n,o=e.replace,s=e.to,h=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(f(s,e.location),e.location),c=r?n.createHref(r):"",y=Object(u.a)({},v,{href:c,navigate:function(){var t=f(s,e.location);(o?n.replace:n.push)(t)}});return p!==m?y.ref=t||h:y.innerRef=h,a.a.createElement(i,y)}))})),g=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=g);var w=b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,h=e.activeStyle,p=e.className,m=e.exact,y=e.isActive,w=e.location,E=e.strict,T=e.style,S=e.to,I=e.innerRef,k=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=w||e.location,o=d(f(S,n),n),c=o.pathname,C=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),N=C?Object(r.f)(n.pathname,{path:C,exact:m,strict:E}):null,A=!!(y?y(N,n):N),_=A?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,D=A?Object(u.a)({},T,{},h):T,x=Object(u.a)({"aria-current":A&&i||null,className:_,style:D,to:o},k);return g!==b?x.ref=t||I:x.innerRef=I,a.a.createElement(v,x)}))}))},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n.n(i),a=n(1),s=n.n(a),u=n(5),c=n(16),l=n.n(c),h=n(24),f=n.n(h),d=1073741823;var p=o.a.createContext||function(e,t){var n,r,o="__create-react-context-"+f()()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}l()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):d,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}l()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?d:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?d:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return u.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:u}},m=n(4),y=n(2),v=n(17),g=n.n(v),b=(n(21),n(10));n(25);n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return x}));var w=function(e){var t=p();return t.displayName=e,t}("Router"),E=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;var T=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var S={},I=1e4,k=0;function C(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(S[e])return S[e];var t=g.a.compile(e);return k<I&&(S[e]=t,k++),t}(e)(t,{pretty:!0})}function N(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(w.Consumer,null,(function(e){e||Object(m.a)(!1);var r=e.history,a=e.staticContext,s=i?r.push:r.replace,c=Object(u.c)(t?"string"===typeof n?C(n,t.params):Object(y.a)({},n,{pathname:C(n.pathname,t.params)}):n);return a?(s(c),null):o.a.createElement(T,{onMount:function(){s(c)},onUpdate:function(e,t){var n=Object(u.c)(t.to);Object(u.f)(n,Object(y.a)({},c,{key:n.key}))||s(c)},to:n})}))}var A={},_=1e4,D=0;function x(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=A[n]||(A[n]={});if(r[e])return r[e];var i=[],o={regexp:g()(e,i,t),keys:i};return D<_&&(r[e]=o,D++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var O=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?x(n.pathname,e.props):t.match,i=Object(y.a)({},t,{location:n,match:r}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(w.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?o.a.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function P(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var n=P(e);return 0!==t.pathname.indexOf(n)?t:Object(y.a)({},t,{pathname:t.pathname.substr(n.length)})}function M(e){return"string"===typeof e?e:Object(u.e)(e)}function L(e){return function(){Object(m.a)(!1)}}function F(){}o.a.Component;var U=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(w.Consumer,null,(function(t){t||Object(m.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?x(i.pathname,Object(y.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);o.a.useContext},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(15),i=n(1),o=n.n(i),a=n(0),s=n.n(a);function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var p=!1;try{p=!0}catch(b){}function m(e){return null===e?null:"object"===u(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function y(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?c({},e,t):{}}function v(e){var t=e.icon,n=e.mask,i=e.symbol,o=e.className,a=e.title,s=m(t),u=y("classes",[].concat(f(function(e){var t,n=e.spin,r=e.pulse,i=e.fixedWidth,o=e.inverse,a=e.border,s=e.listItem,u=e.flip,l=e.size,h=e.rotation,f=e.pull,d=(c(t={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":o,"fa-border":a,"fa-li":s,"fa-flip-horizontal":"horizontal"===u||"both"===u,"fa-flip-vertical":"vertical"===u||"both"===u},"fa-".concat(l),"undefined"!==typeof l&&null!==l),c(t,"fa-rotate-".concat(h),"undefined"!==typeof h&&null!==h),c(t,"fa-pull-".concat(f),"undefined"!==typeof f&&null!==f),c(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(d).map((function(e){return d[e]?e:null})).filter((function(e){return e}))}(e)),f(o.split(" ")))),h=y("transform","string"===typeof e.transform?r.b.transform(e.transform):e.transform),d=y("mask",m(n)),b=Object(r.a)(s,l({},u,h,d,{symbol:i,title:a}));if(!b)return function(){var e;!p&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",s),null;var w=b.abstract,E={};return Object.keys(e).forEach((function(t){v.defaultProps.hasOwnProperty(t)||(E[t]=e[t])})),g(w[0],E)}v.displayName="FontAwesomeIcon",v.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object]),swapOpacity:o.a.bool},v.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var g=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),o=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=d(t.slice(0,r)),o=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:e[i]=o,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[d(t)]=r}return e}),{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=h(r,["style"]);return o.attrs.style=l({},o.attrs.style,s),t.apply(void 0,[n.tag,l({},o.attrs,u)].concat(f(i)))}.bind(null,s.a.createElement)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},i={prefix:"fas",iconName:"door-open",icon:[640,512,[],"f52b","M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"]}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(20),o=n(33),a=n(34),s=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",s),c="[DEFAULT]",l=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(e);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){r.tokenListeners_.push(e),setTimeout((function(){return e(null)}),0)},removeAuthTokenListener:function(e){r.tokenListeners_=r.tokenListeners_.filter((function(t){return t!==e}))},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){e.firebase_.INTERNAL.removeApp(e.name_);for(var t=[],n=0,r=Object.keys(e.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(e.services_[i]);o<a.length;o++){var s=a[o];t.push(e.services_[i][s])}return Promise.all(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))})).then((function(){e.isDeleted_=!0,e.services_={}}))},e.prototype._getService=function(e,t){if(void 0===t&&(t=c),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==c?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=c),this.services_[e]&&this.services_[e][t]&&delete this.services_[e][t]},e.prototype.extendApp=function(e){if(o.deepExtend(this,e),e.INTERNAL){if(e.INTERNAL.addAuthTokenListener){for(var t=0,n=this.tokenListeners_;t<n.length;t++){var r=n[t];this.INTERNAL.addAuthTokenListener(r)}this.tokenListeners_=[]}if(e.INTERNAL.analytics){for(var i=0,a=this.analyticsEventRequests_;i<a.length;i++){var s=a[i];this.INTERNAL.analytics.logEvent.apply(void 0,s)}this.analyticsEventRequests_=[]}}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},e}();l.prototype.name&&l.prototype.options||l.prototype.delete||console.log("dc");var h="7.2.0",f=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function e(){var t=function(e){var t={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!==typeof r||null===r){r={name:r}}var a=r;void 0===a.name&&(a.name=c);var s=a.name;if("string"!==typeof s||!s)throw u.create("bad-app-name",{appName:String(s)});if(o.contains(t,s))throw u.create("duplicate-app",{appName:s});var h=new e(n,a,i);return t[s]=h,l(h,"create"),h},app:a,apps:null,SDK_VERSION:h,INTERNAL:{registerService:function(t,c,l,h,d){void 0===d&&(d=!1);if(n[t])return f.debug("There were multiple attempts to register service "+t+"."),i[t];n[t]=c,h&&(r[t]=h,s().forEach((function(e){h("create",e)})));function p(e){if(void 0===e&&(e=a()),"function"!==typeof e[t])throw u.create("invalid-app-argument",{appName:t});return e[t]()}void 0!==l&&o.deepExtend(p,l);return i[t]=p,e.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._getService.bind(this,t);return r.apply(this,d?e:[])},p},removeApp:function(e){l(t[e],"delete"),delete t[e]},factories:n,useAsService:d}};function a(e){if(e=e||c,!o.contains(t,e))throw u.create("no-app",{appName:e});return t[e]}function s(){return Object.keys(t).map((function(e){return t[e]}))}function l(e,t){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=d(e,o[i]);if(null===a)return;r[a]&&r[a](t,e)}}function d(e,t){return"serverAuth"===t?null:t}return i.default=i,Object.defineProperty(i,"apps",{get:s}),a.App=e,i}(l);return t.INTERNAL=i.__assign(i.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){o.deepExtend(t,e)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),t}(),m=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,e)};var y=p;t.default=y,t.firebase=y},function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return Pe})),n.d(t,"b",(function(){return Oe}));var c=function(){},l={},h={},f={mark:c,measure:c};try{"undefined"!==typeof window&&(l=window),"undefined"!==typeof document&&(h=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(f=performance)}catch(Re){}var d=(l.navigator||{}).userAgent,p=void 0===d?"":d,m=l,y=h,v=f,g=(m.document,!!y.documentElement&&!!y.head&&"function"===typeof y.addEventListener&&"function"===typeof y.createElement),b=(~p.indexOf("MSIE")||p.indexOf("Trident/"),"fa"),w="svg-inline--fa",E="data-fa-i2svg",T=(function(){try{}catch(Re){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),S=T.concat([11,12,13,14,15,16,17,18,19,20]),I={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},k=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",I.GROUP,I.SWAP_OPACITY,I.PRIMARY,I.SECONDARY].concat(T.map((function(e){return"".concat(e,"x")}))).concat(S.map((function(e){return"w-".concat(e)}))),m.FontAwesomeConfig||{});if(y&&"function"===typeof y.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=u(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=y.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(k[r]=i)}))}var C=s({},{familyPrefix:b,replacementClass:w,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},k);C.autoReplaceSvg||(C.observeMutations=!1);var N=s({},C);m.FontAwesomeConfig=N;var A=m||{};A.___FONT_AWESOME___||(A.___FONT_AWESOME___={}),A.___FONT_AWESOME___.styles||(A.___FONT_AWESOME___.styles={}),A.___FONT_AWESOME___.hooks||(A.___FONT_AWESOME___.hooks={}),A.___FONT_AWESOME___.shims||(A.___FONT_AWESOME___.shims=[]);var _=A.___FONT_AWESOME___,D=[];g&&((y.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(y.readyState)||y.addEventListener("DOMContentLoaded",(function e(){y.removeEventListener("DOMContentLoaded",e),1,D.map((function(e){return e()}))})));var x,O="pending",P="settled",R="fulfilled",M="rejected",L=function(){},F="undefined"!==typeof e&&"undefined"!==typeof e.process&&"function"===typeof e.process.emit,U="undefined"===typeof r?setTimeout:r,V=[];function q(){for(var e=0;e<V.length;e++)V[e][0](V[e][1]);V=[],x=!1}function B(e,t){V.push([e,t]),x||(x=!0,U(q,0))}function j(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"===typeof i){n=R;try{r=i(r)}catch(Re){Q(o,Re)}}z(o,r)||(n===R&&W(o,r),n===M&&Q(o,r))}function z(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===i(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?K(e,r):W(e,r))}),(function(t){n||(n=!0,Q(e,t))})),!0}}catch(Re){return n||Q(e,Re),!0}return!1}function W(e,t){e!==t&&z(e,t)||K(e,t)}function K(e,t){e._state===O&&(e._state=P,e._data=t,B(H,e))}function Q(e,t){e._state===O&&(e._state=P,e._data=t,B(Y,e))}function G(e){e._then=e._then.forEach(j)}function H(e){e._state=R,G(e)}function Y(t){t._state=M,G(t),!t._handled&&F&&e.process.emit("unhandledRejection",t._data,t)}function X(t){e.process.emit("rejectionHandled",t)}function $(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof $===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){Q(t,e)}try{e((function(e){W(t,e)}),n)}catch(Re){n(Re)}}(e,this)}$.prototype={constructor:$,_state:O,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(L),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===M&&F&&B(X,this)),this._state===R||this._state===M?B(j,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},$.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new $((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"===typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)}))},$.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new $((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},$.resolve=function(e){return e&&"object"===i(e)&&e.constructor===$?e:new $((function(t){t(e)}))},$.reject=function(e){return new $((function(t,n){n(e)}))};"function"===typeof Promise&&Promise;var J={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Z(e){if(e&&g){var t=y.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=y.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return y.head.insertBefore(t,r),e}}var ee="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function te(){for(var e=12,t="";e-- >0;)t+=ee[62*Math.random()|0];return t}function ne(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function re(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function ie(e){return e.size!==J.size||e.x!==J.x||e.y!==J.y||e.rotate!==J.rotate||e.flipX||e.flipY}function oe(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(a," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var ae={x:0,y:0,width:"100%",height:"100%"};function se(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function ue(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,u=e.symbol,c=e.title,l=e.extra,h=e.watchable,f=void 0!==h&&h,d=r.found?r:n,p=d.width,m=d.height,y="fa-w-".concat(Math.ceil(p/m*16)),v=[N.replacementClass,o?"".concat(N.familyPrefix,"-").concat(o):"",y].filter((function(e){return-1===l.classes.indexOf(e)})).concat(l.classes).join(" "),g={children:[],attributes:s({},l.attributes,{"data-prefix":i,"data-icon":o,class:v,role:l.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})};f&&(g.attributes[E]=""),c&&g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(te())},children:[c]});var b=s({},g,{prefix:i,iconName:o,main:n,mask:r,transform:a,symbol:u,styles:l.styles}),w=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,a=e.transform,u=i.width,c=i.icon,l=o.width,h=o.icon,f=oe({transform:a,containerWidth:l,iconWidth:u}),d={tag:"rect",attributes:s({},ae,{fill:"white"})},p=c.children?{children:c.children.map(se)}:{},m={tag:"g",attributes:s({},f.inner),children:[se(s({tag:c.tag,attributes:s({},c.attributes,f.path)},p))]},y={tag:"g",attributes:s({},f.outer),children:[m]},v="mask-".concat(te()),g="clip-".concat(te()),b={tag:"mask",attributes:s({},ae,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,y]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=h,"g"===t.tag?t.children:[t])},b]};return n.push(w,{tag:"rect",attributes:s({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(v,")")},ae)}),{children:n,attributes:r}}(b):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=re(e.styles);if(o.length>0&&(n.style=o),ie(i)){var a=oe({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:s({},a.outer),children:[{tag:"g",attributes:s({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:s({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(b),T=w.children,S=w.attributes;return b.children=T,b.attributes=S,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:s({},i,{id:!0===o?"".concat(t,"-").concat(N.familyPrefix,"-").concat(n):o}),children:r}]}]}(b):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(ie(a)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=re(s({},o,{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(b)}var ce=function(){},le=(N.measurePerformance&&v&&v.mark&&v.measure,function(e,t,n,r){var i,o,a,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<u;i++)a=c(a,e[o=s[i]],o,e);return a});function he(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof _.hooks.addPack||r?_.styles[e]=s({},_.styles[e]||{},i):_.hooks.addPack(e,i),"fas"===e&&he("fa",t)}var fe=_.styles,de=_.shims,pe=function(){var e=function(e){return le(fe,(function(t,n,r){return t[r]=le(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in fe;le(de,(function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e}),{})};pe();_.styles;function me(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function ye(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"===typeof e?ne(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(ne(e[n]),'" ')}),"").trim()}(r),">").concat(o.map(ye).join(""),"</").concat(t,">")}var ve=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function ge(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge;var be={fill:"currentColor"},we={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ee={tag:"path",attributes:s({},be,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Te=s({},we,{attributeName:"opacity"});s({},be,{cx:"256",cy:"364",r:"28"}),s({},we,{attributeName:"r",values:"28;14;28;28;14;28;"}),s({},Te,{values:"1;0;1;1;0;1;"}),s({},be,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),s({},Te,{values:"1;0;0;0;0;1;"}),s({},be,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),s({},Te,{values:"0;0;1;1;0;0;"}),_.styles;function Se(e){var t=e[0],n=e[1],r=u(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(N.familyPrefix,"-").concat(I.GROUP)},children:[{tag:"path",attributes:{class:"".concat(N.familyPrefix,"-").concat(I.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(N.familyPrefix,"-").concat(I.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}_.styles;var Ie='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function ke(){var e=b,t=w,n=N.familyPrefix,r=N.replacementClass,i=Ie;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}function Ce(){N.autoAddCss&&!xe&&(Z(ke()),xe=!0)}function Ne(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return ye(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(g){var t=y.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Ae(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return me(De.definitions,n,r)||me(_.styles,n,r)}var _e,De=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=s({},e.definitions[t]||{},i[t]),he(t,i[t]),pe()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a})),e}}])&&o(t.prototype,n),r&&o(t,r),e}()),xe=!1,Oe={transform:function(e){return ve(e)}},Pe=(_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?J:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,u=void 0===a?null:a,c=t.title,l=void 0===c?null:c,h=t.classes,f=void 0===h?[]:h,d=t.attributes,p=void 0===d?{}:d,m=t.styles,y=void 0===m?{}:m;if(e){var v=e.prefix,g=e.iconName,b=e.icon;return Ne(s({type:"icon"},e),(function(){return Ce(),N.autoA11y&&(l?p["aria-labelledby"]="".concat(N.replacementClass,"-title-").concat(te()):(p["aria-hidden"]="true",p.focusable="false")),ue({icons:{main:Se(b),mask:u?Se(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:g,transform:s({},J,r),symbol:o,title:l,extra:{attributes:p,styles:y,classes:f}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Ae(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Ae(r||{})),_e(n,s({},t,{mask:r}))})}).call(this,n(9),n(37).setImmediate)},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(42);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],m=n[2],y=n[3],v=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var E=null!=m&&null!=p&&p!==m,T="+"===b||"*"===b,S="?"===b||"*"===b,I=n[2]||l,k=v||g;r.push({name:y||o++,prefix:m||"",delimiter:I,optional:S,repeat:T,partial:E,asterisk:!!w,pattern:k?c(k):w?".*":"[^"+u(I)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!t[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!t[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={prefix:"far",iconName:"edit",icon:[576,512,[],"f044","M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"]},i={prefix:"far",iconName:"trash-alt",icon:[448,512,[],"f2ed","M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"]}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return g})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return T})),n.d(t,"__importDefault",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";e.exports=n(43)},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(29)},function(e,t,n){"use strict";var r,i=(r=n(14))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=i},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(9))},function(e,t,n){"use strict";var r=n(21),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),m=u(n),y=0;y<a.length;++y){var v=a[y];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var g=f(n,v);try{c(t,v,g)}catch(b){}}}return t}return t}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";var r=n(19),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function E(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function T(){}function S(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw g(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=E.prototype;var I=S.prototype=new T;I.constructor=S,r(I,E.prototype),I.isPureReactComponent=!0;var k={current:null},C={suspense:null},N={current:null},A=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:N.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var O=/\/+/g,P=[];function R(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+F(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+F(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+F(s,c++),r,i);else if("object"===s)throw r=""+t,g(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function U(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?q(e,r,n,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function q(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),L(e,V,t=R(t,o,r,i)),M(t)}function B(){var e=k.current;if(null===e)throw g(Error(321));return e}var j={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return q(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,U,t=R(null,null,t,n)),M(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return q(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw g(Error(143));return e}},createRef:function(){return{current:null}},Component:E,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:y,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,Profiler:c,StrictMode:u,Suspense:d,unstable_SuspenseList:p,createElement:D,cloneElement:function(e,t,n){if(null===e||void 0===e)throw g(Error(267),e);var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)A.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(e){var t=D.bind(null,e);return t.type=e,t},isValidElement:x,version:"16.10.2",unstable_withSuspenseConfig:function(e,t){var n=C.suspense;C.suspense=void 0===t?null:t;try{e()}finally{C.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:k,ReactCurrentBatchConfig:C,ReactCurrentOwner:N,IsSomeRendererActing:{current:!1},assign:r}},z={default:j},W=z&&j||z;e.exports=W.default||W},function(e,t,n){"use strict";var r=n(0),i=n(19),o=n(30);function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw a(Error(227));var s=null,u={};function c(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!h[n]){if(!t.extractEvents)throw a(Error(97),e);for(var r in h[n]=t,n=t.eventTypes){var i=void 0,o=n[r],c=t,d=r;if(f.hasOwnProperty(d))throw a(Error(99),d);f[d]=o;var p=o.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&l(p[i],c,d);i=!0}else o.registrationName?(l(o.registrationName,c,d),i=!0):i=!1;if(!i)throw a(Error(98),r,e)}}}}function l(e,t,n){if(d[e])throw a(Error(100),e);d[e]=t,p[e]=t.eventTypes[n].dependencies}var h=[],f={},d={},p={};function m(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var y=!1,v=null,g=!1,b=null,w={onError:function(e){y=!0,v=e}};function E(e,t,n,r,i,o,a,s,u){y=!1,v=null,m.apply(w,arguments)}var T=null,S=null,I=null;function k(e,t,n){var r=e.type||"unknown-event";e.currentTarget=I(n),function(e,t,n,r,i,o,s,u,c){if(E.apply(this,arguments),y){if(!y)throw a(Error(198));var l=v;y=!1,v=null,g||(g=!0,b=l)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function N(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var A=null;function _(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)k(e,t[r],n[r]);else t&&k(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function D(e){if(null!==e&&(A=C(A,e)),e=A,A=null,e){if(N(e,_),A)throw a(Error(95));if(g)throw e=b,g=!1,b=null,e}}var x={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw a(Error(102),t);u[t]=r,n=!0}}n&&c()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=T(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw a(Error(231),t,typeof n);return n}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;P.hasOwnProperty("ReactCurrentDispatcher")||(P.ReactCurrentDispatcher={current:null}),P.hasOwnProperty("ReactCurrentBatchConfig")||(P.ReactCurrentBatchConfig={suspense:null});var R=/^(.*)[\\\/]/,M="function"===typeof Symbol&&Symbol.for,L=M?Symbol.for("react.element"):60103,F=M?Symbol.for("react.portal"):60106,U=M?Symbol.for("react.fragment"):60107,V=M?Symbol.for("react.strict_mode"):60108,q=M?Symbol.for("react.profiler"):60114,B=M?Symbol.for("react.provider"):60109,j=M?Symbol.for("react.context"):60110,z=M?Symbol.for("react.concurrent_mode"):60111,W=M?Symbol.for("react.forward_ref"):60112,K=M?Symbol.for("react.suspense"):60113,Q=M?Symbol.for("react.suspense_list"):60120,G=M?Symbol.for("react.memo"):60115,H=M?Symbol.for("react.lazy"):60116;M&&Symbol.for("react.fundamental"),M&&Symbol.for("react.responder"),M&&Symbol.for("react.scope");var Y="function"===typeof Symbol&&Symbol.iterator;function X(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function $(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case U:return"Fragment";case F:return"Portal";case q:return"Profiler";case V:return"StrictMode";case K:return"Suspense";case Q:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return"Context.Consumer";case B:return"Context.Provider";case W:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case G:return $(e.type);case H:if(e=1===e._status?e._result:null)return $(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=$(e.type);n=null,r&&(n=$(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(R,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Z=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=S(e)){if("function"!==typeof ee)throw a(Error(280));var t=T(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function ue(){}var ce=ae,le=!1,he=!1;function fe(){null===te&&null===ne||(ue(),oe())}new Map,new Map,new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,me={},ye={};function ve(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ge[e]=new ve(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ge[t]=new ve(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ge[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ge[e]=new ve(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ge[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ge[e]=new ve(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ge[e]=new ve(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ge[e]=new ve(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ge[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function Ee(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Te(e,t,n,r){var i=ge.hasOwnProperty(t)?ge[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!pe.call(ye,e)||!pe.call(me,e)&&(de.test(e)?ye[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ie(e){e._valueTracker||(e._valueTracker=function(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ce(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ne(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ee(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ae(e,t){null!=(t=t.checked)&&Te(e,"checked",t,!1)}function _e(e,t){Ae(e,t);var n=Ee(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?xe(e,t.type,n):t.hasOwnProperty("defaultValue")&&xe(e,t.type,Ee(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function De(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function xe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ee(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:Ee(n)}}function Le(e,t){var n=Ee(t.value),r=Ee(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,we);ge[t]=new ve(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,we);ge[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,we);ge[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ge[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)})),ge.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ge[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)}));var Ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ve(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ve(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,je=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ue.svg||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ze(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function We(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ke={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Qe={},Ge={};function He(e){if(Qe[e])return Qe[e];if(!Ke[e])return e;var t,n=Ke[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Qe[e]=n[t];return e}Z&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ke.animationend.animation,delete Ke.animationiteration.animation,delete Ke.animationstart.animation),"TransitionEvent"in window||delete Ke.transitionend.transition);var Ye=He("animationend"),Xe=He("animationiteration"),$e=He("animationstart"),Je=He("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),et=!1,tt=[],nt=null,rt=null,it=null,ot=new Map,at=new Map,st="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ut="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ct(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function lt(e,t){switch(e){case"focus":case"blur":nt=null;break;case"dragenter":case"dragleave":rt=null;break;case"mouseover":case"mouseout":it=null;break;case"pointerover":case"pointerout":ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":at.delete(t.pointerId)}}function ht(e,t,n,r,i){return null===e||e.nativeEvent!==i?ct(t,n,r,i):(e.eventSystemFlags|=r,e)}function ft(e){if(null!==e.blockedOn)return!1;var t=Cn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);return null===t||(e.blockedOn=t,!1)}function dt(e,t,n){ft(e)&&n.delete(t)}function pt(){for(et=!1;0<tt.length;){var e=tt[0];if(null!==e.blockedOn)break;var t=Cn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:tt.shift()}null!==nt&&ft(nt)&&(nt=null),null!==rt&&ft(rt)&&(rt=null),null!==it&&ft(it)&&(it=null),ot.forEach(dt),at.forEach(dt)}function mt(e,t){e.blockedOn===t&&(e.blockedOn=null,et||(et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,pt)))}function yt(e){function t(t){return mt(t,e)}if(0<tt.length){mt(tt[0],e);for(var n=1;n<tt.length;n++){var r=tt[n];r.blockedOn===e&&(r.blockedOn=null)}}null!==nt&&mt(nt,e),null!==rt&&mt(rt,e),null!==it&&mt(it,e),ot.forEach(t),at.forEach(t)}var vt=0,gt=2,bt=1024;function wt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{((t=e).effectTag&(gt|bt))!==vt&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Et(e){if(wt(e)!==e)throw a(Error(188))}function Tt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=wt(e)))throw a(Error(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Et(i),e;if(o===r)return Et(i),t;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function St(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function It(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function kt(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Ct(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=It(t);for(t=n.length;0<t--;)kt(n[t],"captured",e);for(t=0;t<n.length;t++)kt(n[t],"bubbled",e)}}function Nt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function At(e){e&&e.dispatchConfig.registrationName&&Nt(e._targetInst,null,e)}function _t(e){N(e,Ct)}function Dt(){return!0}function xt(){return!1}function Ot(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Dt:xt,this.isPropagationStopped=xt,this}function Pt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Rt(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Mt(e){e.eventPool=[],e.getPooled=Pt,e.release=Rt}i(Ot.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Dt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Dt)},persist:function(){this.isPersistent=Dt},isPersistent:xt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=xt,this._dispatchInstances=this._dispatchListeners=null}}),Ot.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ot.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Mt(n),n},Mt(Ot);var Lt=Ot.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ft=Ot.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ut=Ot.extend({view:null,detail:null}),Vt=Ut.extend({relatedTarget:null});function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Kt(){return Wt}for(var Qt=Ut.extend({key:function(e){if(e.key){var t=Bt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kt,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gt=0,Ht=0,Yt=!1,Xt=!1,$t=Ut.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,Yt?"mousemove"===e.type?e.screenX-t:0:(Yt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ht;return Ht=e.screenY,Xt?"mousemove"===e.type?e.screenY-t:0:(Xt=!0,0)}}),Jt=$t.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt=$t.extend({dataTransfer:null}),en=Ut.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kt}),tn=Ot.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),nn=$t.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),rn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ye,"animationEnd",2],[Xe,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],on={},an={},sn=0;sn<rn.length;sn++){var un=rn[sn],cn=un[0],ln=un[1],hn=un[2],fn="on"+(ln[0].toUpperCase()+ln.slice(1)),dn={phasedRegistrationNames:{bubbled:fn,captured:fn+"Capture"},dependencies:[cn],eventPriority:hn};on[ln]=dn,an[cn]=dn}var pn={eventTypes:on,getEventPriority:function(e){return void 0!==(e=an[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=an[e];if(!i)return null;switch(e){case"keypress":if(0===qt(n))return null;case"keydown":case"keyup":e=Qt;break;case"blur":case"focus":e=Vt;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=$t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=en;break;case Ye:case Xe:case $e:e=Lt;break;case Je:e=tn;break;case"scroll":e=Ut;break;case"wheel":e=nn;break;case"copy":case"cut":case"paste":e=Ft;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=Ot}return _t(t=e.getPooled(i,t,n,r)),t}},mn=pn.getEventPriority,yn=10,vn=[];function gn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=sr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=St(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,u=0;u<h.length;u++){var c=h[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=C(s,c))}D(s)}}var bn=!0;function wn(e,t){En(t,e,!1)}function En(e,t,n){switch(mn(t)){case 0:var r=Tn.bind(null,t,1);break;case 1:r=Sn.bind(null,t,1);break;default:r=kn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Tn(e,t,n){le||ue();var r=kn,i=le;le=!0;try{se(r,e,t,n)}finally{(le=i)||fe()}}function Sn(e,t,n){kn(e,t,n)}function In(e,t,n,r){if(vn.length){var i=vn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=gn,n=e,he)t(n,void 0);else{he=!0;try{ce(t,n,void 0)}finally{he=!1,fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,vn.length<yn&&vn.push(e)}}function kn(e,t,n){if(bn)if(0<tt.length&&-1<st.indexOf(e))e=ct(null,e,t,n),tt.push(e);else{var r=Cn(e,t,n);null===r?lt(e,n):-1<st.indexOf(e)?(e=ct(r,e,t,n),tt.push(e)):function(e,t,n,r){switch(t){case"focus":return nt=ht(nt,e,t,n,r),!0;case"dragenter":return rt=ht(rt,e,t,n,r),!0;case"mouseover":return it=ht(it,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return ot.set(i,ht(ot.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,at.set(i,ht(at.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(lt(e,n),In(e,t,n,null))}}function Cn(e,t,n){var r=St(n),i=sr(r);if(null!==i)if(null===(r=wt(i)))i=null;else{var o=r.tag;if(13===o){if(null!==(r=13!==r.tag||(null===(i=r.memoizedState)&&(null!==(r=r.alternate)&&(i=r.memoizedState)),null===i)?null:i.dehydrated))return r;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}return In(e,t,n,i),null}function Nn(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var An=new("function"===typeof WeakMap?WeakMap:Map);function _n(e){var t=An.get(e);return void 0===t&&(t=new Set,An.set(e,t)),t}function Dn(e,t,n){if(!n.has(e)){switch(e){case"scroll":En(t,"scroll",!0);break;case"focus":case"blur":En(t,"focus",!0),En(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Nn(e)&&En(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&wn(e,t)}n.add(e)}}var xn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},On=["Webkit","ms","Moz","O"];function Pn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||xn.hasOwnProperty(e)&&xn[e]?(""+t).trim():t+"px"}function Rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Pn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(xn).forEach((function(e){On.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xn[t]=xn[e]}))}));var Mn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(e,t){if(t){if(Mn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!==typeof t.style)throw a(Error(62),"")}}function Fn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Un(e,t){var n=_n(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++)Dn(t[r],e,n)}function Vn(){}function qn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Bn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jn(e,t){var n,r=Bn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bn(r)}}function zn(){for(var e=window,t=qn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=qn((e=t.contentWindow).document)}return t}function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kn="$",Qn="/$",Gn="$?",Hn="$!",Yn=null,Xn=null;function $n(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Jn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zn="function"===typeof setTimeout?setTimeout:void 0,er="function"===typeof clearTimeout?clearTimeout:void 0;function tr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function nr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Kn||n===Hn||n===Gn){if(0===t)return e;t--}else n===Qn&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+rr,or="__reactEventHandlers$"+rr,ar="__reactContainere$"+rr;function sr(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=nr(e);null!==e;){if(n=e[ir])return n;e=nr(e)}return t}n=(e=n).parentNode}return null}function ur(e){return!(e=e[ir]||e[ar])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function cr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function lr(e){return e[or]||null}var hr=null,fr=null,dr=null;function pr(){if(dr)return dr;var e,t,n=fr,r=n.length,i="value"in hr?hr.value:hr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return dr=i.slice(e,1<t?1-t:void 0)}var mr=Ot.extend({data:null}),yr=Ot.extend({data:null}),vr=[9,13,27,32],gr=Z&&"CompositionEvent"in window,br=null;Z&&"documentMode"in document&&(br=document.documentMode);var wr=Z&&"TextEvent"in window&&!br,Er=Z&&(!gr||br&&8<br&&11>=br),Tr=String.fromCharCode(32),Sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ir=!1;function kr(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nr=!1;var Ar={eventTypes:Sr,extractEvents:function(e,t,n,r){var i;if(gr)e:{switch(e){case"compositionstart":var o=Sr.compositionStart;break e;case"compositionend":o=Sr.compositionEnd;break e;case"compositionupdate":o=Sr.compositionUpdate;break e}o=void 0}else Nr?kr(e,n)&&(o=Sr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Sr.compositionStart);return o?(Er&&"ko"!==n.locale&&(Nr||o!==Sr.compositionStart?o===Sr.compositionEnd&&Nr&&(i=pr()):(fr="value"in(hr=r)?hr.value:hr.textContent,Nr=!0)),o=mr.getPooled(o,t,n,r),i?o.data=i:null!==(i=Cr(n))&&(o.data=i),_t(o),i=o):i=null,(e=wr?function(e,t){switch(e){case"compositionend":return Cr(t);case"keypress":return 32!==t.which?null:(Ir=!0,Tr);case"textInput":return(e=t.data)===Tr&&Ir?null:e;default:return null}}(e,n):function(e,t){if(Nr)return"compositionend"===e||!gr&&kr(e,t)?(e=pr(),dr=fr=hr=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=yr.getPooled(Sr.beforeInput,t,n,r)).data=e,_t(t)):t=null,null===i?t:null===t?i:[i,t]}},_r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_r[e.type]:"textarea"===t}var xr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Or(e,t,n){return(e=Ot.getPooled(xr.change,e,t,n)).type="change",ie(n),_t(e),e}var Pr=null,Rr=null;function Mr(e){D(e)}function Lr(e){if(ke(cr(e)))return e}function Fr(e,t){if("change"===e)return t}var Ur=!1;function Vr(){Pr&&(Pr.detachEvent("onpropertychange",qr),Rr=Pr=null)}function qr(e){if("value"===e.propertyName&&Lr(Rr))if(e=Or(Rr,e,St(e)),le)D(e);else{le=!0;try{ae(Mr,e)}finally{le=!1,fe()}}}function Br(e,t,n){"focus"===e?(Vr(),Rr=n,(Pr=t).attachEvent("onpropertychange",qr)):"blur"===e&&Vr()}function jr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Lr(Rr)}function zr(e,t){if("click"===e)return Lr(t)}function Wr(e,t){if("input"===e||"change"===e)return Lr(t)}Z&&(Ur=Nn("input")&&(!document.documentMode||9<document.documentMode));var Kr={eventTypes:xr,_isInputEventSupported:Ur,extractEvents:function(e,t,n,r){var i=t?cr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Fr;else if(Dr(i))if(Ur)a=Wr;else{a=jr;var s=Br}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=zr);if(a&&(a=a(e,t)))return Or(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&xe(i,"number",i.value)}},Qr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Gr={eventTypes:Qr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?sr(t):null)&&(t!==(o=wt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=$t,u=Qr.mouseLeave,c=Qr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Jt,u=Qr.pointerLeave,c=Qr.pointerEnter,l="pointer");if(e=null==a?i:cr(a),i=null==t?i:cr(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=i,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=i,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,e=0,a=s=r;a;a=It(a))e++;for(a=0,t=c;t;t=It(t))a++;for(;0<e-a;)s=It(s),e--;for(;0<a-e;)c=It(c),a--;for(;e--;){if(s===c||s===c.alternate)break e;s=It(s),c=It(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(e=r.alternate)||e!==c);)s.push(r),r=It(r);for(r=[];l&&l!==c&&(null===(e=l.alternate)||e!==c);)r.push(l),l=It(l);for(l=0;l<s.length;l++)Nt(s[l],"bubbled",u);for(l=r.length;0<l--;)Nt(r[l],"captured",n);return[u,n]}};var Hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Yr=Object.prototype.hasOwnProperty;function Xr(e,t){if(Hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Yr.call(t,n[r])||!Hr(e[n[r]],t[n[r]]))return!1;return!0}var $r=Z&&"documentMode"in document&&11>=document.documentMode,Jr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Zr=null,ei=null,ti=null,ni=!1;function ri(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ni||null==Zr||Zr!==qn(n)?null:("selectionStart"in(n=Zr)&&Wn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ti&&Xr(ti,n)?null:(ti=n,(e=Ot.getPooled(Jr.select,ei,e,t)).type="select",e.target=Zr,_t(e),e))}var ii={eventTypes:Jr,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=_n(o),i=p.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?cr(t):window,e){case"focus":(Dr(o)||"true"===o.contentEditable)&&(Zr=o,ei=t,ti=null);break;case"blur":ti=ei=Zr=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":return ni=!1,ri(n,r);case"selectionchange":if($r)break;case"keydown":case"keyup":return ri(n,r)}return null}};x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),T=lr,S=ur,I=cr,x.injectEventPluginsByName({SimpleEventPlugin:pn,EnterLeaveEventPlugin:Gr,ChangeEventPlugin:Kr,SelectEventPlugin:ii,BeforeInputEventPlugin:Ar}),new Set;var oi=[],ai=-1;function si(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ui(e,t){oi[++ai]=e.current,e.current=t}var ci={},li={current:ci},hi={current:!1},fi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(e){si(hi),si(li)}function yi(e){si(hi),si(li)}function vi(e,t,n){if(li.current!==ci)throw a(Error(168));ui(li,t),ui(hi,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw a(Error(108),$(t)||"Unknown",o);return i({},n,{},r)}function bi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ci,fi=li.current,ui(li,t),ui(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw a(Error(169));n?(t=gi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=t,si(hi),si(li),ui(li,t)):si(hi),ui(hi,n)}var Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ci=o.unstable_now,Ni=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,_i=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,xi=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Pi={},Ri=void 0!==ki?ki:function(){},Mi=null,Li=null,Fi=!1,Ui=Ci(),Vi=1e4>Ui?Ci:function(){return Ci()-Ui};function qi(){switch(Ni()){case Ai:return 99;case _i:return 98;case Di:return 97;case xi:return 96;case Oi:return 95;default:throw a(Error(332))}}function Bi(e){switch(e){case 99:return Ai;case 98:return _i;case 97:return Di;case 96:return xi;case 95:return Oi;default:throw a(Error(332))}}function ji(e,t){return e=Bi(e),Ei(e,t)}function zi(e,t,n){return e=Bi(e),Ti(e,t,n)}function Wi(e){return null===Mi?(Mi=[e],Li=Ti(Ai,Qi)):Mi.push(e),Pi}function Ki(){if(null!==Li){var e=Li;Li=null,Si(e)}Qi()}function Qi(){if(!Fi&&null!==Mi){Fi=!0;var e=0;try{var t=Mi;ji(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Mi=null}catch(n){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ti(Ai,Ki),n}finally{Fi=!1}}}function Gi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Hi={current:null},Yi=null,Xi=null,$i=null;function Ji(){$i=Xi=Yi=null}function Zi(e,t){var n=e.type._context;ui(Hi,n._currentValue),n._currentValue=t}function eo(e){var t=Hi.current;si(Hi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Yi=e,$i=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Da=!0),e.firstContext=null)}function ro(e,t){if($i!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||($i=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Yi)throw a(Error(308));Xi=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var io=!1;function oo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ao(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function so(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function uo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function co(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=oo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=oo(e.memoizedState),i=n.updateQueue=oo(n.memoizedState)):r=e.updateQueue=ao(i):null===i&&(i=n.updateQueue=ao(r));null===i||r===i?uo(r,t):null===r.lastUpdate||null===i.lastUpdate?(uo(r,t),uo(i,t)):(uo(r,t),i.lastUpdate=t)}function lo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=oo(e.memoizedState):ho(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ho(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=ao(t)),t}function fo(e,t,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case 2:io=!0}return r}function po(e,t,n,r,i){io=!1;for(var o=(t=ho(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l<i?(null===a&&(a=u,o=c),s<l&&(s=l)):(yu(l,u.suspenseConfig),c=fo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h<i?(null===l&&(l=u,null===a&&(o=c)),s<h&&(s=h)):(c=fo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,vu(s),e.expirationTime=s,e.memoizedState=c}function mo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),yo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,yo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function yo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!==typeof n)throw a(Error(191),n);n.call(r)}e=e.nextEffect}}var vo=P.ReactCurrentBatchConfig,go=(new r.Component).refs;function bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var wo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&wt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Js(),i=vo.suspense;(i=so(r=Zs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),co(e,i),nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Js(),i=vo.suspense;(i=so(r=Zs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),co(e,i),nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Js(),r=vo.suspense;(r=so(n=Zs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),co(e,r),nu(e,n)}};function Eo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xr(n,r)||!Xr(i,o))}function To(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(t)?fi:li.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function Io(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go;var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(t)?fi:li.current,i.context=di(e,o)),null!==(o=e.updateQueue)&&(po(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wo.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(po(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var ko=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw a(Error(309));var r=n.stateNode}if(!r)throw a(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function No(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Fu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=gt,n):r:(t.effectTag=gt,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=gt),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Uu(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case L:return(n=Uu(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case F:return(t=Bu(t,e.mode,n)).return=e,t}if(ko(t)||X(t))return(t=Vu(t,e.mode,n,null)).return=e,t;No(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case L:return n.key===i?n.type===U?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case F:return n.key===i?l(e,t,n,r):null}if(ko(n)||X(n))return null!==i?null:h(e,t,n,r,null);No(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case L:return e=e.get(null===r.key?n:r.key)||null,r.type===U?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case F:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||X(r))return h(t,e=e.get(n)||null,r,i,null);No(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,y=null;null!==h&&m<s.length;m++){h.index>m?(y=h,h=null):y=h.sibling;var v=d(i,h,s[m],u);if(null===v){null===h&&(h=y);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v,h=y}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)null!==(y=p(h,i,m,s[m],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=X(u);if("function"!==typeof l)throw a(Error(150));if(null==(u=l.call(u)))throw a(Error(151));for(var h=l=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=d(i,m,g.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===h?l=b:h.sibling=b,h=b,m=v}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=f(i,g.value,c))&&(s=o(g,s,y),null===h?l=g:h.sibling=g,h=g);return l}for(m=r(i,m);!g.done;y++,g=u.next())null!==(g=p(m,i,y,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===h?l=g:h.sibling=g,h=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===U&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case L:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===U:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===U?o.props.children:o.props)).ref=Co(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===U?((r=Vu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Uu(o.type,o.key,o.props,null,e.mode,u)).ref=Co(e,r,o),u.return=e,e=u)}return s(e);case F:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Bu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=qu(o,e.mode,u)).return=e,e=r),s(e);if(ko(o))return m(e,r,o,u);if(X(o))return y(e,r,o,u);if(l&&No(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var _o=Ao(!0),Do=Ao(!1),xo={},Oo={current:xo},Po={current:xo},Ro={current:xo};function Mo(e){if(e===xo)throw a(Error(174));return e}function Lo(e,t){ui(Ro,t),ui(Po,e),ui(Oo,xo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qe(null,"");break;default:t=qe(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}si(Oo),ui(Oo,t)}function Fo(e){si(Oo),si(Po),si(Ro)}function Uo(e){Mo(Ro.current);var t=Mo(Oo.current),n=qe(t,e.type);t!==n&&(ui(Po,e),ui(Oo,n))}function Vo(e){Po.current===e&&(si(Oo),si(Po))}var qo={current:0};function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Gn||n.data===Hn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if((64&t.effectTag)!==vt)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jo(e,t){return{responder:e,props:t}}var zo=P.ReactCurrentDispatcher,Wo=0,Ko=null,Qo=null,Go=null,Ho=null,Yo=null,Xo=null,$o=0,Jo=null,Zo=0,ea=!1,ta=null,na=0;function ra(){throw a(Error(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Hr(e[n],t[n]))return!1;return!0}function oa(e,t,n,r,i,o){if(Wo=o,Ko=t,Go=null!==e?e.memoizedState:null,zo.current=null===Go?ga:ba,t=n(r,i),ea){do{ea=!1,na+=1,Go=null!==e?e.memoizedState:null,Xo=Ho,Jo=Yo=Qo=null,zo.current=ba,t=n(r,i)}while(ea);ta=null,na=0}if(zo.current=va,(e=Ko).memoizedState=Ho,e.expirationTime=$o,e.updateQueue=Jo,e.effectTag|=Zo,e=null!==Qo&&null!==Qo.next,Wo=0,Xo=Yo=Ho=Go=Qo=Ko=null,$o=0,Jo=null,Zo=0,e)throw a(Error(300));return t}function aa(){zo.current=va,Wo=0,Xo=Yo=Ho=Go=Qo=Ko=null,$o=0,Jo=null,Zo=0,ea=!1,ta=null,na=0}function sa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Yo?Ho=Yo=e:Yo=Yo.next=e,Yo}function ua(){if(null!==Xo)Xo=(Yo=Xo).next,Go=null!==(Qo=Go)?Qo.next:null;else{if(null===Go)throw a(Error(310));var e={memoizedState:(Qo=Go).memoizedState,baseState:Qo.baseState,queue:Qo.queue,baseUpdate:Qo.baseUpdate,next:null};Yo=null===Yo?Ho=e:Yo.next=e,Go=Qo.next}return Yo}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<na){var r=n.dispatch;if(null!==ta){var i=ta.get(n);if(void 0!==i){ta.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Hr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var h=c.expirationTime;h<Wo?(l||(l=!0,u=s,i=o),h>$o&&vu($o=h)):(yu(h,c.suspenseConfig),o=c.eagerReducer===e?c.eagerState:e(o,c.action)),s=c,c=c.next}while(null!==c&&c!==r);l||(u=s,i=o),Hr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Jo?(Jo={lastEffect:null}).lastEffect=e.next=e:null===(t=Jo.lastEffect)?Jo.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Jo.lastEffect=e),e}function fa(e,t,n,r){var i=sa();Zo|=e,i.memoizedState=ha(t,n,void 0,void 0===r?null:r)}function da(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==Qo){var a=Qo.memoizedState;if(o=a.destroy,null!==r&&ia(r,a.deps))return void ha(0,n,o,r)}Zo|=e,i.memoizedState=ha(t,n,o,r)}function pa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ma(){}function ya(e,t,n){if(!(25>na))throw a(Error(301));var r=e.alternate;if(e===Ko||null!==r&&r===Ko)if(ea=!0,e={expirationTime:Wo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===ta&&(ta=new Map),void 0===(n=ta.get(t)))ta.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=Js(),o=vo.suspense;o={expirationTime:i=Zs(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(o.eagerReducer=r,o.eagerState=l,Hr(l,c))return}catch(h){}nu(e,i)}}var va={readContext:ro,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useResponder:ra},ga={readContext:ro,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:function(e,t){return fa(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,fa(4,36,pa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4,36,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ya.bind(null,Ko,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sa().memoizedState=e},useState:function(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=ya.bind(null,Ko,e),[t.memoizedState,e]},useDebugValue:ma,useResponder:jo},ba={readContext:ro,useCallback:function(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:ro,useEffect:function(e,t){return da(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,da(4,36,pa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4,36,e,t)},useMemo:function(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:la,useRef:function(){return ua().memoizedState},useState:function(e){return la(ca)},useDebugValue:ma,useResponder:jo},wa=null,Ea=null,Ta=!1;function Sa(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(Ta){var t=Ea;if(t){var n=t;if(!Ia(e,t)){if(!(t=tr(n.nextSibling))||!Ia(e,t))return e.effectTag=e.effectTag&~bt|gt,Ta=!1,void(wa=e);Sa(wa,n)}wa=e,Ea=tr(t.firstChild)}else e.effectTag=e.effectTag&~bt|gt,Ta=!1,wa=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function Na(e){if(e!==wa)return!1;if(!Ta)return Ca(e),Ta=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Jn(t,e.memoizedProps))for(t=Ea;t;)Sa(e,t),t=tr(t.nextSibling);if(Ca(e),13===e.tag)if(null===(e=null!==(e=e.memoizedState)?e.dehydrated:null))e=Ea;else e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Qn){if(0===t){e=tr(e.nextSibling);break e}t--}else n!==Kn&&n!==Hn&&n!==Gn||t++}e=e.nextSibling}e=null}else e=wa?tr(e.stateNode.nextSibling):null;return Ea=e,!0}function Aa(){Ea=wa=null,Ta=!1}var _a=P.ReactCurrentOwner,Da=!1;function xa(e,t,n,r){t.child=null===e?Do(t,null,n,r):_o(t,e.child,n,r)}function Oa(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=oa(e,t,n,r,o,i),null===e||Da?(t.effectTag|=1,xa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ha(e,t,i))}function Pa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Lu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Xr)(i,r)&&e.ref===t.ref)?Ha(e,t,o):(t.effectTag|=1,(e=Fu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,n,r,i,o){return null!==e&&Xr(e.memoizedProps,r)&&e.ref===t.ref&&(Da=!1,i<o)?Ha(e,t,o):La(e,t,n,r,o)}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=pi(n)?fi:li.current;return o=di(t,o),no(t,i),n=oa(e,t,n,r,o,i),null===e||Da?(t.effectTag|=1,xa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ha(e,t,i))}function Fa(e,t,n,r,i){if(pi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=gt),To(t,n,r),Io(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=di(t,c=pi(n)?fi:li.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&So(t,a,r,c),io=!1;var f=t.memoizedState;u=a.state=f;var d=t.updateQueue;null!==d&&(po(t,d,r,a,i),u=t.memoizedState),s!==r||f!==u||hi.current||io?("function"===typeof l&&(bo(t,n,l,r),u=t.memoizedState),(s=io||Eo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Gi(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=di(t,c=pi(n)?fi:li.current),(h="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&So(t,a,r,c),io=!1,u=t.memoizedState,f=a.state=u,null!==(d=t.updateQueue)&&(po(t,d,r,a,i),f=t.memoizedState),s!==r||u!==f||hi.current||io?("function"===typeof l&&(bo(t,n,l,r),f=t.memoizedState),(l=io||Eo(t,n,s,r,u,f,c))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ua(e,t,n,r,o,i)}function Ua(e,t,n,r,i,o){Ma(e,t);var a=(64&t.effectTag)!==vt;if(!r&&!a)return i&&wi(t,n,!1),Ha(e,t,o);r=t.stateNode,_a.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,s,o)):xa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Va(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Lo(e,t.containerInfo)}var qa,Ba,ja,za,Wa={dehydrated:null,retryTime:1};function Ka(e,t,n){var r,i=t.mode,o=t.pendingProps,a=qo.current,s=!1;if((r=(64&t.effectTag)!==vt)||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ui(qo,1&a),null===e){if(s){if(s=o.fallback,(o=Vu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Vu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Wa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Do(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Fu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Fu(i,o,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Wa,t.child=n,i}return n=_o(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Vu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Vu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=gt,o.childExpirationTime=0,t.memoizedState=Wa,t.child=o,n}return t.memoizedState=null,t.child=_o(t,e,o.children,n)}function Qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xa(e,t,r.children,n),0!==(2&(r=qo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&(64&e.effectTag)!==vt)e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),to(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(qo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===Bo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===Bo(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}Qa(t,!0,n,null,o);break;case"together":Qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&vu(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=Fu(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fu(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ya(e){e.effectTag|=4}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e){switch(e.tag){case 1:pi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fo(),yi(),(64&(t=e.effectTag))!==vt)throw a(Error(285));return e.effectTag=-4097&t|64,e;case 5:return Vo(e),null;case 13:return si(qo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return si(qo),null;case 4:return Fo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:J(t)}}qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(){},ja=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(Mo(Oo.current),e=null,n){case"input":a=Ce(c,a),r=Ce(c,r),e=[];break;case"option":a=Oe(c,a),r=Oe(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Re(c,a),r=Re(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=Vn)}for(s in Ln(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(d.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,""+l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(d.hasOwnProperty(s)?(null!=l&&Un(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&Ya(t)}},za=function(e,t,n,r){n!==r&&Ya(t)};var Za="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=J(n)),null!==n&&$(n.type),t=t.value,null!==e&&1===e.tag&&$(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){_u(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:rs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}function rs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!==(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function is(e,t,n){switch("function"===typeof Pu&&Pu(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ji(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){_u(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){_u(e,n)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function os(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&os(t)}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:{for(var t=e.return;null!==t;){if(as(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(ze(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||as(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(n.effectTag&gt)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&gt)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=Vn)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function us(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw a(Error(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,h=c;;)if(is(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(is(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:rs(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[or]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ae(n,r),Fn(e,i),t=Fn(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Rn(n,u):"dangerouslySetInnerHTML"===s?je(n,u):"children"===s?ze(n,u):Te(n,s,u,t)}switch(e){case"input":_e(n,r);break;case"textarea":Le(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Pe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Pe(n,!!r.multiple,r.defaultValue,!0):Pe(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,yt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Vs=Vi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Pn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ls(t);break;case 19:ls(t);break;case 17:case 20:case 21:break;default:throw a(Error(163))}}function ls(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){js||(js=!0,zs=r),es(e,t)},n}function ds(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ps=Math.ceil,ms=P.ReactCurrentDispatcher,ys=P.ReactCurrentOwner,vs=0,gs=8,bs=16,ws=32,Es=0,Ts=1,Ss=2,Is=3,ks=4,Cs=5,Ns=6,As=vs,_s=null,Ds=null,xs=0,Os=Es,Ps=null,Rs=1073741823,Ms=1073741823,Ls=null,Fs=0,Us=!1,Vs=0,qs=500,Bs=null,js=!1,zs=null,Ws=null,Ks=!1,Qs=null,Gs=90,Hs=null,Ys=0,Xs=null,$s=0;function Js(){return(As&(bs|ws))!==vs?1073741821-(Vi()/10|0):0!==$s?$s:$s=1073741821-(Vi()/10|0)}function Zs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=qi();if(0===(4&t))return 99===r?1073741823:1073741822;if((As&bs)!==vs)return xs;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=2;break;default:throw a(Error(326))}return null!==_s&&e===xs&&--e,e}var eu,tu=0;function nu(e,t){if(50<Ys)throw Ys=0,Xs=null,a(Error(185));if(null!==(e=ru(e,t))){var n=qi();1073741823===t?(As&gs)!==vs&&(As&(bs|ws))===vs?su(e):(ou(e),As===vs&&Ki()):ou(e),(4&As)===vs||98!==n&&99!==n||(null===Hs?Hs=new Map([[e,t]]):(void 0===(n=Hs.get(e))||n>t)&&Hs.set(e,t))}}function ru(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(_s===i&&(vu(t),Os===ks&&Wu(i,xs)),Ku(i,t)),i}function iu(e){var t=e.lastExpiredTime;return 0!==t?t:zu(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function ou(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wi(su.bind(null,e));else{var t=iu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Js();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Pi&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wi(su.bind(null,e)):zi(r,au.bind(null,e),{timeout:10*(1073741821-t)-Vi()}),e.callbackNode=t}}}function au(e,t){if($s=0,t)return Qu(e,t=Js()),ou(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,(As&(bs|ws))!==vs)throw a(Error(327));if(Cu(),e===_s&&n===xs||du(e,n),null!==Ds){var r=As;As|=bs;for(var i=mu();;)try{bu();break}catch(u){pu(e,u)}if(Ji(),As=r,ms.current=i,Os===Ts)throw t=Ps,du(e,n),Wu(e,n),ou(e),t;if(null===Ds)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,cu(e,n),r=Os,_s=null,r){case Es:case Ts:throw a(Error(345));case Ss:if(2!==n){Qu(e,2);break}Su(e);break;case Is:if(Wu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Tu(i)),1073741823===Rs&&10<(i=Vs+qs-Vi())){if(Us){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,du(e,n);break}}if(0!==(o=iu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Zn(Su.bind(null,e),i);break}Su(e);break;case ks:if(Wu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Tu(i)),Us&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,du(e,n);break}if(0!==(i=iu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ms?r=10*(1073741821-Ms)-Vi():1073741823===Rs?r=0:(r=10*(1073741821-Rs)-5e3,0>(r=(i=Vi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ps(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Zn(Su.bind(null,e),r);break}Su(e);break;case Cs:if(1073741823!==Rs&&null!==Ls){o=Rs;var s=Ls;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Vi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Wu(e,n),e.timeoutHandle=Zn(Su.bind(null,e),r);break}}Su(e);break;case Ns:Wu(e,n);break;default:throw a(Error(329))}if(ou(e),e.callbackNode===t)return au.bind(null,e)}}return null}function su(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Su(e);else{if((As&(bs|ws))!==vs)throw a(Error(327));if(Cu(),e===_s&&t===xs||du(e,t),null!==Ds){var n=As;As|=bs;for(var r=mu();;)try{gu();break}catch(i){pu(e,i)}if(Ji(),As=n,ms.current=r,Os===Ts)throw n=Ps,du(e,t),Wu(e,t),ou(e),n;if(null!==Ds)throw a(Error(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,cu(e,t),Os===Ns?Wu(e,t):(_s=null,Su(e)),ou(e)}}return null}function uu(){(As&(1|bs|ws))===vs&&(function(){if(null!==Hs){var e=Hs;Hs=null,e.forEach((function(e,t){Qu(t,e),ou(t)})),Ki()}}(),Cu())}function cu(e,t){var n=e.firstBatch;null!==n&&n._defer&&n._expirationTime>=t&&(zi(97,(function(){return n._onComplete(),null})),Os=Ns)}function lu(e,t){var n=As;As|=1;try{return e(t)}finally{(As=n)===vs&&Ki()}}function hu(e,t,n,r){var i=As;As|=4;try{return ji(98,e.bind(null,t,n,r))}finally{(As=i)===vs&&Ki()}}function fu(e,t){var n=As;As&=-2,As|=gs;try{return e(t)}finally{(As=n)===vs&&Ki()}}function du(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,er(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&mi();break;case 3:Fo(),yi();break;case 5:Vo(r);break;case 4:Fo();break;case 13:case 19:si(qo);break;case 10:eo(r)}n=n.return}_s=e,Ds=Fu(e.current,null),xs=t,Os=Es,Ps=null,Ms=Rs=1073741823,Ls=null,Fs=0,Us=!1}function pu(e,t){for(;;){try{if(Ji(),aa(),null===Ds||null===Ds.return)return Os=Ts,Ps=t,null;e:{var n=e,r=Ds.return,i=Ds,o=t;if(t=xs,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var a=o,s=0!==(1&qo.current),u=r;do{var c;if(c=13===u.tag){var l=u.memoizedState;if(null!==l)c=null!==l.dehydrated;else{var h=u.memoizedProps;c=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(c){var f=u.updateQueue;if(null===f){var d=new Set;d.add(a),u.updateQueue=d}else f.add(a);if(0===(2&u.mode)){if(u.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var p=so(1073741823,null);p.tag=2,co(i,p)}i.expirationTime=1073741823;break e}o=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new hs,o=new Set,m.set(a,o)):void 0===(o=m.get(a))&&(o=new Set,m.set(a,o)),!o.has(i)){o.add(i);var y=Du.bind(null,n,a,i);a.then(y,y)}u.effectTag|=4096,u.expirationTime=t;break e}u=u.return}while(null!==u);o=Error(($(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Os!==Cs&&(Os=Ss),o=Ja(o,i),u=r;do{switch(u.tag){case 3:a=o,u.effectTag|=4096,u.expirationTime=t,lo(u,fs(u,a,t));break e;case 1:a=o;var v=u.type,g=u.stateNode;if((64&u.effectTag)===vt&&("function"===typeof v.getDerivedStateFromError||null!==g&&"function"===typeof g.componentDidCatch&&(null===Ws||!Ws.has(g)))){u.effectTag|=4096,u.expirationTime=t,lo(u,ds(u,a,t));break e}}u=u.return}while(null!==u)}Ds=Eu(Ds)}catch(b){t=b;continue}break}}function mu(){var e=ms.current;return ms.current=va,null===e?va:e}function yu(e,t){e<Rs&&2<e&&(Rs=e),null!==t&&e<Ms&&2<e&&(Ms=e,Ls=t)}function vu(e){e>Fs&&(Fs=e)}function gu(){for(;null!==Ds;)Ds=wu(Ds)}function bu(){for(;null!==Ds&&!Ii();)Ds=wu(Ds)}function wu(e){var t=eu(e.alternate,e,xs);return e.memoizedProps=e.pendingProps,null===t&&(t=Eu(e)),ys.current=null,t}function Eu(e){Ds=e;do{var t=Ds.alternate;if(e=Ds.return,(2048&Ds.effectTag)===vt){e:{var n=t,r=xs,o=(t=Ds).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:pi(t.type)&&mi();break;case 3:Fo(),yi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&Na(t)&&Ya(t),Ba(t);break;case 5:Vo(t),r=Mo(Ro.current);var s=t.type;if(null!==n&&null!=t.stateNode)ja(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var u=Mo(Oo.current);if(Na(t)){s=void 0,n=(o=t).stateNode;var c=o.type,l=o.memoizedProps;switch(n[ir]=o,n[or]=l,c){case"iframe":case"object":case"embed":wn("load",n);break;case"video":case"audio":for(var h=0;h<Ze.length;h++)wn(Ze[h],n);break;case"source":wn("error",n);break;case"img":case"image":case"link":wn("error",n),wn("load",n);break;case"form":wn("reset",n),wn("submit",n);break;case"details":wn("toggle",n);break;case"input":Ne(n,l),wn("invalid",n),Un(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!l.multiple},wn("invalid",n),Un(r,"onChange");break;case"textarea":Me(n,l),wn("invalid",n),Un(r,"onChange")}for(s in Ln(c,l),h=null,l)l.hasOwnProperty(s)&&(u=l[s],"children"===s?"string"===typeof u?n.textContent!==u&&(h=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(h=["children",""+u]):d.hasOwnProperty(s)&&null!=u&&Un(r,s));switch(c){case"input":Ie(n),De(n,l,!0);break;case"textarea":Ie(n),Fe(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=Vn)}r=h,o.updateQueue=r,null!==r&&Ya(t)}else{l=s,n=o,c=t,h=9===r.nodeType?r:r.ownerDocument,u===Ue.html&&(u=Ve(l)),u===Ue.html?"script"===l?((l=h.createElement("div")).innerHTML="<script><\/script>",h=l.removeChild(l.firstChild)):"string"===typeof n.is?h=h.createElement(l,{is:n.is}):(h=h.createElement(l),"select"===l&&(l=h,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):h=h.createElementNS(u,l),(l=h)[ir]=c,l[or]=n,qa(n=l,t,!1,!1),t.stateNode=n,u=r;var f=Fn(s,o);switch(s){case"iframe":case"object":case"embed":wn("load",n),r=o;break;case"video":case"audio":for(r=0;r<Ze.length;r++)wn(Ze[r],n);r=o;break;case"source":wn("error",n),r=o;break;case"img":case"image":case"link":wn("error",n),wn("load",n),r=o;break;case"form":wn("reset",n),wn("submit",n),r=o;break;case"details":wn("toggle",n),r=o;break;case"input":Ne(n,o),r=Ce(n,o),wn("invalid",n),Un(u,"onChange");break;case"option":r=Oe(n,o);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),wn("invalid",n),Un(u,"onChange");break;case"textarea":Me(n,o),r=Re(n,o),wn("invalid",n),Un(u,"onChange");break;default:r=o}Ln(s,r),c=void 0,l=s,h=n;var p=r;for(c in p)if(p.hasOwnProperty(c)){var m=p[c];"style"===c?Rn(h,m):"dangerouslySetInnerHTML"===c?null!=(m=m?m.__html:void 0)&&je(h,m):"children"===c?"string"===typeof m?("textarea"!==l||""!==m)&&ze(h,m):"number"===typeof m&&ze(h,""+m):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(d.hasOwnProperty(c)?null!=m&&Un(u,c):null!=m&&Te(h,c,m,f))}switch(s){case"input":Ie(n),De(n,o,!1);break;case"textarea":Ie(n),Fe(n);break;case"option":null!=o.value&&n.setAttribute("value",""+Ee(o.value));break;case"select":r=n,n=o,r.multiple=!!n.multiple,null!=(c=n.value)?Pe(r,!!n.multiple,c,!1):null!=n.defaultValue&&Pe(r,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(n.onclick=Vn)}$n(s,o)&&Ya(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)za(n,t,n.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw a(Error(166));s=Mo(Ro.current),Mo(Oo.current),Na(t)?(r=t.stateNode,o=t.memoizedProps,r[ir]=t,r.nodeValue!==o&&Ya(t)):(r=t,(o=(9===s.nodeType?s:s.ownerDocument).createTextNode(o))[ir]=t,r.stateNode=o)}break;case 11:break;case 13:if(si(qo),o=t.memoizedState,(64&t.effectTag)!==vt){t.expirationTime=r;break e}r=null!==o,o=!1,null===n?Na(t):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=s,s.nextEffect=c):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&qo.current)?Os===Es&&(Os=Is):(Os!==Es&&Os!==Is||(Os=ks),0!==Fs&&null!==_s&&(Wu(_s,xs),Ku(_s,Fs)))),(r||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Fo(),Ba(t);break;case 10:eo(t);break;case 9:case 14:break;case 17:pi(t.type)&&mi();break;case 19:if(si(qo),null===(o=t.memoizedState))break;if(s=(64&t.effectTag)!==vt,null===(c=o.rendering)){if(s)Xa(o,!1);else if(Os!==Es||null!==n&&(64&n.effectTag)!==vt)for(n=t.child;null!==n;){if(null!==(c=Bo(n))){for(t.effectTag|=64,Xa(o,!1),null!==(o=c.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),t.firstEffect=t.lastEffect=null,o=t.child;null!==o;)n=r,(s=o).effectTag&=gt,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childExpirationTime=0,s.expirationTime=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=c.childExpirationTime,s.expirationTime=c.expirationTime,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,n=c.dependencies,s.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),o=o.sibling;ui(qo,1&qo.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Bo(c))){if(t.effectTag|=64,s=!0,Xa(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Vi()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Xa(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=o.last)?r.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Vi()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,o=qo.current,ui(qo,o=s?1&o|2:1&o),t=r;break e}break;case 20:case 21:break;default:throw a(Error(156),t.tag)}t=null}if(r=Ds,1===xs||1!==r.childExpirationTime){for(o=0,s=r.child;null!==s;)(n=s.expirationTime)>o&&(o=n),(c=s.childExpirationTime)>o&&(o=c),s=s.sibling;r.childExpirationTime=o}if(null!==t)return t;null!==e&&(2048&e.effectTag)===vt&&(null===e.firstEffect&&(e.firstEffect=Ds.firstEffect),null!==Ds.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ds.firstEffect),e.lastEffect=Ds.lastEffect),1<Ds.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ds:e.firstEffect=Ds,e.lastEffect=Ds))}else{if(null!==(t=$a(Ds)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ds.sibling))return t;Ds=e}while(null!==Ds);return Os===Es&&(Os=Cs),null}function Tu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Su(e){var t=qi();return ji(99,Iu.bind(null,e,t)),null}function Iu(e,t){if(Cu(),(As&(bs|ws))!==vs)throw a(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Tu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===_s&&(Ds=_s=null,xs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=As;As|=ws,ys.current=null,Yn=bn;var s=zn();if(Wn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(L){u=null;break e}var f=0,d=-1,p=-1,m=0,y=0,v=s,g=null;t:for(;;){for(var b;v!==u||0!==l&&3!==v.nodeType||(d=f+l),v!==h||0!==c&&3!==v.nodeType||(p=f+c),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===u&&++m===l&&(d=f),g===h&&++y===c&&(p=f),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;Xn={focusedElem:s,selectionRange:u},bn=!1,Bs=i;do{try{ku()}catch(L){if(null===Bs)throw a(Error(330));_u(Bs,L),Bs=Bs.nextEffect}}while(null!==Bs);Bs=i;do{try{for(s=e,u=t;null!==Bs;){var w=Bs.effectTag;if(16&w&&ze(Bs.stateNode,""),128&w){var E=Bs.alternate;if(null!==E){var T=E.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(w&(12|gt|bt)){case gt:ss(Bs),Bs.effectTag&=~gt;break;case 6:ss(Bs),Bs.effectTag&=~gt,cs(Bs.alternate,Bs);break;case bt:Bs.effectTag&=~bt;break;case 1028:Bs.effectTag&=~bt,cs(Bs.alternate,Bs);break;case 4:cs(Bs.alternate,Bs);break;case 8:us(s,l=Bs,u),os(l)}Bs=Bs.nextEffect}}catch(L){if(null===Bs)throw a(Error(330));_u(Bs,L),Bs=Bs.nextEffect}}while(null!==Bs);if(T=Xn,E=zn(),w=T.focusedElem,u=T.selectionRange,E!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&Wn(w)&&(E=u.start,void 0===(T=u.end)&&(T=E),"selectionStart"in w?(w.selectionStart=E,w.selectionEnd=Math.min(T,w.value.length)):(T=(E=w.ownerDocument||document)&&E.defaultView||window).getSelection&&(T=T.getSelection(),l=w.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!T.extend&&s>u&&(l=u,u=s,s=l),l=jn(w,s),h=jn(w,u),l&&h&&(1!==T.rangeCount||T.anchorNode!==l.node||T.anchorOffset!==l.offset||T.focusNode!==h.node||T.focusOffset!==h.offset)&&((E=E.createRange()).setStart(l.node,l.offset),T.removeAllRanges(),s>u?(T.addRange(E),T.extend(h.node,h.offset)):(E.setEnd(h.node,h.offset),T.addRange(E))))),E=[];for(T=w;T=T.parentNode;)1===T.nodeType&&E.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<E.length;w++)(T=E[w]).element.scrollLeft=T.left,T.element.scrollTop=T.top}Xn=null,bn=!!Yn,Yn=null,e.current=n,Bs=i;do{try{for(w=r;null!==Bs;){var S=Bs.effectTag;if(36&S){var I=Bs.alternate;switch(T=w,(E=Bs).tag){case 0:case 11:case 15:rs(16,32,E);break;case 1:var k=E.stateNode;if(4&E.effectTag)if(null===I)k.componentDidMount();else{var C=E.elementType===E.type?I.memoizedProps:Gi(E.type,I.memoizedProps);k.componentDidUpdate(C,I.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var N=E.updateQueue;null!==N&&mo(0,N,k);break;case 3:var A=E.updateQueue;if(null!==A){if(s=null,null!==E.child)switch(E.child.tag){case 5:s=E.child.stateNode;break;case 1:s=E.child.stateNode}mo(0,A,s)}break;case 5:var _=E.stateNode;null===I&&4&E.effectTag&&(T=_,$n(E.type,E.memoizedProps)&&T.focus());break;case 6:case 4:case 12:break;case 13:if(null===E.memoizedState){var D=E.alternate;if(null!==D){var x=D.memoizedState;if(null!==x){var O=x.dehydrated;null!==O&&yt(O)}}}break;case 19:case 17:case 20:case 21:break;default:throw a(Error(163))}}if(128&S){var P=(E=Bs).ref;if(null!==P){var R=E.stateNode;switch(E.tag){case 5:var M=R;break;default:M=R}"function"===typeof P?P(M):P.current=M}}Bs=Bs.nextEffect}}catch(L){if(null===Bs)throw a(Error(330));_u(Bs,L),Bs=Bs.nextEffect}}while(null!==Bs);Bs=null,Ri(),As=o}else e.current=n;if(Ks)Ks=!1,Qs=e,Gs=t;else for(Bs=i;null!==Bs;)t=Bs.nextEffect,Bs.nextEffect=null,Bs=t;if(0===(t=e.firstPendingTime)&&(Ws=null),1073741823===t?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,"function"===typeof Ou&&Ou(n.stateNode,r),ou(e),js)throw js=!1,e=zs,zs=null,e;return(As&gs)!==vs?null:(Ki(),null)}function ku(){for(;null!==Bs;){var e=Bs.effectTag;(256&e)!==vt&&ns(Bs.alternate,Bs),(512&e)===vt||Ks||(Ks=!0,zi(97,(function(){return Cu(),null}))),Bs=Bs.nextEffect}}function Cu(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,ji(e,Nu)}}function Nu(){if(null===Qs)return!1;var e=Qs;if(Qs=null,(As&(bs|ws))!==vs)throw a(Error(331));var t=As;for(As|=ws,e=e.current.firstEffect;null!==e;){try{var n=e;if((512&n.effectTag)!==vt)switch(n.tag){case 0:case 11:case 15:rs(128,0,n),rs(0,64,n)}}catch(r){if(null===e)throw a(Error(330));_u(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return As=t,Ki(),!0}function Au(e,t,n){co(e,t=fs(e,t=Ja(n,t),1073741823)),null!==(e=ru(e,1073741823))&&ou(e)}function _u(e,t){if(3===e.tag)Au(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Au(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){co(n,e=ds(n,e=Ja(t,e),1073741823)),null!==(n=ru(n,1073741823))&&ou(n);break}}n=n.return}}function Du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),_s===e&&xs===n?Os===ks||Os===Is&&1073741823===Rs&&Vi()-Vs<qs?du(e,xs):Us=!0:zu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),ou(e)))}function xu(e,t){var n=e.stateNode;null!==n&&n.delete(t),1===(t=1)&&(t=Zs(t=Js(),e,null)),null!==(e=ru(e,t))&&ou(e)}eu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Da=!0;else{if(r<n){switch(Da=!1,t.tag){case 3:Va(t),Aa();break;case 5:if(Uo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:pi(t.type)&&bi(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:Zi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ka(e,t,n):(ui(qo,1&qo.current),null!==(t=Ha(e,t,n))?t.sibling:null);ui(qo,1&qo.current);break;case 19:if(r=t.childExpirationTime>=n,(64&e.effectTag)!==vt){if(r)return Ga(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ui(qo,qo.current),!r)return null}return Ha(e,t,n)}Da=!1}}else Da=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=gt),e=t.pendingProps,i=di(t,li.current),no(t,n),i=oa(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,aa(),pi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&bo(t,r,s,e),i.updater=wo,t.stateNode=i,i._reactInternalFiber=t,Io(t,r,e,n),t=Ua(null,t,r,!0,o,n)}else t.tag=0,xa(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=gt),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===W)return 11;if(e===G)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=La(null,t,i,e,n);break;case 1:t=Fa(null,t,i,e,n);break;case 11:t=Oa(null,t,i,e,n);break;case 14:t=Pa(null,t,i,Gi(i.type,e),r,n);break;default:throw a(Error(306),i,"")}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Va(t),null===(r=t.updateQueue))throw a(Error(282));if(i=null!==(i=t.memoizedState)?i.element:null,po(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)Aa(),t=Ha(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ea=tr(t.stateNode.containerInfo.firstChild),wa=t,i=Ta=!0),i)for(n=Do(t,null,r,n),t.child=n;n;)n.effectTag=n.effectTag&~gt|bt,n=n.sibling;else xa(e,t,r,n),Aa();t=t.child}return t;case 5:return Uo(t),null===e&&ka(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Jn(r,i)?s=null:null!==o&&Jn(r,o)&&(t.effectTag|=16),Ma(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xa(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Ka(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):xa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Oa(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return xa(e,t,t.pendingProps,n),t.child;case 8:case 12:return xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Zi(t,o=i.value),null!==s){var u=s.value;if(0===(o=Hr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=Ha(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(n,null)).tag=2,co(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),to(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}xa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,xa(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),Pa(e,t,i,o=Gi(i.type,o),r,n);case 15:return Ra(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=gt),t.tag=1,pi(r)?(e=!0,bi(t)):e=!1,no(t,n),To(t,r,i),Io(t,r,i,n),Ua(null,t,r,!0,e,n);case 19:return Ga(e,t,n)}throw a(Error(156),t.tag)};var Ou=null,Pu=null;function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=vt,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Mu(e,t,n,r){return new Ru(e,t,n,r)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fu(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=vt,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Lu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case U:return Vu(n.children,i,o,t);case z:s=8,i|=7;break;case V:s=8,i|=1;break;case q:return(e=Mu(12,n,t,8|i)).elementType=q,e.type=q,e.expirationTime=o,e;case K:return(e=Mu(13,n,t,i)).type=K,e.elementType=K,e.expirationTime=o,e;case Q:return(e=Mu(19,n,t,i)).elementType=Q,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case B:s=10;break e;case j:s=9;break e;case W:s=11;break e;case G:s=14;break e;case H:s=16,r=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Vu(e,t,n,r){return(e=Mu(7,e,r,t)).expirationTime=n,e}function qu(e,t,n){return(e=Mu(6,e,null,t)).expirationTime=n,e}function Bu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Wu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ku(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Qu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Gu(e,t,n,r,i,o){var s=t.current;e:if(n){t:{if(wt(n=n._reactInternalFiber)!==n||1!==n.tag)throw a(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw a(Error(171))}if(1===n.tag){var c=n.type;if(pi(c)){n=gi(n,c,u);break e}}n=u}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,t=o,(i=so(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),co(s,i),nu(s,r),r}function Hu(e,t,n,r){var i=t.current,o=Js(),a=vo.suspense;return Gu(e,t,n,i=Zs(o,i,a),a,r)}function Yu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Xu(e){var t=1073741821-25*(1+((1073741821-Js()+500)/25|0));t<=tu&&--t,this._expirationTime=tu=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function $u(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ju(e,t,n){var r=new ju(e,t,n=null!=n&&!0===n.hydrate),i=Mu(3,null,null,2===t?7:1===t?3:0);return r.current=i,i.stateNode=r,e[ar]=r.current,n&&0!==t&&function(e){var t=_n(e);st.forEach((function(n){Dn(n,e,t)})),ut.forEach((function(n){Dn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),r}function Zu(e,t,n){this._internalRoot=Ju(e,t,n)}function ec(e,t){this._internalRoot=Ju(e,2,t)}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Yu(a);s.call(e)}}Hu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Zu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Yu(a);u.call(e)}}fu((function(){Hu(t,a,e,i)}))}return Yu(a)}function rc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tc(t))throw a(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:F,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ee=function(e,t,n){switch(t){case"input":if(_e(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=lr(r);if(!i)throw a(Error(90));ke(r),_e(r,i)}}}break;case"textarea":Le(e,n);break;case"select":null!=(t=n.value)&&Pe(e,!!n.multiple,t,!1)}},Xu.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new $u;return Gu(e,t,null,n,null,r._onCommit),r},Xu.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Xu.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(As&(bs|ws))!==vs)throw a(Error(253));Qu(e,t),ou(e),Ki(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Xu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},$u.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},$u.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)throw a(Error(191),n);n()}}},ec.prototype.render=Zu.prototype.render=function(e,t){var n=this._internalRoot,r=new $u;return null!==(t=void 0===t?null:t)&&r.then(t),Hu(e,n,null,r._onCommit),r},ec.prototype.unmount=Zu.prototype.unmount=function(e){var t=this._internalRoot,n=new $u;return null!==(e=void 0===e?null:e)&&n.then(e),Hu(null,t,null,n._onCommit),n},ec.prototype.createBatch=function(){var e=new Xu(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},ae=lu,se=hu,ue=uu,ce=function(e,t){var n=As;As|=2;try{return e(t)}finally{(As=n)===vs&&Ki()}};var ic={createPortal:rc,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=Tt(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!tc(t))throw a(Error(200));return nc(null,e,t,!0,n)},render:function(e,t,n){if(!tc(t))throw a(Error(200));return nc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!tc(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return nc(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!tc(e))throw a(Error(40));return!!e._reactRootContainer&&(fu((function(){nc(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return rc.apply(void 0,arguments)},unstable_batchedUpdates:lu,unstable_interactiveUpdates:function(e,t,n,r){return uu(),hu(e,t,n,r)},unstable_discreteUpdates:hu,unstable_flushDiscreteUpdates:uu,flushSync:function(e,t){if((As&(bs|ws))!==vs)throw a(Error(187));var n=As;As|=1;try{return ji(99,e.bind(null,t))}finally{As=n,Ki()}},unstable_createRoot:function(e,t){if(!tc(e))throw a(Error(299),"unstable_createRoot");return new ec(e,t)},unstable_createSyncRoot:function(e,t){if(!tc(e))throw a(Error(299),"unstable_createRoot");return new Zu(e,1,t)},unstable_flushControlled:function(e){var t=As;As|=1;try{ji(99,e)}finally{(As=t)===vs&&Ki()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[ur,cr,lr,x.injectEventPluginsByName,f,_t,function(e){N(e,At)},ie,oe,kn,D,Cu,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ou=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Pu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Tt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:sr,bundleType:0,version:"16.10.2",rendererPackageName:"react-dom"});var oc={default:ic},ac=oc&&ic||oc;e.exports=ac.default||ac},function(e,t,n){"use strict";e.exports=n(31)},function(e,t,n){"use strict";var r,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout,y=window.requestAnimationFrame,v=window.cancelAnimationFrame;if("undefined"!==typeof console&&("function"!==typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var b=!1,w=null,E=-1,T=5,S=0;a=function(){return t.unstable_now()>=S},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<e?Math.floor(1e3/e):33.33};var I=new MessageChannel,k=I.port2;I.port1.onmessage=function(){if(null!==w){var e=t.unstable_now();S=e+T;try{w(!0,e)?k.postMessage(null):(b=!1,w=null)}catch(n){throw k.postMessage(null),n}}else b=!1},r=function(e){w=e,b||(b=!0,k.postMessage(null))},i=function(e,n){E=p((function(){e(t.unstable_now())}),n)},o=function(){m(E),E=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function N(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>_(a,n))void 0!==u&&0>_(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>_(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var D=[],x=[],O=1,P=null,R=3,M=!1,L=!1,F=!1;function U(e){for(var t=N(x);null!==t;){if(null===t.callback)A(x);else{if(!(t.startTime<=e))break;A(x),t.sortIndex=t.expirationTime,C(D,t)}t=N(x)}}function V(e){if(F=!1,U(e),!L)if(null!==N(D))L=!0,r(q);else{var t=N(x);null!==t&&i(V,t.startTime-e)}}function q(e,n){L=!1,F&&(F=!1,o()),M=!0;var r=R;try{for(U(n),P=N(D);null!==P&&(!(P.expirationTime>n)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,R=P.priorityLevel;var u=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?P.callback=u:P===N(D)&&A(D),U(n)}else A(D);P=N(D)}if(null!==P)var c=!0;else{var l=N(x);null!==l&&i(V,l.startTime-n),c=!1}return c}finally{P=null,R=r,M=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:B(e)}else a=B(e),u=s;return e={id:O++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,C(x,e),null===N(D)&&e===N(x)&&(F?o():F=!0,i(V,u-s))):(e.sortIndex=a,C(D,e),L||M||(L=!0,r(q))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_shouldYield=function(){var e=t.unstable_now();U(e);var n=N(D);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_requestPaint=j,t.unstable_continueExecution=function(){L||M||(L=!0,r(q))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return N(D)},t.unstable_Profiling=null},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var d="FirebaseError",p=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=d,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(t,e),t}(Error),m=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?y(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new p(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},e}();function y(e,t){return e.replace(v,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function g(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=g(c(o[0])||""),n=g(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}};var w=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var E=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function T(){}function S(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=m,t.FirebaseError=p,t.Sha1=w,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new E(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=S,t.getUA=f,t.isAdmin=function(e){var t=b(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"object"===typeof self&&self.self===self},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=g,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(S(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(S(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(S(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(9))},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return u})),n.d(t,"setLogLevel",(function(){return c}));var i,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var a=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},u=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function c(e){o.forEach((function(t){t.logLevel=e}))}},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){t=t&&t.hasOwnProperty("default")?t.default:t,function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i="undefined"!=typeof window&&window===this?this:"undefined"!=typeof e&&null!=e?e:this;function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=i.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.h(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.v(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Ja(t.resolve,t.reject)},t.prototype.v=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){o(t)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ja(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ja=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=o(e),a=i.next();!a.done;a=i.next())r(a.value).Ja(t,n)}))},t.all=function(e){var n=o(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}for(var a=[],s=0;a.push(void 0),s++,r(i.value).Ja(o(a.length-1),t),!(i=n.next()).done;);}))},t}));var a=a||{},s=this||self;function u(e){return"string"==typeof e}function c(e){return"boolean"==typeof e}var l=/^[\w+/_-]+[=]{0,2}$/,h=null;function f(){}function d(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function p(e){return null===e}function m(e){return"array"==d(e)}function y(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function E(e,t,n){return e.call.apply(e.bind,arguments)}function T(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function S(e,t,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:T).apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now||function(){return+new Date};function C(e,t){function n(){}n.prototype=t.prototype,e.qb=t.prototype,e.prototype=new n,(e.prototype.constructor=e).fd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function A(e){if(Error.captureStackTrace)Error.captureStackTrace(this,A);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function _(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");A.call(this,n+e[r])}function D(e,t){throw new _("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function x(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function O(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function P(){this.b=this.a=null}C(A,Error),A.prototype.name="CustomError",C(_,A),_.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var R=new x((function(){return new M}),(function(e){e.reset()}));function M(){this.next=this.b=this.a=null}function L(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}P.prototype.add=function(e,t){var n=R.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(u(e))return u(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},U=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=u(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i=u(e)?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=u(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function B(e,t){return 0<=F(e,t)}function j(e,t){var n;return(n=0<=(t=F(e,t)))&&Array.prototype.splice.call(e,t,1),n}function z(e,t){!function(e,t){for(var n=u(e)?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function W(e){return Array.prototype.concat.apply([],arguments)}function K(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Q(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function G(e){for(var t in e)return!1;return!0}function H(e){var t,n={};for(t in e)n[t]=e[t];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $(e,t){this.a=e===ee&&t||"",this.b=Z}function J(e){return e instanceof $&&e.constructor===$&&e.b===Z?e.a:(D("expected object of type Const, got '"+e+"'"),"type_error:Const")}$.prototype.qa=!0,$.prototype.pa=function(){return this.a},$.prototype.toString=function(){return"Const{"+this.a+"}"};var Z={},ee={},te=new $(ee,"");function ne(){this.a="",this.b=se}function re(e){return e instanceof ne&&e.constructor===ne&&e.b===se?e.a:(D("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function ie(e,t){var n=J(e);if(!ae.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ue(e=n.replace(oe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof $?J(e):encodeURIComponent(String(e))})))}ne.prototype.qa=!0,ne.prototype.pa=function(){return this.a.toString()},ne.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var oe=/%{(\w+)}/g,ae=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,se={};function ue(e){var t=new ne;return t.a=e,t}var ce=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},le=/&/g,he=/</g,fe=/>/g,de=/"/g,pe=/'/g,me=/\x00/g,ye=/[\x00&<>"']/;function ve(e,t){return-1!=e.indexOf(t)}function ge(e,t){return e<t?-1:t<e?1:0}function be(){this.a="",this.b=Ie}function we(e){return e instanceof be&&e.constructor===be&&e.b===Ie?e.a:(D("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}be.prototype.qa=!0,be.prototype.pa=function(){return this.a.toString()},be.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ee=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Te(e){return e instanceof be?e:(e="object"==typeof e&&e.qa?e.pa():String(e),Ee.test(e)||(e="about:invalid#zClosurez"),ke(e))}var Se,Ie={};function ke(e){var t=new be;return t.a=e,t}ke("about:blank");e:{var Ce=s.navigator;if(Ce){var Ne=Ce.userAgent;if(Ne){Se=Ne;break e}}Se=""}function Ae(e){return ve(Se,e)}function _e(){this.a="",this.b=xe}function De(e){return e instanceof _e&&e.constructor===_e&&e.b===xe?e.a:(D("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}_e.prototype.qa=!0,_e.prototype.pa=function(){return this.a.toString()},_e.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xe={};function Oe(e){var t=new _e;return t.a=e,t}Oe("<!DOCTYPE html>");var Pe,Re,Me=Oe("");function Le(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Fe(e){return ye.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(le,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(he,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(fe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(de,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(pe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(me,"&#0;"))),e}function Ue(e){s.setTimeout((function(){throw e}),0)}function Ve(e,t){Re||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);Re=function(){e.then(je)}}else Re=function(){var e=je;!v(s.setImmediate)||s.Window&&s.Window.prototype&&!Ae("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(Pe=Pe||function(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ae("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",function(e){var t=ue(J(te));L(e,"HTMLIFrameElement"),e.src=re(t).toString()}(e),document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(De(Me)),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=S((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0===e||Ae("Trident")||Ae("MSIE"))return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){s.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).yb;n.yb=null,e()}},function(e){r.next={yb:e},r=r.next,t.port2.postMessage(0)}}())(e):s.setImmediate(e)}}(),qe||(Re(),qe=!0),Be.add(e,t)}Oe("<br>");var qe=!1,Be=new P;function je(){for(var e;n=t=void 0,n=null,(t=Be).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){Ue(e)}O(R,e)}var t,n;qe=!1}function ze(e,t){if(this.a=We,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){nt(n,Ke,e)}),(function(e){if(!(e instanceof ct))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}nt(n,Qe,e)}))}catch(e){nt(this,Qe,e)}}var We=0,Ke=2,Qe=3;function Ge(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ge.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var He=new x((function(){return new Ge}),(function(e){e.reset()}));function Ye(e,t,n){var r=He.get();return r.g=e,r.b=t,r.f=n,r}function Xe(e){if(e instanceof ze)return e;var t=new ze(f);return nt(t,Ke,e),t}function $e(e){return new ze((function(t,n){n(e)}))}function Je(e,t,n){rt(e,t,n,null)||Ve(I(t,e))}function Ze(e){return new ze((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Je(e[o],I(i,o,!0),I(i,o,!1));else t(r)}))}function et(e,t){e.b||e.a!=Ke&&e.a!=Qe||it(e),e.f?e.f.next=t:e.b=t,e.f=t}function tt(e,t,n,r){var i=Ye(null,null,null);return i.a=new ze((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){o(n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof ct?o(t):e(i)}catch(t){o(t)}}:o})),et(i.a.c=e,i),i.a}function nt(e,t,n){e.a==We&&(e===n&&(t=Qe,n=new TypeError("Promise cannot resolve to itself")),e.a=1,rt(n,e.Oc,e.Pc,e)||(e.i=n,e.a=t,e.c=null,it(e),t!=Qe||n instanceof ct||function(e,t){e.g=!0,Ve((function(){e.g&&ut.call(null,t)}))}(e,n)))}function rt(e,t,n,r){if(e instanceof ze)return et(e,Ye(t||f,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(v(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function it(e){e.h||(e.h=!0,Ve(e.Zb,e))}function ot(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function at(e,t,n,r){if(n==Qe&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,st(t,n,r);else try{t.c?t.g.call(t.f):st(t,n,r)}catch(e){ut.call(null,e)}O(He,t)}function st(e,t,n){t==Ke?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ze.prototype.then=function(e,t,n){return tt(this,v(e)?e:null,v(t)?t:null,n)},ze.prototype.$goog_Thenable=!0,(n=ze.prototype).ka=function(e,t){return(e=Ye(e,e,t)).c=!0,et(this,e),this},n.s=function(e,t){return tt(this,null,e,t)},n.cancel=function(e){this.a==We&&Ve((function(){!function e(t,n){if(t.a==We)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==We&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):ot(r),at(r,o,Qe,n)))}t.c=null}else nt(t,Qe,n)}(this,new ct(e))}),this)},n.Oc=function(e){this.a=We,nt(this,Ke,e)},n.Pc=function(e){this.a=We,nt(this,Qe,e)},n.Zb=function(){for(var e;e=ot(this);)at(this,e,this.a,this.i);this.h=!1};var ut=Ue;function ct(e){A.call(this,e)}function lt(){this.ta=this.ta,this.la=this.la}C(ct,A);var ht=0;function ft(e){e.ta||(e.ta=!0,e.xa(),0==ht)||e[b]||(e[b]=++w)}function dt(e){return dt[" "](e),e}lt.prototype.ta=!(ct.prototype.name="cancel"),lt.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},dt[" "]=f;var pt,mt,yt=Ae("Opera"),vt=Ae("Trident")||Ae("MSIE"),gt=Ae("Edge"),bt=gt||vt,wt=Ae("Gecko")&&!(ve(Se.toLowerCase(),"webkit")&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),Et=ve(Se.toLowerCase(),"webkit")&&!Ae("Edge");function Tt(){var e=s.document;return e?e.documentMode:void 0}e:{var St="",It=(mt=Se,wt?/rv:([^\);]+)(\)|;)/.exec(mt):gt?/Edge\/([\d\.]+)/.exec(mt):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mt):Et?/WebKit\/(\S+)/.exec(mt):yt?/(?:Version)[ \/]?(\S+)/.exec(mt):void 0);if(It&&(St=It?It[1]:""),vt){var kt=Tt();if(null!=kt&&kt>parseFloat(St)){pt=String(kt);break e}}pt=St}var Ct,Nt={};function At(e){return function(t,n){var r=Nt;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=function(){for(var t=0,n=ce(String(pt)).split("."),r=ce(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ge(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ge(0==a[2].length,0==s[2].length)||ge(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}()}(e)}Ct=s.document&&vt?Tt():void 0;var _t=Object.freeze||function(e){return e},Dt=!vt||9<=Number(Ct),xt=vt&&!At("9"),Ot=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",f,t),s.removeEventListener("test",f,t)}catch(e){}return e}();function Pt(e,t){this.type=e,this.b=this.target=t,this.Mb=!0}function Rt(e,t){if(Pt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(wt){e:{try{dt(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=u(e.pointerType)?e.pointerType:Mt[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}Pt.prototype.preventDefault=function(){this.Mb=!1},C(Rt,Pt);var Mt=_t({2:"touch",3:"pen",4:"mouse"});Rt.prototype.preventDefault=function(){Rt.qb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,xt)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},Rt.prototype.f=function(){return this.a};var Lt="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function Ut(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Na=i,this.key=++Ft,this.ra=this.Ia=!1}function Vt(e){e.ra=!0,e.listener=null,e.proxy=null,e.src=null,e.Na=null}function qt(e){this.src=e,this.a={},this.b=0}function Bt(e,t){var n=t.type;n in e.a&&j(e.a[n],t)&&(Vt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function jt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ra&&o.listener==t&&o.capture==!!n&&o.Na==r)return i}return-1}qt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=jt(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new Ut(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var zt="closure_lm_"+(1e6*Math.random()|0),Wt={};function Kt(e,t,n,r,i){if(r&&r.once)Gt(e,t,n,r,i);else if(m(t))for(var o=0;o<t.length;o++)Kt(e,t[o],n,r,i);else n=nn(n),e&&e[Lt]?on(e,t,n,g(r)?!!r.capture:!!r,i):Qt(e,t,n,!1,r,i)}function Qt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=en(e);if(s||(e[zt]=s=new qt(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=Zt,t=Dt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),(n.proxy=r).src=e,r.listener=n,e.addEventListener)Ot||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Xt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function Gt(e,t,n,r,i){if(m(t))for(var o=0;o<t.length;o++)Gt(e,t[o],n,r,i);else n=nn(n),e&&e[Lt]?an(e,t,n,g(r)?!!r.capture:!!r,i):Qt(e,t,n,!0,r,i)}function Ht(e,t,n,r,i){if(m(t))for(var o=0;o<t.length;o++)Ht(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=nn(n),e&&e[Lt]?(e=e.u,(t=String(t).toString())in e.a&&-1<(n=jt(o=e.a[t],n,r,i))&&(Vt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):(e=e&&en(e))&&(t=e.a[t.toString()],e=-1,t&&(e=jt(t,n,r,i)),(n=-1<e?t[e]:null)&&Yt(n))}function Yt(e){if("number"!=typeof e&&e&&!e.ra){var t=e.src;if(t&&t[Lt])Bt(t.u,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Xt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=en(t))?(Bt(n,e),0==n.b&&(n.src=null,t[zt]=null)):Vt(e)}}}function Xt(e){return e in Wt?Wt[e]:Wt[e]="on"+e}function $t(e,t,n,r){var i=!0;if((e=en(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.ra&&(o=Jt(o,r),i=i&&!1!==o)}return i}function Jt(e,t){var n=e.listener,r=e.Na||e.src;return e.Ia&&Yt(e),n.call(r,t)}function Zt(e,t){if(e.ra)return!0;if(Dt)return Jt(e,new Rt(t,this));if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Rt(r=t,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=$t(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=$t(r[i],e,!1,t),n=n&&o}return n}function en(e){return(e=e[zt])instanceof qt?e:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(e){return v(e)?e:(e[tn]||(e[tn]=function(t){return e.handleEvent(t)}),e[tn])}function rn(){lt.call(this),this.u=new qt(this),(this.Sb=this).Wa=null}function on(e,t,n,r,i){e.u.add(String(t),n,!1,r,i)}function an(e,t,n,r,i){e.u.add(String(t),n,!0,r,i)}function sn(e,t,n,r){if(!(t=e.u.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ra&&a.capture==n){var s=a.listener,u=a.Na||a.src;a.Ia&&Bt(e.u,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Mb}function un(e,t,n){if(v(e))n&&(e=S(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=S(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function cn(e){var t=null;return new ze((function(n,r){-1==(t=un((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw s.clearTimeout(t),e}))}function ln(e){if(e.U&&"function"==typeof e.U)return e.U();if(u(e))return e.split("");if(y(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function hn(e){if(e.X&&"function"==typeof e.X)return e.X();if(!e.U||"function"!=typeof e.U){if(y(e)||u(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function fn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fn)for(n=e.X(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function dn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)pn(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}C(rn,lt),rn.prototype[Lt]=!0,rn.prototype.addEventListener=function(e,t,n,r){Kt(this,e,t,n,r)},rn.prototype.removeEventListener=function(e,t,n,r){Ht(this,e,t,n,r)},rn.prototype.dispatchEvent=function(e){var t,n=this.Wa;if(n)for(t=[];n;n=n.Wa)t.push(n);n=this.Sb;var r=e.type||e;if(u(e))e=new Pt(e,n);else if(e instanceof Pt)e.target=e.target||n;else{var i=e;X(e=new Pt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=sn(a,r,!0,e)&&i}if(i=sn(a=e.b=n,r,!0,e)&&i,i=sn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=sn(a=e.b=t[o],r,!1,e)&&i;return i},rn.prototype.xa=function(){if(rn.qb.xa.call(this),this.u){var e,t=this.u;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Vt(n[r]);delete t.a[e],t.b--}}this.Wa=null},(n=fn.prototype).U=function(){dn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.X=function(){return dn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return pn(this.b,e)?this.b[e]:t},n.set=function(e,t){pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yn(e,t){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,e instanceof yn?(this.h=void 0!==t?t:e.h,vn(this,e.f),this.i=e.i,this.b=e.b,gn(this,e.l),this.c=e.c,bn(this,Un(e.a)),this.g=e.g):e&&(n=String(e).match(mn))?(this.h=!!t,vn(this,n[1]||"",!0),this.i=In(n[2]||""),this.b=In(n[3]||"",!0),gn(this,n[4]),this.c=In(n[5]||"",!0),bn(this,n[6]||"",!0),this.g=In(n[7]||"")):(this.h=!!t,this.a=new On(null,this.h))}function vn(e,t,n){e.f=n?In(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function gn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.l=t}else e.l=null}function bn(e,t,n){t instanceof On?(e.a=t,function(e,t){t&&!e.f&&(Pn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Mn(this,t),Fn(this,n,e))}),e)),e.f=t}(e.a,e.h)):(n||(t=kn(t,Dn)),e.a=new On(t,e.h))}function wn(e,t,n){e.a.set(t,n)}function En(e,t){return e.a.get(t)}function Tn(e){return e instanceof yn?new yn(e):new yn(e,void 0)}function Sn(e,t){var n=new yn(null,void 0);return vn(n,"https"),e&&(n.b=e),t&&(n.c=t),n}function In(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kn(e,t,n){return u(e)?(e=encodeURI(e).replace(t,Cn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Cn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(kn(t,Nn,!0),":");var n=this.b;return!n&&"file"!=t||(e.push("//"),(t=this.i)&&e.push(kn(t,Nn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&e.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(kn(n,"/"==n.charAt(0)?_n:An,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.g)&&e.push("#",kn(n,xn)),e.join("")},yn.prototype.resolve=function(e){var t=new yn(this),n=!!e.f;n?vn(t,e.f):n=!!e.i,n?t.i=e.i:n=!!e.b,n?t.b=e.b:n=null!=e.l;var r=e.c;if(n)gn(t,e.l);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ve(i,"./")||ve(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.a.toString(),n?bn(t,Un(e.a)):n=!!e.g,n&&(t.g=e.g),t};var Nn=/[#\/\?@]/g,An=/[#\?:]/g,_n=/[#\?]/g,Dn=/[#\?@]/g,xn=/#/g;function On(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Pn(e){e.a||(e.a=new fn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Rn(e){var t=hn(e);if(void 0===t)throw Error("Keys are undefined");var n=new On(null,void 0);e=ln(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];m(o)?Fn(n,i,o):n.add(i,o)}return n}function Mn(e,t){Pn(e),t=Vn(e,t),pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&dn(e)))}function Ln(e,t){return Pn(e),t=Vn(e,t),pn(e.a.b,t)}function Fn(e,t,n){Mn(e,t),0<n.length&&(e.c=null,e.a.set(Vn(e,t),K(n)),e.b+=n.length)}function Un(e){var t=new On;return t.c=e.c,e.a&&(t.a=new fn(e.a),t.b=e.b),t}function Vn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(n=On.prototype).add=function(e,t){Pn(this),this.c=null,e=Vn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Pn(this),this.a.forEach((function(n,r){U(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.X=function(){Pn(this);for(var e=this.a.U(),t=this.a.X(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},n.U=function(e){Pn(this);var t=[];if(u(e))Ln(this,e)&&(t=W(t,this.a.get(Vn(this,e))));else{e=this.a.U();for(var n=0;n<e.length;n++)t=W(t,e[n])}return t},n.set=function(e,t){return Pn(this),this.c=null,Ln(this,e=Vn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.U(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.X(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var qn=!vt||9<=Number(Ct);function Bn(e){var t=document;return u(e)?t.getElementById(e):e}function jn(e,t){Q(t,(function(t,n){t&&"object"==typeof t&&t.qa&&(t=t.pa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:zn.hasOwnProperty(n)?e.setAttribute(zn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var zn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Wn(e){if(e&&"number"==typeof e.length){if(g(e))return"function"==typeof e.item||"string"==typeof e.item;if(v(e))return"function"==typeof e.item}return!1}function Kn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(m(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Yn(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,e,t),t.join("")}function Qn(){}var Gn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Hn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(e,t){t.push('"',e.replace(Hn,(function(e){var t=Gn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Gn[e]=t),t})),'"')}function Xn(){var e=mr();return vt&&!!Ct&&11==Ct||/Edge\/\d+/.test(e)}function $n(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function Jn(e,t){t=t||s.window;var n="about:blank";e&&(n=we(Te(e)).toString()),t.location.href=n}function Zn(e){return!!((e=(e||mr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function er(e){e=e||s.window;try{e.close()}catch(e){}}function tr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=mr().toLowerCase(),r&&(t.target=r,ve(n,"crios/")&&(t.target="_blank")),fr(mr())==lr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof be?n:Te(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((Ae("iPhone")&&!Ae("iPod")&&!Ae("iPad")||Ae("iPad")||Ae("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(L(a=r.document.createElement("A"),"HTMLAnchorElement"),t instanceof be||t instanceof be||(t="object"==typeof t&&t.qa?t.pa():String(t),Ee.test(t)||(t="about:invalid#zClosurez"),t=ke(t)),a.href=we(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=we(t).toString(),a&&(bt&&ve(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e=Oe('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Fe(e)+'">'),a.document.write(De(e)),a.document.close())):(a=r.open(we(t).toString(),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var nr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rr=/^[^@]+@[^@]+$/;function ir(){var e=null;return new ze((function(t){"complete"==s.document.readyState?t():(e=function(){t()},Gt(window,"load",e))})).s((function(t){throw Ht(window,"load",e),t}))}function or(e){return e=e||mr(),!("file:"!==wr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){var e=s.window;try{return!(!e||e==e.top)}catch(e){return!1}}function sr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function ur(){return t.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.INTERNAL.hasOwnProperty("node")?"Node":sr()?"Worker":"Browser"}function cr(){var e=ur();return"ReactNative"===e||"Node"===e}var lr="Firefox",hr="Chrome";function fr(e){var t=e.toLowerCase();return ve(t,"opera/")||ve(t,"opr/")||ve(t,"opios/")?"Opera":ve(t,"iemobile")?"IEMobile":ve(t,"msie")||ve(t,"trident/")?"IE":ve(t,"edge/")?"Edge":ve(t,"firefox/")?lr:ve(t,"silk/")?"Silk":ve(t,"blackberry")?"Blackberry":ve(t,"webos")?"Webos":!ve(t,"safari/")||ve(t,"chrome/")||ve(t,"crios/")||ve(t,"android")?!ve(t,"chrome/")&&!ve(t,"crios/")||ve(t,"edge/")?ve(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":hr:"Safari"}var dr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function pr(e,t){t=t||[];var n,r=[],i={};for(n in dr)i[dr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=ur())?r=fr(i=mr()):"Worker"===r&&(r=fr(i=mr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function mr(){return s.navigator&&s.navigator.userAgent||""}function yr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function vr(){try{var e=s.localStorage,t=kr();if(e)return e.setItem(t,"1"),e.removeItem(t),!Xn()||!!s.indexedDB}catch(e){return sr()&&!!s.indexedDB}return!1}function gr(){return(br()||"chrome-extension:"===wr()||or())&&!cr()&&vr()&&!sr()}function br(){return"http:"===wr()||"https:"===wr()}function wr(){return s.location&&s.location.protocol||null}function Er(e){return!Zn(e=e||mr())&&fr(e)!=lr}function Tr(e){return void 0===e?null:Kn(e)}function Sr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Ir(e){if(null!==e)return JSON.parse(e)}function kr(e){return e||Math.floor(1e9*Math.random()).toString()}function Cr(e){return"Safari"!=fr(e=e||mr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ar(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=mr(),t=ur(),this.b=Zn(e)||"ReactNative"===t}function _r(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Dr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function xr(){return!(!yr("fireauth.oauthhelper",s)&&!yr("fireauth.iframe",s))}Ar.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!br()&&"chrome-extension:"!==wr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Or,Pr={};function Rr(e){Pr[e]||(Pr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Mr={};Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Mr,"abcd",{configurable:!0,enumerable:!0,value:2}),Or=2==Mr.abcd}catch(n){Or=!1}function Lr(e,t,n){Or?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Fr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Lr(e,n,t[n])}function Ur(e){var t={};return Fr(t,e),t}function Vr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Lr(t,n,Vr(e[n]));return t}function qr(e){var t={},n=e[jr],r=e[zr];if(!(e=e[Wr])||e!=Br&&!n)throw Error("Invalid provider user info!");t[Qr]=r||null,t[Kr]=n||null,Lr(this,Hr,e),Lr(this,Gr,Vr(t))}var Br="EMAIL_SIGNIN",jr="email",zr="newEmail",Wr="requestType",Kr="email",Qr="fromEmail",Gr="data",Hr="operation";function Yr(e,t){this.code=$r+e,this.message=t||Jr[e]||""}function Xr(e){var t=e&&e.code;return t?new Yr(t.substring($r.length),e.message):null}C(Yr,Error),Yr.prototype.A=function(){return{code:this.code,message:this.message}},Yr.prototype.toJSON=function(){return this.A()};var $r="auth/",Jr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Zr(e){var t=En(e=Tn(e),ei)||null,n=En(e,ti)||null,r=En(e,ii)||null;if(r=r&&ai[r]||null,!t||!n||!r)throw new Yr("argument-error",ei+", "+ti+"and "+ii+" are required in a valid action code URL.");Fr(this,{apiKey:t,operation:r,code:n,continueUrl:En(e,ni)||null,languageCode:En(e,ri)||null,tenantId:En(e,oi)||null})}var ei="apiKey",ti="oobCode",ni="continueUrl",ri="languageCode",ii="mode",oi="tenantId",ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Br,verifyEmail:"VERIFY_EMAIL"};function si(e){try{return new Zr(e)}catch(e){return null}}function ui(e){var t=e[di];if(void 0===t)throw new Yr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Yr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ci];if(n&&"object"==typeof n){t=n[yi];var r=n[pi];if(n=n[mi],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Yr("argument-error",pi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Yr("argument-error",mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Yr("argument-error",yi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Yr("missing-android-pkg-name")}}else if(void 0!==n)throw new Yr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(t=e[fi])&&"object"==typeof t){if("string"==typeof(t=t[vi])&&t.length)this.f=t;else if(void 0!==t)throw new Yr("argument-error",vi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Yr("argument-error",fi+" property must be a non null object when specified.");if(void 0!==(t=e[hi])&&"boolean"!=typeof t)throw new Yr("argument-error",hi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[li])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new Yr("argument-error",li+" property must be a non empty string when specified.");this.i=e||null}var ci="android",li="dynamicLinkDomain",hi="handleCodeInApp",fi="iOS",di="url",pi="installApp",mi="minimumVersion",yi="packageName",vi="bundleId";function gi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var bi=null,wi=null;function Ei(e){this.f=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.c=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ti(e){return(e=Si(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ei(e):null}function Si(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!bi){bi={},wi={};for(var e=0;e<65;e++)bi[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),62<=(wi[bi[e]]=e)&&(wi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t+=String.fromCharCode(e)})),t}(e))}catch(e){}return null}Ei.prototype.R=function(){return this.c},Ei.prototype.g=function(){return this.b};var Ii,ki={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ci(e){for(var t in ki)if(ki[t].id===e)return{firebaseEndpoint:(e=ki[t]).bb,secureTokenEndpoint:e.ib};return null}Ii=Ci("__EID__")?"__EID__":void 0;var Ni="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ai=["client_id","response_type","scope","redirect_uri","state"],_i={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Ai},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Ai},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Ai},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Ni}};function Di(e){for(var t in _i)if(_i[t].Pa==e)return _i[t];return null}function xi(e){var t={};t["facebook.com"]=Li,t["google.com"]=Ui,t["github.com"]=Fi,t["twitter.com"]=Vi;var n=e&&e[Pi];try{if(n)return t[n]?new t[n](e):new Mi(e);if(void 0!==e[Oi])return new Ri(e)}catch(e){}return null}var Oi="idToken",Pi="providerId";function Ri(e){var t=e[Pi];if(!t&&e[Oi]){var n=Ti(e[Oi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Lr(this,"providerId",t),Lr(this,"isNewUser",n)}function Mi(e){Ri.call(this,e),Lr(this,"profile",Vr((e=Ir(e.rawUserInfo||"{}"))||{}))}function Li(e){if(Mi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fi(e){if(Mi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",this.profile&&this.profile.login||null)}function Ui(e){if(Mi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vi(e){if(Mi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",e.screenName||null)}function qi(e){var t=Tn(e),n=En(t,"link"),r=En(Tn(n),"link");return En(Tn(t=En(t,"deep_link_id")),"link")||t||r||n||e}function Bi(){}function ji(e,t){return e.then((function(e){if(e[Da]){var n=Ti(e[Da]);if(!n||t!=n.f)throw new Yr("user-mismatch");return e}throw new Yr("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==$r+"user-not-found"?new Yr("user-mismatch"):e}))}function zi(e,t){if(!t)throw new Yr("internal-error","failed to construct a credential");this.a=t,Lr(this,"providerId",e),Lr(this,"signInMethod",e)}function Wi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Ki(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new zi(e.providerId,e.pendingToken)}catch(e){}return null}function Qi(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Lr(this,"idToken",t.idToken),t.accessToken&&Lr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Lr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Yr("internal-error","failed to construct a credential");Lr(this,"accessToken",t.oauthToken),Lr(this,"secret",t.oauthTokenSecret)}Lr(this,"providerId",e),Lr(this,"signInMethod",n)}function Gi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Rn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Hi(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new Qi(e.providerId,t,e.signInMethod)}catch(e){}}return null}function Yi(e,t){this.Fc=t||[],Fr(this,{providerId:e,isOAuthProvider:!0}),this.zb={},this.cb=(Di(e)||{}).Oa||null,this.ab=null}function Xi(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new Yr("argument-error",'SAML provider IDs must be prefixed with "saml."');Yi.call(this,e,[])}function $i(e){Yi.call(this,e,Ai),this.a=[]}function Ji(){$i.call(this,"facebook.com")}function Zi(e){if(!e)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new Ji).credential({accessToken:t})}function eo(){$i.call(this,"github.com")}function to(e){if(!e)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new eo).credential({accessToken:t})}function no(){$i.call(this,"google.com"),this.wa("profile")}function ro(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new no).credential({idToken:n,accessToken:t})}function io(){Yi.call(this,"twitter.com",Ni)}function oo(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Yr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qi("twitter.com",n,"twitter.com")}function ao(e,t,n){this.a=e,this.c=t,Lr(this,"providerId","password"),Lr(this,"signInMethod",n===uo.EMAIL_LINK_SIGN_IN_METHOD?uo.EMAIL_LINK_SIGN_IN_METHOD:uo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function so(e){return e&&e.email&&e.password?new ao(e.email,e.password,e.signInMethod):null}function uo(){Fr(this,{providerId:"password",isOAuthProvider:!1})}function co(e,t){if(!(t=lo(t)))throw new Yr("argument-error","Invalid email link!");return new ao(e,t.code,uo.EMAIL_LINK_SIGN_IN_METHOD)}function lo(e){return(e=si(e=qi(e)))&&e.operation===Br?e:null}function ho(e){if(!(e.Ua&&e.Ta||e.Fa&&e.ba))throw new Yr("internal-error");this.a=e,Lr(this,"providerId","phone"),Lr(this,"signInMethod","phone")}function fo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new ho(t)}return null}function po(e){return e.a.Fa&&e.a.ba?{temporaryProof:e.a.Fa,phoneNumber:e.a.ba}:{sessionInfo:e.a.Ua,code:e.a.Ta}}function mo(e){try{this.a=e||t.auth()}catch(e){throw new Yr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fr(this,{providerId:"phone",isOAuthProvider:!1})}function yo(e,t){if(!e)throw new Yr("missing-verification-id");if(!t)throw new Yr("missing-verification-code");return new ho({Ua:e,Ta:t})}function vo(e){if(e.temporaryProof&&e.phoneNumber)return new ho({Fa:e.temporaryProof,ba:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return ro(o,n);case"facebook.com":return Zi(n);case"github.com":return to(n);case"twitter.com":return oo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new zi(t,a):new Qi(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new $i(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function go(e){if(!e.isOAuthProvider)throw new Yr("invalid-oauth-provider")}function bo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Yr("invalid-auth-event");if(this.g&&this.a)throw new Yr("invalid-auth-event");if(this.g&&!this.f)throw new Yr("invalid-auth-event")}function wo(e){return(e=e||{}).type?new bo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Xr(e.error),e.postBody,e.tenantId):null}function Eo(){this.b=null,this.a=[]}C(Mi,Ri),C(Li,Mi),C(Fi,Mi),C(Ui,Mi),C(Vi,Mi),zi.prototype.na=function(e){return Ha(e,Wi(this))},zi.prototype.b=function(e,t){var n=Wi(this);return n.idToken=t,Ya(e,n)},zi.prototype.f=function(e,t){return ji(Xa(e,Wi(this)),t)},zi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Qi.prototype.na=function(e){return Ha(e,Gi(this))},Qi.prototype.b=function(e,t){var n=Gi(this);return n.idToken=t,Ya(e,n)},Qi.prototype.f=function(e,t){return ji(Xa(e,Gi(this)),t)},Qi.prototype.A=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Yi.prototype.Ea=function(e){return this.zb=H(e),this},C(Xi,Yi),C($i,Yi),$i.prototype.wa=function(e){return B(this.a,e)||this.a.push(e),this},$i.prototype.Hb=function(){return K(this.a)},$i.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new Yr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qi(this.providerId,n,this.providerId)},C(Ji,$i),Lr(Ji,"PROVIDER_ID","facebook.com"),Lr(Ji,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(eo,$i),Lr(eo,"PROVIDER_ID","github.com"),Lr(eo,"GITHUB_SIGN_IN_METHOD","github.com"),C(no,$i),Lr(no,"PROVIDER_ID","google.com"),Lr(no,"GOOGLE_SIGN_IN_METHOD","google.com"),C(io,Yi),Lr(io,"PROVIDER_ID","twitter.com"),Lr(io,"TWITTER_SIGN_IN_METHOD","twitter.com"),ao.prototype.na=function(e){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?ks(e,is,{email:this.a,oobCode:this.c}):ks(e,Es,{email:this.a,password:this.c})},ao.prototype.b=function(e,t){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?ks(e,os,{idToken:t,email:this.a,oobCode:this.c}):ks(e,ms,{idToken:t,email:this.a,password:this.c})},ao.prototype.f=function(e,t){return ji(this.na(e),t)},ao.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Fr(uo,{PROVIDER_ID:"password"}),Fr(uo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fr(uo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ho.prototype.na=function(e){return e.Va(po(this))},ho.prototype.b=function(e,t){var n=po(this);return n.idToken=t,ks(e,Ss,n)},ho.prototype.f=function(e,t){var n=po(this);return n.operation="REAUTH",ji(e=ks(e,Is,n),t)},ho.prototype.A=function(){var e={providerId:"phone"};return this.a.Ua&&(e.verificationId=this.a.Ua),this.a.Ta&&(e.verificationCode=this.a.Ta),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.ba&&(e.phoneNumber=this.a.ba),e},mo.prototype.Va=function(e,t){var n=this.a.b;return Xe(t.verify()).then((function(r){if(!u(r))throw new Yr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return ks(e,ds,t)}(n,{phoneNumber:e,recaptchaToken:r}).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new Yr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Fr(mo,{PROVIDER_ID:"phone"}),Fr(mo,{PHONE_SIGN_IN_METHOD:"phone"}),bo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},bo.prototype.R=function(){return this.h},bo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var To,So=null;function Io(e){var t="unauthorized-domain",n=void 0,r=Tn(e);e=r.b,"chrome-extension"==(r=r.f)?n=Le("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Le("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Yr.call(this,t,n)}function ko(e,t,n){Yr.call(this,e,n),(e=t||{}).Ab&&Lr(this,"email",e.Ab),e.ba&&Lr(this,"phoneNumber",e.ba),e.credential&&Lr(this,"credential",e.credential),e.Qb&&Lr(this,"tenantId",e.Qb)}function Co(e){if(e.code){var t=e.code||"";0==t.indexOf($r)&&(t=t.substring($r.length));var n={credential:vo(e),Qb:e.tenantId};if(e.email)n.Ab=e.email;else if(e.phoneNumber)n.ba=e.phoneNumber;else if(!n.credential)return new Yr(t,e.message||void 0);return new ko(t,n,e.message)}return null}function No(){}function Ao(e){return e.c||(e.c=e.b())}function _o(){}function Do(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function xo(){}function Oo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.fc,this),this.a.onerror=S(this.Ib,this),this.a.onprogress=S(this.gc,this),this.a.ontimeout=S(this.kc,this)}function Po(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Ro(e,t,n){this.reset(e,t,n,void 0,void 0)}function Mo(e){this.f=e,this.b=this.c=this.a=null}function Lo(e,t){this.name=e,this.value=t}C(Io,Yr),C(ko,Yr),ko.prototype.A=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.A();return t&&X(e,t),e},ko.prototype.toJSON=function(){return this.A()},No.prototype.c=null,C(_o,No),_o.prototype.a=function(){var e=Do(this);return e?new ActiveXObject(e):new XMLHttpRequest},_o.prototype.b=function(){var e={};return Do(this)&&(e[0]=!0,e[1]=!0),e},To=new _o,C(xo,No),xo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Oo;throw Error("Unsupported browser")},xo.prototype.b=function(){return{}},(n=Oo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Po(this,4)},n.Ib=function(){this.status=500,this.response=this.responseText="",Po(this,4)},n.kc=function(){this.Ib()},n.gc=function(){this.status=200,Po(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ro.prototype.a=null,Ro.prototype.reset=function(e,t,n,r,i){delete this.a},Lo.prototype.toString=function(){return this.name};var Fo=new Lo("SEVERE",1e3),Uo=new Lo("WARNING",900),Vo=new Lo("CONFIG",700),qo=new Lo("FINE",500);Mo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(D("Root logger has no level set."),null)}(this).value)for(v(t)&&(t=t()),e=new Ro(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Bo,jo={},zo=null;function Wo(e){var t;if(zo||(zo=new Mo(""),(jo[""]=zo).c=Vo),!(t=jo[e])){t=new Mo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=Wo(e.substr(0,n))).b||(n.b={}),(n.b[r]=t).a=n,jo[e]=t}return t}function Ko(e,t){e&&e.log(qo,t,void 0)}function Qo(e){this.f=e}function Go(e){rn.call(this),this.o=e,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Wo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C(Qo,No),Qo.prototype.a=function(){return new Go(this.f)},Qo.prototype.b=(Bo={},function(){return Bo}),C(Go,rn);var Ho=0;function Yo(e){e.c.read().then(e.ec.bind(e)).catch(e.Ma.bind(e))}function Xo(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,$o(e)}function $o(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Jo(e){rn.call(this),this.headers=new fn,this.B=e||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Zo,this.v=this.P=!1}(n=Go.prototype).open=function(e,t){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,$o(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.jc.bind(this),this.Ma.bind(this))},n.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Xo(this,!1)),this.readyState=Ho},n.jc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,$o(this)),this.a&&(this.readyState=3,$o(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,Yo(this)):e.text().then(this.ic.bind(this),this.Ma.bind(this)))))},n.ec=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Xo(this,!0):$o(this),3==this.readyState&&Yo(this)}},n.ic=function(e){this.a&&(this.response=this.responseText=e,Xo(this,!0))},n.hc=function(e){this.a&&(this.response=e,Xo(this,!0))},n.Ma=function(e){var t=this.h;t&&t.log(Uo,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&Xo(this,!0)},n.setRequestHeader=function(e,t){this.i.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(Uo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(Uo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},C(Jo,rn);var Zo="";Jo.prototype.b=Wo("goog.net.XhrIo");var ea=/^https?$/i,ta=["POST","PUT"];function na(e){return"content-type"==e.toLowerCase()}function ra(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ia(e),aa(e)}function ia(e){e.I||(e.I=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function oa(e){if(e.c&&void 0!==a)if(e.w[1]&&4==ua(e)&&2==ca(e))Ko(e.b,la(e,"Local request error detected and ignored"));else if(e.i&&4==ua(e))un(e.Lb,0,e);else if(e.dispatchEvent("readystatechange"),4==ua(e)){Ko(e.b,la(e,"Request complete")),e.c=!1;try{var t,n=ca(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(mn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!ea.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<ua(e)?e.a.statusText:""}catch(t){Ko(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+ca(e)+"]",ia(e)}}finally{aa(e)}}}function aa(e,t){if(e.a){sa(e);var n=e.a,r=e.w[0]?f:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Fo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function sa(e){e.a&&e.v&&(e.a.ontimeout=null),e.o&&(s.clearTimeout(e.o),e.o=null)}function ua(e){return e.a?e.a.readyState:0}function ca(e){try{return 2<ua(e)?e.a.status:-1}catch(e){return-1}}function la(e,t){return t+" ["+e.O+" "+e.l+" "+ca(e)+"]"}function ha(e){var t=Ta;this.g=[],this.v=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function fa(e,t,n){e.a=!0,e.c=n,e.f=!t,ya(e)}function da(e){if(e.a){if(!e.u)throw new va(e);e.u=!1}}function pa(e,t,n,r){e.g.push([t,n,r]),e.a&&ya(e)}function ma(e){return q(e.g,(function(e){return v(e[1])}))}function ya(e){if(e.h&&e.a&&ma(e)){var t=e.h,n=wa[t];n&&(s.clearTimeout(n.a),delete wa[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.o,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(N(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,ma(e)||(n=!0)}}e.c=t,r&&(u=S(e.m,e,!0),r=S(e.m,e,!1),t instanceof ha?(pa(t,u,r),t.w=!0):t.then(u,r)),n&&(t=new ba(t),wa[t.a]=t,e.h=t.a)}function va(){A.call(this)}function ga(){A.call(this)}function ba(e){this.a=s.setTimeout(S(this.c,this),0),this.b=e}(n=Jo.prototype).Ga=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ko(this.b,la(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(Ko(this.b,la(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),aa(this))},n.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),aa(this,!0)),Jo.qb.xa.call(this)},n.Lb=function(){this.ta||(this.J||this.i||this.f?oa(this):this.yc())},n.yc=function(){oa(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Zo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Fo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Ko(this.b,"Can not get response: "+e.message),null}},ha.prototype.cancel=function(e){if(this.a)this.c instanceof ha&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,t.l<=0&&t.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(e=new ga(this),da(this),fa(this,!1,e))}},ha.prototype.m=function(e,t){this.i=!1,fa(this,e,t)},ha.prototype.then=function(e,t,n){var r,i,o=new ze((function(e,t){r=e,i=t}));return pa(this,r,(function(e){e instanceof ga?o.cancel():i(e)})),o.then(e,t,n)},ha.prototype.$goog_Thenable=!0,C(va,A),va.prototype.message="Deferred has already fired",va.prototype.name="AlreadyCalledError",C(ga,A),ga.prototype.message="Deferred was canceled",ga.prototype.name="CanceledError",ba.prototype.c=function(){throw delete wa[this.a],this.b};var wa={};function Ea(e){var t,n=document,r=re(e).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new ha(o);return t=window.setTimeout((function(){Sa(i,!0);var e=new Ca(ka,"Timeout reached for loading script "+r);da(a),fa(a,!1,e)}),5e3),o.Ga=t,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Sa(i,!1,t),da(a),fa(a,!0,null))},i.onerror=function(){Sa(i,!0,t);var e=new Ca(Ia,"Error while loading script "+r);da(a),fa(a,!1,e)},X(o={},{type:"text/javascript",charset:"UTF-8"}),jn(i,o),function(e,t){L(e,"HTMLScriptElement"),e.src=re(t),null===h&&(h=(t=(t=s.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""),(t=h)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ta(){if(this&&this.Nb){var e=this.Nb;e&&"SCRIPT"==e.tagName&&Sa(e,!0,this.Ga)}}function Sa(e,t,n){null!=n&&s.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ia=0,ka=1;function Ca(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),A.call(this,n),this.code=e}function Na(e){this.f=e}function Aa(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=e.secureTokenTimeout||xa,this.g=H(e.secureTokenHeaders||Oa),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.firebaseTimeout||Pa,this.a=H(e.firebaseHeaders||Ra),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==ur(),!(r=s.XMLHttpRequest||r&&t.INTERNAL.node&&t.INTERNAL.node.XMLHttpRequest)&&!sr())throw new Yr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,sr()?this.f=new Qo(self):cr()?this.f=new Na(r):this.f=new xo,this.b=null}C(Ca,A),C(Na,No),Na.prototype.a=function(){return new this.f},Na.prototype.b=function(){return{}};var _a,Da="idToken",xa=new Ar(3e4,6e4),Oa={"Content-Type":"application/x-www-form-urlencoded"},Pa=new Ar(3e4,6e4),Ra={"Content-Type":"application/json"};function Ma(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function La(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function Fa(e,t,n,r,i,o,a){(e=function(){var e=mr();return!((e=fr(e)!=hr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&e<30)&&(!vt||!Ct||9<Ct)}()||sr()?S(e.o,e):(_a=_a||new ze((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(s[Va]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){pa(e,null,t,void 0)}(Ea(ie(Ua,{onload:Va})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)})),S(e.m,e)))(t,n,r,i,o,a)}Aa.prototype.R=function(){return this.b},Aa.prototype.o=function(e,t,n,r,i,o){if(sr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new Yr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Jo(this.f);if(o){a.g=Math.max(0,o);var c=setTimeout((function(){a.dispatchEvent("timeout")}),o)}on(a,"complete",(function(){c&&clearTimeout(c);var n=null;try{n=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Ko(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){n=null}t&&t(n)})),an(a,"ready",(function(){c&&clearTimeout(c),ft(this)})),an(a,"timeout",(function(){c&&clearTimeout(c),ft(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.O=n,e.I=!1,e.c=!0,e.a=e.B?e.B.a():To.a(),e.w=e.B?Ao(e.B):Ao(To),e.a.onreadystatechange=S(e.Lb,e);try{Ko(e.b,la(e,"Opening Xhr")),e.J=!0,e.a.open(n,String(t),!0),e.J=!1}catch(t){return Ko(e.b,la(e,"Error opening Xhr: "+t.message)),void ra(e,t)}t=r||"";var o=new fn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(y(e)||u(e))U(e,t,void 0);else for(var n=hn(e),r=ln(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=na,n=e.length,r=u(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:u(e)?e.charAt(t):e[t]}(o.X()),r=s.FormData&&t instanceof s.FormData,!B(ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.P&&(e.a.withCredentials=e.P);try{sa(e),0<e.g&&(e.v=function(e){return vt&&At(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),Ko(e.b,la(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=S(e.Ga,e)):e.o=un(e.Ga,e.g,e)),Ko(e.b,la(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){Ko(e.b,la(e,"Send error: "+t.message)),ra(e,t)}}(a,e,n,r,i)};var Ua=new $(ee,"https://apis.google.com/js/client.js?onload=%{onload}"),Va="__fcb"+Math.floor(1e6*Math.random()).toString();function qa(e){if(!u(e=e.email)||!rr.test(e))throw new Yr("invalid-email")}function Ba(e){"email"in e&&qa(e)}function ja(e){if(!e[Da])throw new Yr("internal-error")}function za(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Yr("internal-error")}else{if(!e.sessionInfo)throw new Yr("missing-verification-id");if(!e.code)throw new Yr("missing-verification-code")}}Aa.prototype.m=function(e,t,n,r,i){var o=this;_a.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Aa.prototype.ob=function(){return ks(this,ys,{})},Aa.prototype.rb=function(e,t){return ks(this,ps,{idToken:e,email:t})},Aa.prototype.sb=function(e,t){return ks(this,ms,{idToken:e,password:t})};var Wa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ka(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new Yr("internal-error")}function Qa(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Ln(e=new On(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function Ga(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Co(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Co(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Co(e)):e.errorMessage&&(t=Cs(e.errorMessage)),t)throw t;if(!e[Da])throw new Yr("internal-error")}function Ha(e,t){return t.returnIdpCredential=!0,ks(e,vs,t)}function Ya(e,t){return t.returnIdpCredential=!0,ks(e,bs,t)}function Xa(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ks(e,gs,t)}function $a(e){if(!e.oobCode)throw new Yr("invalid-action-code")}(n=Aa.prototype).tb=function(e,t){var n={idToken:e},r=[];return Q(Wa,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ks(this,ps,n)},n.kb=function(e,t){return X(e={requestType:"PASSWORD_RESET",email:e},t),ks(this,cs,e)},n.lb=function(e,t){return X(e={requestType:"EMAIL_SIGNIN",email:e},t),ks(this,ss,e)},n.jb=function(e,t){return X(e={requestType:"VERIFY_EMAIL",idToken:e},t),ks(this,us,e)},n.Va=function(e){return ks(this,Ts,e)},n.$a=function(e,t){return ks(this,fs,{oobCode:e,newPassword:t})},n.Ka=function(e){return ks(this,Za,{oobCode:e})},n.Xa=function(e){return ks(this,Ja,{oobCode:e})};var Ja={endpoint:"setAccountInfo",D:$a,fa:"email",F:!0},Za={endpoint:"resetPassword",D:$a,K:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Yr("internal-error")},F:!0},es={endpoint:"signupNewUser",D:function(e){if(qa(e),!e.password)throw new Yr("weak-password")},K:ja,T:!0,F:!0},ts={endpoint:"createAuthUri",F:!0},ns={endpoint:"deleteAccount",V:["idToken"]},rs={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(e){if(!m(e.deleteProvider))throw new Yr("internal-error")}},is={endpoint:"emailLinkSignin",V:["email","oobCode"],D:qa,K:ja,T:!0,F:!0},os={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:qa,K:ja,T:!0},as={endpoint:"getAccountInfo"},ss={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Yr("internal-error");qa(e)},fa:"email",F:!0},us={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Yr("internal-error")},fa:"email",F:!0},cs={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Yr("internal-error");qa(e)},fa:"email",F:!0},ls={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},hs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(e){if(!e.recaptchaSiteKey)throw new Yr("internal-error")}},fs={endpoint:"resetPassword",D:$a,fa:"email",F:!0},ds={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ps={endpoint:"setAccountInfo",V:["idToken"],D:Ba,T:!0},ms={endpoint:"setAccountInfo",V:["idToken"],D:function(e){if(Ba(e),!e.password)throw new Yr("weak-password")},K:ja,T:!0},ys={endpoint:"signupNewUser",K:ja,T:!0,F:!0},vs={endpoint:"verifyAssertion",D:Ka,Qa:Qa,K:Ga,T:!0,F:!0},gs={endpoint:"verifyAssertion",D:Ka,Qa:Qa,K:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Yr("user-not-found");if(e.errorMessage)throw Cs(e.errorMessage);if(!e[Da])throw new Yr("internal-error")},T:!0,F:!0},bs={endpoint:"verifyAssertion",D:function(e){if(Ka(e),!e.idToken)throw new Yr("internal-error")},Qa:Qa,K:Ga,T:!0},ws={endpoint:"verifyCustomToken",D:function(e){if(!e.token)throw new Yr("invalid-custom-token")},K:ja,T:!0,F:!0},Es={endpoint:"verifyPassword",D:function(e){if(qa(e),!e.password)throw new Yr("wrong-password")},K:ja,T:!0,F:!0},Ts={endpoint:"verifyPhoneNumber",D:za,K:ja,F:!0},Ss={endpoint:"verifyPhoneNumber",D:function(e){if(!e.idToken)throw new Yr("internal-error");za(e)},K:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Co(e);ja(e)}},Is={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:za,K:ja,F:!0};function ks(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.V))return $e(new Yr("internal-error"));var r,i=t.Kb||"POST";return Xe(n).then(t.D).then((function(){return t.T&&(n.returnSecureToken=!0),t.F&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o){var a=Tn(e.h+t);wn(a,"key",e.c),o&&wn(a,"cb",k().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&wn(a,u,r[u]);return new ze((function(t,o){Fa(e,a.toString(),(function(e){e?e.error?o(Ns(e,i||{})):t(e):o(new Yr("network-request-failed"))}),n,s?void 0:Kn(Sr(r)),e.a,e.i.get())}))}(e,t.endpoint,i,n,t.Yb,t.wb||!1)})).then((function(e){return r=e,t.Qa?t.Qa(n,r):r})).then(t.K).then((function(){if(!t.fa)return r;if(!(t.fa in r))throw new Yr("internal-error");return r[t.fa]}))}function Cs(e){return Ns({error:{errors:[{message:e}],code:400,message:e}})}function Ns(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Yr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",X(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Yr(r[i],t);return!t&&e&&(t=Tr(e)),new Yr("internal-error",t)}function As(e){this.b=e,this.a=null,this.fb=function(e){return(Os=Os||new ze((function(e,t){function n(){Nr(),yr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:Ds.get()})}if(yr("gapi.iframes.Iframe"))e();else if(yr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){yr("gapi.load")?n():t(Error("Network Error"))},Xe(Ea(r=ie(_s,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw Os=null,e}))).then((function(){return new ze((function(t,n){yr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),xs.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var _s=new $(ee,"https://apis.google.com/js/api.js?onload=%{onload}"),Ds=new Ar(3e4,6e4),xs=new Ar(5e3,15e3),Os=null;function Ps(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Sn(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Rs(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ms(e){try{return t.app(e).auth().Aa()}catch(e){return[]}}function Ls(e,t,n,r,i){this.u=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Fs(e){var t=$n();return function(e){return ks(e,ls,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Tn(t),r=n.f;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(a=0==o.indexOf("chrome-extension://")?Tn(o).b==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(nr.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){e=!0;break e}}e=!1}if(!e)throw new Io($n())}))}function Us(e){return e.l||(e.l=ir().then((function(){if(!e.o){var t=e.c,n=e.h,r=Ms(e.b),i=new Ps(e.u,e.f,e.b);i.f=t,i.b=n,i.c=K(r||[]),e.o=i.toString()}e.i=new As(e.o),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.fb.then((function(){e.a.register("authEvent",t,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.i,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=wo(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Xe(n)}return n.status="ERROR",Xe(n)}))}(e)}))),e.l}function Vs(e){return e.m||(e.v=e.c?pr(e.c,Ms(e.b)):null,e.m=new Aa(e.f,Ci(e.h),e.v)),e.m}function qs(e,t,n,r,i,o,a,s,u,c,l){return(e=new Rs(e,t,n,r,i)).l=o,e.g=a,e.i=s,e.b=H(u||null),e.f=c,e.nb(l).toString()}function Bs(e){if(this.a=e||t.INTERNAL.reactNative&&t.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Yr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function js(e){this.b=e,this.a={},this.f=S(this.c,this)}Ps.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Mn(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Mn(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Mn(this.a.a,"fw"),this.a.toString()},Rs.prototype.nb=function(e){return this.h=e,this},Rs.prototype.toString=function(){var e=Sn(this.o,"/__/auth/handler");if(wn(e,"apiKey",this.m),wn(e,"appName",this.c),wn(e,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var r=t.app(this.c).auth().ha()}catch(e){r=null}for(var i in n.ab=r,wn(e,"providerId",this.a.providerId),r=Sr((n=this.a).zb))r[i]=r[i].toString();i=n.Fc,r=H(r);for(var o=0;o<i.length;o++){var a=i[o];a in r&&delete r[a]}n.cb&&n.ab&&!r[n.cb]&&(r[n.cb]=n.ab),G(r)||wn(e,"customParameters",Tr(r))}if("function"==typeof this.a.Hb&&(n=this.a.Hb()).length&&wn(e,"scopes",n.join(",")),this.l?wn(e,"redirectUrl",this.l):Mn(e.a,"redirectUrl"),this.g?wn(e,"eventId",this.g):Mn(e.a,"eventId"),this.i?wn(e,"v",this.i):Mn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!En(e,s)&&wn(e,s,this.b[s]);return this.h?wn(e,"tid",this.h):Mn(e.a,"tid"),this.f?wn(e,"eid",this.f):Mn(e.a,"eid"),(s=Ms(this.c)).length&&wn(e,"fw",s.join(",")),e.toString()},(n=Ls.prototype).Fb=function(e,t,n){var r=new Yr("popup-closed-by-user"),i=new Yr("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(e){var t={type:"webStorageSupport"};return Us(e).then((function(){return function(e,t){return e.fb.then((function(){return new ze((function(n){e.a.send(t.type,t,n,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.i,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&er(e),t(i),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(e){return new ze((function(t){return function n(){cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return cn(n).then((function(){t(r)}))}))},n.Ob=function(){var e=mr();return!Er(e)&&!Cr(e)},n.Jb=function(){return!1},n.Db=function(e,t,n,r,i,o,a,s){if(!e)return $e(new Yr("popup-blocked"));if(a&&!Er())return this.ia().s((function(t){er(e),i(t)})),r(),Xe();this.a||(this.a=Fs(Vs(this)));var u=this;return this.a.then((function(){var t=u.ia().s((function(t){throw er(e),i(t),t}));return r(),t})).then((function(){go(n),a||Jn(qs(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,s),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},n.Eb=function(e,t,n,r){this.a||(this.a=Fs(Vs(this)));var i=this;return this.a.then((function(){go(t),Jn(qs(i.u,i.f,i.b,e,t,$n(),n,i.c,void 0,i.h,r))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},n.ia=function(){var e=this;return Us(this).then((function(){return e.i.fb})).s((function(){throw e.a=null,new Yr("network-request-failed")}))},n.Rb=function(){return!0},n.ya=function(e){this.g.push(e)},n.La=function(e){z(this.g,(function(t){return t==e}))},(n=Bs.prototype).get=function(e){return Xe(this.a.getItem(e)).then((function(e){return e&&Ir(e)}))},n.set=function(e,t){return Xe(this.a.setItem(e,Tr(t)))},n.S=function(e){return Xe(this.a.removeItem(e))},n.$=function(){},n.ea=function(){};var zs,Ws=[];function Ks(e,t,n){G(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Qs(e){this.a=e}function Gs(e){this.c=e,this.b=!1,this.a=[]}function Hs(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return $e(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ze((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ys(e,c),t})).s((function(t){throw Ys(e,c),t}))}function Ys(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),z(e.a,(function(e){return e==t}))}}function Xs(){if(!Js())throw new Yr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;sr()&&self?(this.l=function(){var e=sr()?self:null;if(U(Ws,(function(n){n.b==e&&(t=n)})),!t){var t=new js(e);Ws.push(t)}return t}(),Ks(this.l,"keyChanged",(function(t,n){return ru(e).then((function(t){return 0<t.length&&U(e.a,(function(e){e(t)})),{keyProcessed:B(t,n.key)}}))})),Ks(this.l,"ping",(function(){return Xe(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Xe().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):Xe(null)}().then((function(t){(e.h=t)&&(e.g=new Gs(new Qs(t)),Hs(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&B(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function $s(e){return e.m||(e.m=function e(t){return new ze((function(n,r){var i=t.u.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(e){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new ze((function(t,n){var r=e.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).s((function(e){r(e)}))}}))}(e)),e.m}function Js(){try{return!!s.indexedDB}catch(n){return!1}}function Zs(e){return e.objectStore("firebaseLocalStorage")}function eu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function tu(e){return new ze((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function nu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Hs(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):Xe()}function ru(e){return $s(e).then((function(e){var t=Zs(eu(e,!1));return t.getAll?tu(t.getAll()):new ze((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function iu(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function ou(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Xe().then((function(){if(Js()){var e=kr(),r="__sak"+e;return zs=zs||new Xs,(n=zs).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.$((function(e){U(t.a,(function(t){t(e)}))})),e}))}function au(){this.a={},this.type="inMemory"}function su(){if(!function(){var e="Node"==ur();if(!(e=uu()||e&&t.INTERNAL.node&&t.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ur())throw new Yr("internal-error","The LocalStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=uu()||t.INTERNAL.node.localStorage,this.type="localStorage"}function uu(){try{var e=s.localStorage,t=kr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function cu(){this.type="nullStorage"}function lu(){if(!function(){var e="Node"==ur();if(!(e=hu()||e&&t.INTERNAL.node&&t.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ur())throw new Yr("internal-error","The SessionStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=hu()||t.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function hu(){try{var e=s.sessionStorage,t=kr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function fu(){var e={};e.Browser=mu,e.Node=yu,e.ReactNative=vu,e.Worker=gu,this.a=e[ur()]}js.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];U(r,(function(t){i.push(Xe().then((function(){return t(e.origin,e.data.data)})))})),Ze(i).then((function(r){var i=[];U(r,(function(e){i.push({fulfilled:e.Gb,value:e.value,reason:e.reason?e.reason.message:void 0})})),U(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Qs.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Gs.prototype.close=function(){for(;0<this.a.length;)Ys(this,this.a[0]);this.b=!0},(n=Xs.prototype).set=function(e,t){var n,r=!1,i=this;return $s(this).then((function(t){return tu((t=Zs(eu(n=t,!0))).get(e))})).then((function(o){var a=Zs(eu(n,!0));return o?(o.value=t,tu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,tu(a.add(o)))})).then((function(){return i.c[e]=t,nu(i,e)})).ka((function(){r&&i.b--}))},n.get=function(e){return $s(this).then((function(t){return tu(Zs(eu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.S=function(e){var t=!1,n=this;return $s(this).then((function(r){return t=!0,n.b++,tu(Zs(eu(r,!0)).delete(e))})).then((function(){return delete n.c[e],nu(n,e)})).ka((function(){t&&n.b--}))},n.$=function(e){0==this.a.length&&function(e){iu(e),function t(){e.f=setTimeout((function(){e.i=ru(e).then((function(t){0<t.length&&U(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},n.ea=function(e){z(this.a,(function(t){return t==e})),0==this.a.length&&iu(this)},(n=ou.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.S=function(e){return this.b.then((function(t){return t.S(e)}))},n.$=function(e){this.a.push(e)},n.ea=function(e){z(this.a,(function(t){return t==e}))},(n=au.prototype).get=function(e){return Xe(this.a[e])},n.set=function(e,t){return this.a[e]=t,Xe()},n.S=function(e){return delete this.a[e],Xe()},n.$=function(){},n.ea=function(){},(n=su.prototype).get=function(e){var t=this;return Xe().then((function(){return Ir(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Xe().then((function(){var r=Tr(t);null===r?n.S(e):n.a.setItem(e,r)}))},n.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},n.$=function(e){s.window&&Kt(s.window,"storage",e)},n.ea=function(e){s.window&&Ht(s.window,"storage",e)},(n=cu.prototype).get=function(){return Xe(null)},n.set=function(){return Xe()},n.S=function(){return Xe()},n.$=function(){},n.ea=function(){},(n=lu.prototype).get=function(e){var t=this;return Xe().then((function(){return Ir(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Xe().then((function(){var r=Tr(t);null===r?n.S(e):n.a.setItem(e,r)}))},n.S=function(e){var t=this;return Xe().then((function(){t.a.removeItem(e)}))},n.$=function(){},n.ea=function(){};var du,pu,mu={C:su,Sa:lu},yu={C:su,Sa:lu},vu={C:Bs,Sa:cu},gu={C:su,Sa:cu},bu={$c:"local",NONE:"none",bd:"session"};function wu(){var e=!(Cr(mr())||!ar()),t=Er(),n=vr();this.m=e,this.h=t,this.l=n,this.a={},e=du=du||new fu;try{this.g=!Xn()&&xr()||!s.indexedDB?new e.a.C:new ou(sr()?new au:new e.a.C)}catch(e){this.g=new au,this.h=!0}try{this.i=new e.a.Sa}catch(e){this.i=new au}this.u=new au,this.f=S(this.Pb,this),this.b={}}function Eu(){return pu=pu||new wu}function Tu(e,t){switch(t){case"session":return e.i;case"none":return e.u;default:return e.g}}function Su(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Iu(e,t,n){return n=Su(t,n),"local"==t.C&&(e.b[n]=null),Tu(e,t.C).S(n)}function ku(e){e.c&&(clearInterval(e.c),e.c=null)}function Cu(e){this.a=e,this.b=Eu()}(n=wu.prototype).get=function(e,t){return Tu(this,e.C).get(Su(e,t))},n.set=function(e,t,n){var r=Su(e,n),i=this,o=Tu(this,e.C);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.C&&(i.b[r]=t)}))},n.addListener=function(e,t,n){e=Su(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),G(this.a)&&(Tu(this,"local").$(this.f),this.h||(Xn()||!xr())&&s.indexedDB||!this.l||function(e){ku(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Rt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Pb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=Su(e,t),this.a[e]&&(z(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),G(this.a)&&(Tu(this,"local").ea(this.f),ku(this))},n.Pb=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Tu(this,"local").ea(this.f):ku(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.Za(t))},vt&&Ct&&10==Ct&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else U(e,S(this.Za,this))},n.Za=function(e){this.a[e]&&U(this.a[e],(function(e){e()}))};var Nu,Au={name:"authEvent",C:"local"};function _u(){this.a=Eu()}function Du(e,t){this.b=xu,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0!==Nu||(Nu=s.Int32Array?new Int32Array(Uu):Uu),this.reset()}C(Du,(function(){this.b=-1}));for(var xu=64,Ou=xu-1,Pu=[],Ru=0;Ru<Ou;Ru++)Pu[Ru]=0;var Mu=W(128,Pu);function Lu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;t<64;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;t<64;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Nu[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Fu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if(u(t))for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Lu(e),i=0);else{if(!y(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Lu(e),i=0)}}e.c=i,e.g+=n}Du.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):K(this.h)};var Uu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vu(){Du.call(this,8,qu)}C(Vu,Du);var qu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Bu(e,t,n,r,i){this.u=e,this.i=t,this.l=n,this.m=r||null,this.o=i||null,this.h=t+":"+n,this.v=new _u,this.g=new Cu(this.h),this.f=null,this.b=[],this.a=this.c=null}function ju(e){return new Yr("invalid-cordova-configuration",e)}function zu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Wu(e){return e.f||(e.f=e.ia().then((function(){return new ze((function(t){e.ya((function n(r){return t(r),e.La(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Ku(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=qi(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Ir(En(o=Tn(i),"firebaseError")||null))?Xr(o):null)?new bo(r.c,r.b,null,null,o,null,r.R()):new bo(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}zu(e,i)}))}var n=new bo("unknown",null,null,null,new Yr("no-auth-event")),r=!1,i=cn(500).then((function(){return Ku(e).then((function(){r||zu(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(yr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},So=So||new Eo,function(e){var t=So;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=yr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Ku(e){var t=null;return function(e){return e.b.get(Au,e.a).then((function(e){return wo(e)}))}(e.g).then((function(n){return t=n,Iu((n=e.g).b,Au,n.a)})).then((function(){return t}))}function Qu(e){this.a=e,this.b=Eu()}(n=Bu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(or(void 0)?ir().then((function(){return new ze((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):$e(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof yr("universalLinks.subscribe",s))throw ju("cordova-universal-links-plugin-fix is not installed");if(void 0===yr("BuildInfo.packageName",s))throw ju("cordova-plugin-buildinfo is not installed");if("function"!=typeof yr("cordova.plugins.browsertab.openUrl",s))throw ju("cordova-plugin-browsertab is not installed");if("function"!=typeof yr("cordova.InAppBrowser.open",s))throw ju("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Yr("cordova-not-ready")}))},n.Fb=function(e,t){return t(new Yr("operation-not-supported-in-this-environment")),Xe()},n.Db=function(){return $e(new Yr("operation-not-supported-in-this-environment"))},n.Rb=function(){return!1},n.Ob=function(){return!0},n.Jb=function(){return!0},n.Eb=function(e,t,n,r){if(this.c)return $e(new Yr("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Xe().then((function(){return go(t),Wu(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new bo(t,r,null,o,new Yr("no-auth-event"),null,i),u=yr("BuildInfo.packageName",s);if("string"!=typeof u)throw new Yr("invalid-cordova-configuration");var c=yr("BuildInfo.displayName",s),l={};if(mr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!mr().toLowerCase().match(/android/))return $e(new Yr("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new Vu;Fu(t,e),e=[];var n=8*t.g;t.c<56?Fu(t,Mu,56-t.c):Fu(t,Mu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Lu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var h=qs(e.u,e.i,e.l,t,n,null,r,e.m,l,e.o,i);return e.ia().then((function(){var t=e.h;return e.v.a.set(Au,a.A(),t)})).then((function(){var t=yr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new Yr("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=yr("cordova.plugins.browsertab.openUrl",s)))throw new Yr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=yr("cordova.InAppBrowser.open",s)))throw new Yr("invalid-cordova-configuration");t=mr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new ze((function(e,t){u=function(){var t=yr("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(u),c=function(){a=a||cn(2e3).then((function(){t(new Yr("redirect-cancelled-by-user"))}))},l=function(){_r()&&c()},o.addEventListener("resume",c,!1),mr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(e){return Ku(i).then((function(){throw e}))}))})).ka((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.La(u),i.c=null}))},n.ya=function(e){this.b.push(e),Wu(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new bo("unknown",null,null,null,new Yr("no-auth-event")),e(t))}))},n.La=function(e){z(this.b,(function(t){return t==e}))};var Gu={name:"pendingRedirect",C:"session"};function Hu(e){return Iu(e.b,Gu,e.a)}function Yu(e,t,n){this.i={},this.v=0,this.B=e,this.u=t,this.m=n,this.h=[],this.f=!1,this.l=S(this.o,this),this.b=new cc,this.w=new pc,this.g=new Qu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Xu(this.B,this.u,this.m,Ii)}function Xu(e,n,r,i){var o=t.SDK_VERSION||null;return or()?new Bu(e,n,r,o,i):new Ls(e,n,r,o,i)}function $u(e){e.f||(e.f=!0,e.a.ya(e.l));var t=e.a;return e.a.ia().s((function(n){throw e.a==t&&e.reset(),n}))}function Ju(e){e.a.Ob()&&$u(e).s((function(t){var n=new bo("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ic(t)&&e.o(n)})),e.a.Jb()||lc(e.b)}function Zu(e,t){B(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Gu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Hu(e.g).then((function(){$u(e).s((function(t){var n=new bo("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ic(t)&&e.o(n)}))})):Ju(e)})).s((function(){Ju(e)}))}function ec(e,t){z(e.h,(function(e){return e==t}))}Yu.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=Xu(this.B,this.u,this.m),this.i={}},Yu.prototype.o=function(e){if(!e)throw new Yr("invalid-auth-event");if(6e5<=k()-this.v&&(this.i={},this.v=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.v=k())),t=!0;break}}return lc(this.b),t};var tc=new Ar(2e3,1e4),nc=new Ar(3e4,6e4);function rc(e,t,n,r,i,o,a){return e.a.Db(t,n,r,(function(){e.f||(e.f=!0,e.a.ya(e.l))}),(function(){e.reset()}),i,o,a)}function ic(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function oc(e,t,n,r,i){var o;return function(e){return e.b.set(Gu,"pending",e.a)}(e.g).then((function(){return e.a.Eb(t,n,r,i).s((function(t){if(ic(t))throw new Yr("operation-not-supported-in-this-environment");return o=t,Hu(e.g).then((function(){throw o}))})).then((function(){return e.a.Rb()?new ze((function(){})):Hu(e.g).then((function(){return e.oa()})).then((function(){})).s((function(){}))}))}))}function ac(e,t,n,r,i){return e.a.Fb(r,(function(e){t.ja(n,null,e,i)}),tc.get())}Yu.prototype.oa=function(){return this.b.oa()};var sc={};function uc(e,t,n){var r=t+":"+n;return sc[r]||(sc[r]=new Yu(e,t,n)),sc[r]}function cc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function lc(e){e.g||(e.g=!0,dc(e,!1,null,null))}function hc(e){e.g&&!e.i&&dc(e,!1,null,null)}function fc(e,t){if(e.b=function(){return Xe(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function dc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return $e(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):fc(e,n):fc(e,{user:null}),e.f=[],e.c=[]}function pc(){}function mc(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(e){this.vb=e},enumerable:!1})}function yc(e,t){this.a=t,Lr(this,"verificationId",e)}function vc(e,t,n,r){return new mo(e).Va(t,n).then((function(e){return new yc(e,r)}))}function gc(e){var t=Si(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Yr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fr(this,{token:e,expirationTime:Dr(1e3*t.exp),authTime:Dr(1e3*t.auth_time),issuedAtTime:Dr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function bc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function wc(e){this.f=e,this.b=this.a=null,this.c=0}function Ec(e,t){var n=t[Da],r=t.refreshToken;t=Tc(t.expiresIn),e.b=n,e.c=t,e.a=r}function Tc(e){return k()+1e3*parseInt(e,10)}function Sc(e,t){this.a=e||null,this.b=t||null,Fr(this,{lastSignInTime:Dr(t||null),creationTime:Dr(e||null)})}function Ic(e,t,n,r,i,o){Fr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function kc(e,t){for(var n in Pt.call(this,e),t)this[n]=t[n]}function Cc(e,n,r){this.I=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null,e=t.SDK_VERSION?pr(t.SDK_VERSION):null,this.a=new Aa(this.l,Ci(Ii),e),this.b=new wc(this.a),Pc(this,n[Da]),Ec(this.b,n),Lr(this,"refreshToken",this.b.a),Lc(this,r||{}),rn.call(this),this.J=!1,this.o&&gr()&&(this.i=uc(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(e){return new bc((function(){return e.G(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-k()-3e5;return 0<t?t:0}))}(this),this.W=S(this.Ha,this);var i=this;this.ga=null,this.va=function(e){i.sa(e.g)},this.Z=null,this.P=[],this.ua=function(e){Ac(i,e.c)},this.Y=null}function Nc(e,t){e.Z&&Ht(e.Z,"languageCodeChanged",e.va),(e.Z=t)&&Kt(t,"languageCodeChanged",e.va)}function Ac(e,n){e.P=n,La(e.a,t.SDK_VERSION?pr(t.SDK_VERSION,e.P):null)}function _c(e,t){e.Y&&Ht(e.Y,"frameworkChanged",e.ua),(e.Y=t)&&Kt(t,"frameworkChanged",e.ua)}function Dc(e){try{return t.app(e.m).auth()}catch(n){throw new Yr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function xc(e){e.B||e.w.b||(e.w.start(),Ht(e,"tokenChanged",e.W),Kt(e,"tokenChanged",e.W))}function Oc(e){Ht(e,"tokenChanged",e.W),e.w.stop()}function Pc(e,t){e.ma=t,Lr(e,"_lat",t)}function Rc(e){for(var t=[],n=0;n<e.O.length;n++)t.push(e.O[n](e));return Ze(t).then((function(){return e}))}function Mc(e){e.i&&!e.J&&(e.J=!0,Zu(e.i,e))}function Lc(e,t){Fr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Sc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Fc(){}function Uc(e){return Xe().then((function(){if(e.B)throw new Yr("app-deleted")}))}function Vc(e){return V(e.providerData,(function(e){return e.providerId}))}function qc(e,t){t&&(Bc(e,t.providerId),e.providerData.push(t))}function Bc(e,t){z(e.providerData,(function(e){return e.providerId==t}))}function jc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Lr(e,t,n)}function zc(e,t){e!=t&&(Fr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Lr(e,"metadata",function(e){return new Sc(e.a,e.b)}(t.metadata)):Lr(e,"metadata",new Sc),U(t.providerData,(function(t){qc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Lr(e,"refreshToken",e.b.a))}function Wc(e){return e.G().then((function(t){var n=e.isAnonymous;return function(e,t){return ks(e.a,as,{idToken:t}).then(S(e.zc,e))}(e,t).then((function(){return n||jc(e,"isAnonymous",!1),t}))}))}function Kc(e,t){t[Da]&&e.ma!=t[Da]&&(Ec(e.b,t),e.dispatchEvent(new kc("tokenChanged")),Pc(e,t[Da]),jc(e,"refreshToken",e.b.a))}function Qc(e,t){return Wc(e).then((function(){if(B(Vc(e),t))return Rc(e).then((function(){throw new Yr("provider-already-linked")}))}))}function Gc(e,t,n){return Ur({user:e,credential:vo(t),additionalUserInfo:t=xi(t),operationType:n})}function Hc(e,t){return Kc(e,t),e.reload().then((function(){return e}))}function Yc(e,n,r,i,o){if(!gr())return $e(new Yr("operation-not-supported-in-this-environment"));if(e.h&&!o)return $e(e.h);var a=Di(r.providerId),s=kr(e.uid+":::"),u=null;(!Er()||ar())&&e.o&&r.isOAuthProvider&&(u=qs(e.o,e.l,e.m,n,r,null,s,t.SDK_VERSION||null,null,null,e.tenantId));var c=tr(u,a&&a.Da,a&&a.Ca);return i=i().then((function(){if($c(e),!o)return e.G().then((function(){}))})).then((function(){return rc(e.i,c,n,r,s,!!u,e.tenantId)})).then((function(){return new ze((function(t,r){e.ja(n,null,new Yr("cancelled-popup-request"),e.g||null),e.f=t,e.v=r,e.g=s,e.c=ac(e.i,e,n,c,s)}))})).then((function(e){return c&&er(c),e?Ur(e):null})).s((function(e){throw c&&er(c),e})),Jc(e,i,o)}function Xc(e,t,n,r,i){if(!gr())return $e(new Yr("operation-not-supported-in-this-environment"));if(e.h&&!i)return $e(e.h);var o=null,a=kr(e.uid+":::");return r=r().then((function(){if($c(e),!i)return e.G().then((function(){}))})).then((function(){return e.ca=a,Rc(e)})).then((function(t){return e.da&&(t=(t=e.da).b.set(tl,e.A(),t.a)),t})).then((function(){return oc(e.i,t,n,a,e.tenantId)})).s((function(t){if(o=t,e.da)return nl(e.da);throw o})).then((function(){if(o)throw o})),Jc(e,r,i)}function $c(e){if(!e.i||!e.J){if(e.i&&!e.J)throw new Yr("internal-error");throw new Yr("auth-domain-config-required")}}function Jc(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),$e(e.h)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new kc("userInvalidated")),e.h=t),t}))}(e,t,n);return e.I.push(r),r.ka((function(){j(e.I,r)})),r}function Zc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[Da]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-k())/1e3;var r=new Cc(t,n,e);return e.providerData&&U(e.providerData,(function(e){e&&qc(r,Ur(e))})),e.redirectEventId&&(r.ca=e.redirectEventId),r}function el(e){this.a=e,this.b=Eu()}cc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},cc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(dc(this,!0,null,e.a),Xe()):t.za(n,r)?function(e,t,n){n=n.za(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.R(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){dc(e,s,t,null)})).s((function(t){dc(e,s,null,t)}))}(this,e,t):$e(new Yr("invalid-auth-event")):(dc(this,!1,null,null),Xe())}else $e(new Yr("invalid-auth-event"))},cc.prototype.oa=function(){var e=this;return new ze((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Yr("timeout");e.a&&e.a.cancel(),e.a=cn(nc.get()).then((function(){e.b||(e.g=!0,dc(e,!0,null,t))}))}(e))}))},pc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ja(e.c,null,e.a,e.b),Xe()):t.za(n,r)?function(e,t){var n=e.b,r=e.c;t.za(r,n)(e.g,e.f,e.R(),e.i).then((function(e){t.ja(r,e,null,n)})).s((function(e){t.ja(r,null,e,n)}))}(e,t):$e(new Yr("invalid-auth-event"))}else $e(new Yr("invalid-auth-event"))},yc.prototype.confirm=function(e){return e=yo(this.verificationId,e),this.a(e)},bc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return e=s.document,t=null,_r()||!e?Xe():new ze((function(n){t=function(){_r()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}));var e,t})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},bc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wc.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},wc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?$e(new Yr("user-token-expired")):e||!this.b||k()>this.c-3e4?this.a?function(e,t){return function(e,t){return new ze((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Fa(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Ns(e)):e.access_token&&e.refresh_token?n(e):r(new Yr("internal-error")):r(new Yr("network-request-failed"))}),"POST",Rn(t).toString(),e.g,e.u.get()):r(new Yr("internal-error"))}))}(e.f,t).then((function(t){return e.b=t.access_token,e.c=Tc(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Xe(null):Xe({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Sc.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(kc,Pt),C(Cc,rn),Cc.prototype.sa=function(e){this.ga=e,Ma(this.a,e)},Cc.prototype.ha=function(){return this.ga},Cc.prototype.Aa=function(){return K(this.P)},Cc.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Lr(Cc.prototype,"providerId","firebase"),(n=Cc.prototype).reload=function(){var e=this;return Jc(this,Uc(this).then((function(){return Wc(e).then((function(){return Rc(e)})).then(Fc)})))},n.dc=function(e){return this.G(e).then((function(e){return new gc(e)}))},n.G=function(e){var t=this;return Jc(this,Uc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new Yr("internal-error");return e.accessToken!=t.ma&&(Pc(t,e.accessToken),t.dispatchEvent(new kc("tokenChanged"))),jc(t,"refreshToken",e.refreshToken),e.accessToken})))},n.zc=function(e){if(!(e=e.users)||!e.length)throw new Yr("internal-error");Lc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?V(e,(function(e){return new Ic(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)qc(this,t[n]);jc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},n.Ac=function(e){return Rr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(e)},n.gb=function(e){var t=this,n=null;return Jc(this,e.f(this.a,this.uid).then((function(e){return Kc(t,e),n=Gc(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},n.rc=function(e){return Rr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(e)},n.eb=function(e){var t=this,n=null;return Jc(this,Qc(this,e.providerId).then((function(){return t.G()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Gc(t,e,"link"),Hc(t,e)})).then((function(){return n})))},n.sc=function(e,t){var n=this;return Jc(this,Qc(this,"phone").then((function(){return vc(Dc(n),e,t,S(n.eb,n))})))},n.Bc=function(e,t){var n=this;return Jc(this,Xe().then((function(){return vc(Dc(n),e,t,S(n.gb,n))})),!0)},n.rb=function(e){var t=this;return Jc(this,this.G().then((function(n){return t.a.rb(n,e)})).then((function(e){return Kc(t,e),t.reload()})))},n.Sc=function(e){var t=this;return Jc(this,this.G().then((function(n){return e.b(t.a,n)})).then((function(e){return Kc(t,e),t.reload()})))},n.sb=function(e){var t=this;return Jc(this,this.G().then((function(n){return t.a.sb(n,e)})).then((function(e){return Kc(t,e),t.reload()})))},n.tb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Uc(this);var t=this;return Jc(this,this.G().then((function(n){return t.a.tb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Kc(t,e),jc(t,"displayName",e.displayName||null),jc(t,"photoURL",e.photoUrl||null),U(t.providerData,(function(e){"password"===e.providerId&&(Lr(e,"displayName",t.displayName),Lr(e,"photoURL",t.photoURL))})),Rc(t)})).then(Fc))},n.Qc=function(e){var t=this;return Jc(this,Wc(this).then((function(n){return B(Vc(t),e)?function(e,t,n){return ks(e,rs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return U(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),U(Vc(t),(function(e){n[e]||Bc(t,e)})),n[mo.PROVIDER_ID]||Lr(t,"phoneNumber",null),Rc(t)})):Rc(t).then((function(){throw new Yr("no-such-provider")}))})))},n.delete=function(){var e=this;return Jc(this,this.G().then((function(t){return ks(e.a,ns,{idToken:t})})).then((function(){e.dispatchEvent(new kc("userDeleted"))}))).then((function(){for(var t=0;t<e.I.length;t++)e.I[t].cancel("app-deleted");Nc(e,null),_c(e,null),e.I=[],e.B=!0,Oc(e),Lr(e,"refreshToken",null),e.i&&ec(e.i,e)}))},n.xb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ca||null)==t||"reauthViaRedirect"==e&&(this.ca||null)==t)},n.ja=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},n.za=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?S(this.Bb,this):"reauthViaPopup"==e&&t==(this.g||null)?S(this.Cb,this):"linkViaRedirect"==e&&(this.ca||null)==t?S(this.Bb,this):"reauthViaRedirect"==e&&(this.ca||null)==t?S(this.Cb,this):null},n.tc=function(e){var t=this;return Yc(this,"linkViaPopup",e,(function(){return Qc(t,e.providerId).then((function(){return Rc(t)}))}),!1)},n.Cc=function(e){return Yc(this,"reauthViaPopup",e,(function(){return Xe()}),!0)},n.uc=function(e){var t=this;return Xc(this,"linkViaRedirect",e,(function(){return Qc(t,e.providerId)}),!1)},n.Dc=function(e){return Xc(this,"reauthViaRedirect",e,(function(){return Xe()}),!0)},n.Bb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jc(this,this.G().then((function(n){return Ya(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Gc(i,e,"link"),Hc(i,e)})).then((function(){return o})))},n.Cb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jc(this,Xe().then((function(){return ji(Xa(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Gc(i,e,"reauthenticate"),Kc(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},n.jb=function(e){var t=this,n=null;return Jc(this,this.G().then((function(t){return n=t,void 0===e||G(e)?{}:gi(new ui(e))})).then((function(e){return t.a.jb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.toJSON=function(){return this.A()},n.A=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&X(e,this.metadata.A()),U(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),e};var tl={name:"redirectUser",C:"session"};function nl(e){return Iu(e.b,tl,e.a)}function rl(e){this.a=e,this.b=Eu(),this.c=null,this.f=function(e){var t=al("local"),n=al("session"),r=al("none");return function(e,t,n){var r=Su(t,n),i=Tu(e,t.C);return e.get(t,n).then((function(o){var a=null;try{a=Ir(s.localStorage.getItem(r))}catch(o){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ol,e.a).then((function(e){return e?al(e):t}))}))}))})).then((function(t){return e.c=t,il(e,t.C)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(al("local"),this.a,S(this.g,this))}function il(e,t){var n,r=[];for(n in bu)bu[n]!==t&&r.push(Iu(e.b,al(bu[n]),e.a));return r.push(Iu(e.b,ol,e.a)),function(e){return new ze((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Je(e[s],I(o,s),a);else t(i)}))}(r)}rl.prototype.g=function(){var e=this,t=al("local");ll(this,(function(){return Xe().then((function(){return e.c&&"local"!=e.c.C?e.b.get(t,e.a):null})).then((function(n){if(n)return il(e,"local").then((function(){e.c=t}))}))}))};var ol={name:"persistence",C:"session"};function al(e){return{name:"authUser",C:e}}function sl(e,t){return ll(e,(function(){return e.b.set(e.c,t.A(),e.a)}))}function ul(e){return ll(e,(function(){return Iu(e.b,e.c,e.a)}))}function cl(e,t){return ll(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zc(e||{})}))}))}function ll(e,t){return e.f=e.f.then(t,t),e.f}function hl(e){if(this.l=!1,Lr(this,"settings",new mc),Lr(this,"app",e),!bl(this).options||!bl(this).options.apiKey)throw new Yr("invalid-api-key");e=t.SDK_VERSION?pr(t.SDK_VERSION):null,this.b=new Aa(bl(this).options&&bl(this).options.apiKey,Ci(Ii),e),this.O=[],this.m=[],this.J=[],this.Ub=t.INTERNAL.createSubscribe(S(this.oc,this)),this.W=void 0,this.Vb=t.INTERNAL.createSubscribe(S(this.pc,this)),vl(this,null),this.h=new rl(bl(this).options.apiKey+":"+bl(this).name),this.w=new el(bl(this).options.apiKey+":"+bl(this).name),this.Y=Sl(this,function(e){var t=bl(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(tl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zc(e||{})}))}(e.w,bl(e).options.authDomain).then((function(t){return(e.B=t)&&(t.da=e.w),nl(e.w)}));return Sl(e,t)}(e).then((function(){return cl(e.h,t)})).then((function(t){return t?(t.da=e.w,e.B&&(e.B.ca||null)==(t.ca||null)?t:t.reload().then((function(){return sl(e.h,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:ul(e.h)}))):null})).then((function(t){vl(e,t||null)}));return Sl(e,n)}(this)),this.i=Sl(this,function(e){return e.Y.then((function(){return ml(e)})).s((function(){})).then((function(){if(!e.l)return e.ma()})).s((function(){})).then((function(){if(!e.l){e.ga=!0;var t=e.h;t.b.addListener(al("local"),t.a,e.ma)}}))}(this)),this.ga=!1,this.ma=S(this.Nc,this),this.ub=S(this.aa,this),this.ua=S(this.bc,this),this.va=S(this.mc,this),this.Ha=S(this.nc,this),this.a=null,function(e){var t=bl(e).options.authDomain,n=bl(e).options.apiKey;t&&gr()&&(e.Tb=e.Y.then((function(){if(!e.l){if(e.a=uc(t,n,bl(e).name),Zu(e.a,e),wl(e)&&Mc(wl(e)),e.B){Mc(e.B);var r=e.B;r.sa(e.ha()),Nc(r,e),Ac(r=e.B,e.I),_c(r,e),e.B=null}return e.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.vc,this),this.o=0,rn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ha()},set:function(e){this.sa(e)},enumerable:!1}),e.Z=null,Object.defineProperty(e,"ti",{get:function(){return this.R()},set:function(e){this.nb(e)},enumerable:!1}),e.P=null}(this),this.I=[]}function fl(e){Pt.call(this,"languageCodeChanged"),this.g=e}function dl(e){Pt.call(this,"frameworkChanged"),this.c=e}function pl(e){return e.Tb||$e(new Yr("auth-domain-config-required"))}function ml(e){if(!gr())return $e(new Yr("operation-not-supported-in-this-environment"));var t=pl(e).then((function(){return e.a.oa()})).then((function(e){return e?Ur(e):null}));return Sl(e,t)}function yl(e,t){var n={};return n.apiKey=bl(e).options.apiKey,n.authDomain=bl(e).options.authDomain,n.appName=bl(e).name,e.Y.then((function(){return function(e,t,n,r){var i=new Cc(e,t);return n&&(i.da=n),r&&Ac(i,r),i.reload().then((function(){return i}))}(n,t,e.w,e.Aa())})).then((function(t){return wl(e)&&t.uid==wl(e).uid?zc(wl(e),t):(vl(e,t),Mc(t)),e.aa(t)})).then((function(){Tl(e)}))}function vl(e,t){wl(e)&&(function(e,t){z(e.O,(function(e){return e==t}))}(wl(e),e.ub),Ht(wl(e),"tokenChanged",e.ua),Ht(wl(e),"userDeleted",e.va),Ht(wl(e),"userInvalidated",e.Ha),Oc(wl(e))),t&&(t.O.push(e.ub),Kt(t,"tokenChanged",e.ua),Kt(t,"userDeleted",e.va),Kt(t,"userInvalidated",e.Ha),0<e.o&&xc(t)),Lr(e,"currentUser",t),t&&(t.sa(e.ha()),Nc(t,e),Ac(t,e.I),_c(t,e))}function gl(e,t){var n=null,r=null;return Sl(e,t.then((function(t){return n=vo(t),r=xi(t),yl(e,t)})).then((function(){return Ur({user:wl(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bl(e){return e.app}function wl(e){return e.currentUser}function El(e){return wl(e)&&wl(e)._lat||null}function Tl(e){if(e.ga){for(var t=0;t<e.m.length;t++)e.m[t]&&e.m[t](El(e));if(e.W!==e.getUid()&&e.J.length)for(e.W=e.getUid(),t=0;t<e.J.length;t++)e.J[t]&&e.J[t](El(e))}}function Sl(e,t){return e.O.push(t),t.ka((function(){j(e.O,t)})),t}function Il(){}function kl(){this.a={},this.b=1e12}rl.prototype.mb=function(e){var t=null,n=this;return function(e){var t=new Yr("invalid-persistence-type"),n=new Yr("unsupported-persistence-type");e:{for(r in bu)if(bu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(ur()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!vr()&&"none"!==e)throw n}}(e),ll(this,(function(){return e!=n.c.C?n.b.get(n.c,n.a).then((function(r){return t=r,il(n,e)})).then((function(){if(n.c=al(e),t)return n.b.set(n.c,t,n.a)})):Xe()}))},C(hl,rn),C(fl,Pt),C(dl,Pt),(n=hl.prototype).mb=function(e){return Sl(this,e=this.h.mb(e))},n.sa=function(e){this.Z===e||this.l||(this.Z=e,Ma(this.b,this.Z),this.dispatchEvent(new fl(this.ha())))},n.ha=function(){return this.Z},n.Tc=function(){var e=s.navigator;this.sa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.vc=function(e){this.I.push(e),La(this.b,t.SDK_VERSION?pr(t.SDK_VERSION,this.I):null),this.dispatchEvent(new dl(this.I))},n.Aa=function(){return K(this.I)},n.nb=function(e){this.P===e||this.l||(this.P=e,this.b.b=this.P)},n.R=function(){return this.P},n.toJSON=function(){return{apiKey:bl(this).options.apiKey,authDomain:bl(this).options.authDomain,appName:bl(this).name,currentUser:wl(this)&&wl(this).A()}},n.xb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.ja=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},n.za=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?S(this.ac,this):null},n.ac=function(e,t,n,r){var i=this;e={requestUri:e,postBody:r,sessionId:t,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=Ha(i.b,e).then((function(e){return o=vo(e),a=xi(e),e}));return Sl(this,e=i.Y.then((function(){return s})).then((function(e){return yl(i,e)})).then((function(){return Ur({user:wl(i),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},n.Lc=function(e){if(!gr())return $e(new Yr("operation-not-supported-in-this-environment"));var n=this,r=Di(e.providerId),i=kr(),o=null;(!Er()||ar())&&bl(this).options.authDomain&&e.isOAuthProvider&&(o=qs(bl(this).options.authDomain,bl(this).options.apiKey,bl(this).name,"signInViaPopup",e,null,i,t.SDK_VERSION||null,null,null,this.R()));var a=tr(o,r&&r.Da,r&&r.Ca);return Sl(this,r=pl(this).then((function(t){return rc(t,a,"signInViaPopup",e,i,!!o,n.R())})).then((function(){return new ze((function(e,t){n.ja("signInViaPopup",null,new Yr("cancelled-popup-request"),n.g),n.f=e,n.v=t,n.g=i,n.c=ac(n.a,n,"signInViaPopup",a,i)}))})).then((function(e){return a&&er(a),e?Ur(e):null})).s((function(e){throw a&&er(a),e})))},n.Mc=function(e){if(!gr())return $e(new Yr("operation-not-supported-in-this-environment"));var t=this;return Sl(this,pl(this).then((function(){return function(e){return ll(e,(function(){return e.b.set(ol,e.c.C,e.a)}))}(t.h)})).then((function(){return oc(t.a,"signInViaRedirect",e,void 0,t.R())})))},n.oa=function(){var e=this;return ml(this).then((function(t){return e.a&&hc(e.a.b),t})).s((function(t){throw e.a&&hc(e.a.b),t}))},n.Rc=function(e){if(!e)return $e(new Yr("null-user"));if(this.P!=e.tenantId)return $e(new Yr("tenant-id-mismatch"));var t=this,n={};n.apiKey=bl(this).options.apiKey,n.authDomain=bl(this).options.authDomain,n.appName=bl(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.l,authDomain:e.o,appName:e.m};var i=e.b,o={};return o[Da]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-k())/1e3,t=new Cc(t,o),n&&(t.da=n),r&&Ac(t,r),zc(t,e),t}(e,n,t.w,t.Aa());return Sl(this,this.i.then((function(){if(bl(t).options.apiKey!=e.l)return r.reload()})).then((function(){return wl(t)&&e.uid==wl(t).uid?(zc(wl(t),e),t.aa(e)):(vl(t,r),Mc(r),t.aa(r))})).then((function(){Tl(t)})))},n.pb=function(){var e=this;return Sl(this,this.i.then((function(){return e.a&&hc(e.a.b),wl(e)?(vl(e,null),ul(e.h).then((function(){Tl(e)}))):Xe()})))},n.Nc=function(){var e=this;return cl(this.h,bl(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=wl(e)&&t){n=wl(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return zc(wl(e),t),wl(e).G();(wl(e)||t)&&(vl(e,t),t&&(Mc(t),t.da=e.w),e.a&&Zu(e.a,e),Tl(e))}}))},n.aa=function(e){return sl(this.h,e)},n.bc=function(){Tl(this),this.aa(wl(this))},n.mc=function(){this.pb()},n.nc=function(){this.pb()},n.oc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(wl(t))}))},n.pc=function(e){var t=this;!function(e,t){e.J.push(t),Sl(e,e.i.then((function(){!e.l&&B(e.J,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(El(e)))})))}(this,(function(){e.next(wl(t))}))},n.xc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){v(e)?e(wl(r)):v(e.next)&&e.next(wl(r))})),this.Ub(e,t,n)},n.wc=function(e,t,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),v(e)?e(wl(r)):v(e.next)&&e.next(wl(r))})),this.Vb(e,t,n)},n.cc=function(e){var t=this;return Sl(this,this.i.then((function(){return wl(t)?wl(t).G(e).then((function(e){return{accessToken:e}})):null})))},n.Hc=function(e){var t=this;return this.i.then((function(){return gl(t,ks(t.b,ws,{token:e}))})).then((function(e){var n=e.user;return jc(n,"isAnonymous",!1),t.aa(n),e}))},n.Ic=function(e,t){var n=this;return this.i.then((function(){return gl(n,ks(n.b,Es,{email:e,password:t}))}))},n.Xb=function(e,t){var n=this;return this.i.then((function(){return gl(n,ks(n.b,es,{email:e,password:t}))}))},n.Ra=function(e){var t=this;return this.i.then((function(){return gl(t,e.na(t.b))}))},n.Gc=function(e){return Rr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(e)},n.ob=function(){var e=this;return this.i.then((function(){var t=wl(e);return t&&t.isAnonymous?Ur({user:t,credential:null,additionalUserInfo:Ur({providerId:null,isNewUser:!1}),operationType:"signIn"}):gl(e,e.b.ob()).then((function(t){var n=t.user;return jc(n,"isAnonymous",!0),e.aa(n),t}))}))},n.getUid=function(){return wl(this)&&wl(this).uid||null},n.Wb=function(e){this.addAuthTokenListener(e),this.o++,0<this.o&&wl(this)&&xc(wl(this))},n.Ec=function(e){var t=this;U(this.m,(function(n){n==e&&t.o--})),this.o<0&&(this.o=0),0==this.o&&wl(this)&&Oc(wl(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.m.push(e),Sl(this,this.i.then((function(){t.l||B(t.m,e)&&e(El(t))})))},n.removeAuthTokenListener=function(e){z(this.m,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.O.length;e++)this.O[e].cancel("app-deleted");return this.O=[],this.h&&(e=this.h).b.removeListener(al("local"),e.a,this.ma),this.a&&(ec(this.a,this),hc(this.a.b)),Promise.resolve()},n.$b=function(e){return Sl(this,function(e,t){return ks(e,ts,{identifier:t,continueUri:br()?$n():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.b,e))},n.qc=function(e){return!!lo(e)},n.lb=function(e,t){var n=this;return Sl(this,Xe().then((function(){var e=new ui(t);if(!e.c)throw new Yr("argument-error",hi+" must be true when sending sign in link to email");return gi(e)})).then((function(t){return n.b.lb(e,t)})).then((function(){})))},n.Uc=function(e){return this.Ka(e).then((function(e){return e.data.email}))},n.$a=function(e,t){return Sl(this,this.b.$a(e,t).then((function(){})))},n.Ka=function(e){return Sl(this,this.b.Ka(e).then((function(e){return new qr(e)})))},n.Xa=function(e){return Sl(this,this.b.Xa(e).then((function(){})))},n.kb=function(e,t){var n=this;return Sl(this,Xe().then((function(){return void 0===t||G(t)?{}:gi(new ui(t))})).then((function(t){return n.b.kb(e,t)})).then((function(){})))},n.Kc=function(e,t){return Sl(this,vc(this,e,t,S(this.Ra,this)))},n.Jc=function(e,t){var n=this;return Sl(this,Xe().then((function(){var r=t||$n(),i=co(e,r);if(!(r=lo(r)))throw new Yr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Yr("tenant-id-mismatch");return n.Ra(i)})))},Il.prototype.render=function(){},Il.prototype.reset=function(){},Il.prototype.getResponse=function(){},Il.prototype.execute=function(){};var Cl=null;function Nl(e,t){return(t=Al(t))&&e.a[t]||null}function Al(e){return(e=void 0===e?1e12:e)?e.toString():null}function _l(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Bn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Kt(this.f,"click",this.i)}function Dl(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function xl(){}kl.prototype.render=function(e,t){return this.a[this.b.toString()]=new _l(e,t),this.b++},kl.prototype.reset=function(e){var t=Nl(this,e);e=Al(e),t&&e&&(t.delete(),delete this.a[e])},kl.prototype.getResponse=function(e){return(e=Nl(this,e))?e.getResponse():null},kl.prototype.execute=function(e){(e=Nl(this,e))&&e.execute()},_l.prototype.getResponse=function(){return Dl(this),this.b},_l.prototype.execute=function(){Dl(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(t){}e.h&&e.execute()}),6e4)}),500))},_l.prototype.delete=function(){Dl(this),this.g=!0,clearTimeout(this.a),this.a=null,Ht(this.f,"click",this.i)},xl.prototype.g=function(){return Xe(Cl=Cl||new kl)},xl.prototype.c=function(){};var Ol=null;function Pl(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rl=new $(ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ml=new Ar(3e4,6e4);Pl.prototype.g=function(e){var t=this;return new ze((function(n,r){var i=setTimeout((function(){r(new Yr("network-request-failed"))}),Ml.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new Yr("internal-error"));delete s[t.a]},Xe(Ea(ie(Rl,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new Yr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Pl.prototype.c=function(){this.b--};var Ll=null;function Fl(e,t,n,r,i,o,a){if(Lr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=t,this.g=null,a=a?Ol=Ol||new xl:Ll=Ll||new Pl,this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[ql])throw new Yr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Bl],!s.document)throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Bn(t)||!this.i&&Bn(t).hasChildNodes())throw new Yr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Aa(e,o||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var c=this.a[Ul];this.a[Ul]=function(e){if(jl(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=yr(c,s);"function"==typeof t&&t(e)}};var l=this.a[Vl];this.a[Vl]=function(){if(jl(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=yr(l,s);"function"==typeof e&&e()}}}var Ul="callback",Vl="expired-callback",ql="sitekey",Bl="size";function jl(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function zl(e,t){return e.h.push(t),t.ka((function(){j(e.h,t)})),t}function Wl(e){if(e.B)throw new Yr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Kl(e,n,r){var i=!1;try{this.b=r||t.app()}catch(e){throw new Yr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Yr("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=t.SDK_VERSION?pr(t.SDK_VERSION,a):null,Fl.call(this,r,e,n,(function(){try{var t=o.b.auth().ha()}catch(e){t=null}return t}),a,Ci(Ii),i)}function Ql(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Yr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].N(n[i])&&!o){if(t=t[i],i<0||i>=Gl.length)throw new Yr("internal-error","Argument validator received an unsupported number of arguments.");n=Gl[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.M+".";break e}r=null}}if(r)throw new Yr("argument-error",e+" failed: "+r)}(n=Fl.prototype).Ba=function(){var e=this;return this.f?this.f:this.f=zl(this,Xe().then((function(){if(br()&&!sr())return ir();throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.v())})).then((function(t){return e.g=t,ks(e.o,hs,{})})).then((function(t){e.a[ql]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},n.render=function(){Wl(this);var e=this;return zl(this,this.Ba().then((function(){if(null===e.c){var t=e.u;if(!e.i){var n=Bn(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!qn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Fe(a.name),'"'),a.type){o.push(' type="',Fe(a.type),'"');var s={};X(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(u(a)?o.className=a:m(a)?o.className=a.join(" "):jn(o,a)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(u(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!y(o)||g(o)&&0<o.nodeType?r(o):U(Wn(o)?K(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){Wl(this);var e=this;return zl(this,this.render().then((function(t){return new ze((function(n){var r=e.g.getResponse(t);r?n(r):(e.l.push((function t(r){r&&(function(e,t){z(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c))}))})))},n.reset=function(){Wl(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Wl(this),this.B=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Bn(this.u);for(var t;t=e.firstChild;)e.removeChild(t)}},C(Kl,Fl);var Gl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hl(e,t){return{name:e||"",M:"a valid string",optional:!!t,N:u}}function Yl(e,t){return{name:e||"",M:"a boolean",optional:!!t,N:c}}function Xl(e,t){return{name:e||"",M:"a valid object",optional:!!t,N:g}}function $l(e,t){return{name:e||"",M:"a function",optional:!!t,N:v}}function Jl(e,t){return{name:e||"",M:"null",optional:!!t,N:p}}function Zl(e){return{name:e?e+"Credential":"credential",M:e?"a valid "+e+" credential":"a valid credential",optional:!1,N:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.na||!n)}}}function eh(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(e){return!!(e&&u(e.type)&&v(e.verify))}}}function th(e,t,n,r){return{name:n||"",M:e.M+" or "+t.M,optional:!!r,N:function(n){return e.N(n)||t.N(n)}}}function nh(e,t){for(var n in t){var r=t[n].name;e[r]=oh(r,e[n],t[n].j)}}function rh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:I((function(e){return this[e]}),n),set:I((function(e,t,n,r){Ql(e,[n],[r],!0),this[t]=r}),r,n,t[n].Ya),enumerable:!0})}}function ih(e,t,n,r){e[t]=oh(t,n,r)}function oh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Ql(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}nh(hl.prototype,{Xa:{name:"applyActionCode",j:[Hl("code")]},Ka:{name:"checkActionCode",j:[Hl("code")]},$a:{name:"confirmPasswordReset",j:[Hl("code"),Hl("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Hl("email"),Hl("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Hl("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Hl("emailLink")]},wc:{name:"onAuthStateChanged",j:[th(Xl(),$l(),"nextOrObserver"),$l("opt_error",!0),$l("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th(Xl(),$l(),"nextOrObserver"),$l("opt_error",!0),$l("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Hl("email"),th(Xl("opt_actionCodeSettings",!0),Jl(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Hl("email"),Xl("actionCodeSettings")]},mb:{name:"setPersistence",j:[Hl("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Zl()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Zl()]},Hc:{name:"signInWithCustomToken",j:[Hl("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Hl("email"),Hl("password")]},Jc:{name:"signInWithEmailLink",j:[Hl("email"),Hl("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Hl("phoneNumber"),eh()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(e){return!!(e&&e instanceof Cc)}},Jl(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hl(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Hl("code")]}}),rh(hl.prototype,{lc:{name:"languageCode",Ya:th(Hl(),Jl(),"languageCode")},ti:{name:"tenantId",Ya:th(Hl(),Jl(),"tenantId")}}),(hl.Persistence=bu).LOCAL="local",hl.Persistence.SESSION="session",hl.Persistence.NONE="none",nh(Cc.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Yl("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Yl("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Zl()]},eb:{name:"linkWithCredential",j:[Zl()]},sc:{name:"linkWithPhoneNumber",j:[Hl("phoneNumber"),eh()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Zl()]},gb:{name:"reauthenticateWithCredential",j:[Zl()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Hl("phoneNumber"),eh()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th(Xl("opt_actionCodeSettings",!0),Jl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hl(null,!0)]},Qc:{name:"unlink",j:[Hl("provider")]},rb:{name:"updateEmail",j:[Hl("email")]},sb:{name:"updatePassword",j:[Hl("password")]},Sc:{name:"updatePhoneNumber",j:[Zl("phone")]},tb:{name:"updateProfile",j:[Xl("profile")]}}),nh(kl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(Il.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(ze.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),rh(mc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Yl("appVerificationDisabledForTesting")}}),nh(yc.prototype,{confirm:{name:"confirm",j:[Hl("verificationCode")]}}),ih(Bi,"fromJSON",(function(e){e=u(e)?JSON.parse(e):e;for(var t,n=[Hi,so,fo,Ki],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[th(Hl(),Xl(),"json")]),ih(uo,"credential",(function(e,t){return new ao(e,t)}),[Hl("email"),Hl("password")]),nh(ao.prototype,{A:{name:"toJSON",j:[Hl(null,!0)]}}),nh(Ji.prototype,{wa:{name:"addScope",j:[Hl("scope")]},Ea:{name:"setCustomParameters",j:[Xl("customOAuthParameters")]}}),ih(Ji,"credential",Zi,[th(Hl(),Xl(),"token")]),ih(uo,"credentialWithLink",co,[Hl("email"),Hl("emailLink")]),nh(eo.prototype,{wa:{name:"addScope",j:[Hl("scope")]},Ea:{name:"setCustomParameters",j:[Xl("customOAuthParameters")]}}),ih(eo,"credential",to,[th(Hl(),Xl(),"token")]),nh(no.prototype,{wa:{name:"addScope",j:[Hl("scope")]},Ea:{name:"setCustomParameters",j:[Xl("customOAuthParameters")]}}),ih(no,"credential",ro,[th(Hl(),th(Xl(),Jl()),"idToken"),th(Hl(),Jl(),"accessToken",!0)]),nh(io.prototype,{Ea:{name:"setCustomParameters",j:[Xl("customOAuthParameters")]}}),ih(io,"credential",oo,[th(Hl(),Xl(),"token"),Hl("secret",!0)]),nh($i.prototype,{wa:{name:"addScope",j:[Hl("scope")]},credential:{name:"credential",j:[th(Hl(),th(Xl(),Jl()),"optionsOrIdToken"),th(Hl(),Jl(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[Xl("customOAuthParameters")]}}),nh(Qi.prototype,{A:{name:"toJSON",j:[Hl(null,!0)]}}),nh(zi.prototype,{A:{name:"toJSON",j:[Hl(null,!0)]}}),ih(mo,"credential",yo,[Hl("verificationId"),Hl("verificationCode")]),nh(mo.prototype,{Va:{name:"verifyPhoneNumber",j:[Hl("phoneNumber"),eh()]}}),nh(ho.prototype,{A:{name:"toJSON",j:[Hl(null,!0)]}}),nh(Yr.prototype,{toJSON:{name:"toJSON",j:[Hl(null,!0)]}}),nh(ko.prototype,{toJSON:{name:"toJSON",j:[Hl(null,!0)]}}),nh(Io.prototype,{toJSON:{name:"toJSON",j:[Hl(null,!0)]}}),nh(Kl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ih(Zr,"parseLink",si,[Hl("link")]),function(){if(void 0===t||!t.INTERNAL||!t.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Br,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hl,AuthCredential:Bi,Error:Yr};ih(e,"EmailAuthProvider",uo,[]),ih(e,"FacebookAuthProvider",Ji,[]),ih(e,"GithubAuthProvider",eo,[]),ih(e,"GoogleAuthProvider",no,[]),ih(e,"TwitterAuthProvider",io,[]),ih(e,"OAuthProvider",$i,[Hl("providerId")]),ih(e,"SAMLAuthProvider",Xi,[Hl("providerId")]),ih(e,"PhoneAuthProvider",mo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(e){return!!(e&&e instanceof hl)}}]),ih(e,"RecaptchaVerifier",Kl,[th(Hl(),{name:"",M:"an HTML element",optional:!1,N:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Xl("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(e){return!!(e&&e instanceof t.app.App)}}]),ih(e,"ActionCodeURL",Zr,[]),t.INTERNAL.registerService("auth",(function(e,t){return t({INTERNAL:{getUid:S((e=new hl(e)).getUid,e),getToken:S(e.cc,e),addAuthTokenListener:S(e.Wb,e),removeAuthTokenListener:S(e.Ec,e)}}),e}),e,(function(e,t){if("create"===e)try{t.auth()}catch(e){}})),t.INTERNAL.extendNamespace({User:Cc})}()}.apply("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-auth - be sure to load firebase-app.js first.")}}(n(14))}).call(this,n(9))},function(e,t,n){(function(e){!function(t){"use strict";try{(function(){t=t&&t.hasOwnProperty("default")?t.default:t;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i,o,a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function l(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function h(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,l(["["+o+"]  "+e.name+":"],n));break;case i.INFO:console.info.apply(console,l(["["+o+"]  "+e.name+":"],n));break;case i.WARN:console.warn.apply(console,l(["["+o+"]  "+e.name+":"],n));break;case i.ERROR:console.error.apply(console,l(["["+o+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}}(o=i=i||{})[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT";var f=i.INFO,d=(Object.defineProperty(p.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),p.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,l([this,i.DEBUG],e))},p.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,l([this,i.VERBOSE],e))},p.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,l([this,i.INFO],e))},p.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,l([this,i.WARN],e))},p.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,l([this,i.ERROR],e))},p);function p(e){this.name=e,this._logLevel=f,this._logHandler=h}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var y,v=(r(g,y=Error),g);function g(e,t){var n=y.call(this,t)||this;return n.code=e,n.name="FirebaseError",Object.setPrototypeOf(n,g.prototype),Error.captureStackTrace&&Error.captureStackTrace(n,b.prototype.create),n}var b=(w.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(T,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new v(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},w);function w(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var E,T=/\{\$([^}]+)}/g,S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},I=I||{},k=S;function C(e){return"string"==typeof e}function N(e){return"number"==typeof e}function A(e,t){e=e.split("."),t=t||k;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function _(){}function D(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function x(e){return"array"==D(e)}function O(e){var t=D(e);return"array"==t||"object"==t&&"number"==typeof e.length}function P(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var R="closure_uid_"+(1e9*Math.random()>>>0),M=0;function L(e,t,n){return e.call.apply(e.bind,arguments)}function F(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function U(e,t,n){return(U=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:F).apply(null,arguments)}function V(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var q=Date.now||function(){return+new Date};function B(e,t){function n(){}n.prototype=t.prototype,e.N=t.prototype,e.prototype=new n,(e.prototype.constructor=e).yb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function j(){this.j=this.j,this.i=this.i}j.prototype.j=!1,j.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[R]||(this[R]=++M))},j.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(C(e))return C(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=C(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function K(e){return Array.prototype.concat.apply([],arguments)}function Q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function G(e){return/^[\s\xa0]*$/.test(e)}var H,Y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function X(e,t){return-1!=e.indexOf(t)}function $(e,t){return e<t?-1:t<e?1:0}e:{var J=k.navigator;if(J){var Z=J.userAgent;if(Z){H=Z;break e}}H=""}function ee(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function te(e){var t,n={};for(t in e)n[t]=e[t];return n}var ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ne.length;o++)n=ne[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ie(e){return ie[" "](e),e}ie[" "]=_;var oe,ae,se=X(H,"Opera"),ue=X(H,"Trident")||X(H,"MSIE"),ce=X(H,"Edge"),le=ce||ue,he=X(H,"Gecko")&&!(X(H.toLowerCase(),"webkit")&&!X(H,"Edge"))&&!(X(H,"Trident")||X(H,"MSIE"))&&!X(H,"Edge"),fe=X(H.toLowerCase(),"webkit")&&!X(H,"Edge");function de(){var e=k.document;return e?e.documentMode:void 0}e:{var pe="",me=(ae=H,he?/rv:([^\);]+)(\)|;)/.exec(ae):ce?/Edge\/([\d\.]+)/.exec(ae):ue?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ae):fe?/WebKit\/(\S+)/.exec(ae):se?/(?:Version)[ \/]?(\S+)/.exec(ae):void 0);if(me&&(pe=me?me[1]:""),ue){var ye=de();if(null!=ye&&ye>parseFloat(pe)){oe=String(ye);break e}}oe=pe}var ve,ge={};function be(e){return function(t,n){var r=ge;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=function(){for(var t=0,n=Y(String(oe)).split("."),r=Y(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=$(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||$(0==a[2].length,0==s[2].length)||$(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}()}(e)}var we=k.document;ve=we&&ue?de()||("CSS1Compat"==we.compatMode?parseInt(oe,10):5):void 0;var Ee=!ue||9<=Number(ve),Te=ue&&!be("9"),Se=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{k.addEventListener("test",_,t),k.removeEventListener("test",_,t)}catch(e){}return e}();function Ie(e,t){this.type=e,this.a=this.target=t,this.Ja=!0}function ke(e,t){if(Ie.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(he){e:{try{ie(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=C(e.pointerType)?e.pointerType:Ce[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}Ie.prototype.b=function(){this.Ja=!1},B(ke,Ie);var Ce={2:"touch",3:"pen",4:"mouse"};ke.prototype.b=function(){ke.N.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Te)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function _e(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.da=i,this.key=++Ae,this.X=this.Z=!1}function De(e){e.X=!0,e.listener=null,e.proxy=null,e.src=null,e.da=null}function xe(e){this.src=e,this.a={},this.b=0}function Oe(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=z(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(De(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Pe(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.X&&o.listener==t&&o.capture==!!n&&o.da==r)return i}return-1}xe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Pe(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new _e(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Re="closure_lm_"+(1e6*Math.random()|0),Me={};function Le(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(x(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=We(r),t&&t[Ne]?t.Ba(n,r,P(i)?!!i.capture:!!i,o):Fe(t,n,r,!0,i,o)}(e,t,n,r,i);if(x(t)){for(var o=0;o<t.length;o++)Le(e,t[o],n,r,i);return null}return n=We(n),e&&e[Ne]?e.Aa(t,n,P(r)?!!r.capture:!!r,i):Fe(e,t,n,!1,r,i)}function Fe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=P(i)?!!i.capture:!!i;if(a&&!Ee)return null;var s=je(e);if(s||(e[Re]=s=new xe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Be,t=Ee?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),(n.proxy=r).src=e,r.listener=n,e.addEventListener)Se||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ve(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ue(e){if(!N(e)&&e&&!e.X){var t=e.src;if(t&&t[Ne])Oe(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ve(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=je(t))?(Oe(n,e),0==n.b&&(n.src=null,t[Re]=null)):De(e)}}}function Ve(e){return e in Me?Me[e]:Me[e]="on"+e}function qe(e,t){var n=e.listener,r=e.da||e.src;return e.Z&&Ue(e),n.call(r,t)}function Be(e,t){return!!e.X||qe(e,Ee?new ke(t,this):t=new ke(t||A("window.event"),this))}function je(e){return(e=e[Re])instanceof xe?e:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(e){return"function"==D(e)?e:(e[ze]||(e[ze]=function(t){return e.handleEvent(t)}),e[ze])}function Ke(){j.call(this),this.c=new xe(this),(this.J=this).B=null}function Qe(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.X&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&Oe(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ja}B(Ke,j),Ke.prototype[Ne]=!0,(E=Ke.prototype).addEventListener=function(e,t,n,r){Le(this,e,t,n,r)},E.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(x(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=P(i)?!!i.capture:!!i,r=We(r),t&&t[Ne]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Pe(a=t.a[n],r,i,o))&&(De(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&je(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Pe(n,r,i,o)),(r=-1<t?n[t]:null)&&Ue(r))}(this,e,t,n,r)},E.dispatchEvent=function(e){var t,n=this.B;if(n)for(t=[];n;n=n.B)t.push(n);n=this.J;var r=e.type||e;if(C(e))e=new Ie(e,n);else if(e instanceof Ie)e.target=e.target||n;else{var i=e;re(e=new Ie(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.a=t[o];i=Qe(a,r,!0,e)&&i}if(i=Qe(a=e.a=n,r,!0,e)&&i,i=Qe(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Qe(a=e.a=t[o],r,!1,e)&&i;return i},E.G=function(){if(Ke.N.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)De(n[r]);delete t.a[e],t.b--}}this.B=null},E.Aa=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},E.Ba=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Ge=k.JSON.stringify;function He(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Ye(){this.b=this.a=null}He.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Xe,$e=new He((function(){return new Je}),(function(e){e.reset()}));function Je(){this.next=this.b=this.a=null}function Ze(e){k.setTimeout((function(){throw e}),0)}function et(e,t){Xe||function(){var e=k.Promise.resolve(void 0);Xe=function(){e.then(rt)}}(),tt||(Xe(),tt=!0),nt.add(e,t)}Ye.prototype.add=function(e,t){var n=$e.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Je.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var tt=!(Je.prototype.reset=function(){this.next=this.b=this.a=null}),nt=new Ye;function rt(){for(var e;r=n=void 0,r=null,(n=nt).a&&(r=n.a,n.a=n.a.next,n.a||(n.b=null),r.next=null),e=r;){try{e.a.call(e.b)}catch(e){Ze(e)}var t=$e;t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}var n,r;tt=!1}function it(e,t){Ke.call(this),this.b=e||1,this.a=t||k,this.f=U(this.gb,this),this.g=q()}function ot(e){e.ba=!1,e.L&&(e.a.clearTimeout(e.L),e.L=null)}function at(e,t,n){if("function"==D(e))n&&(e=U(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=U(e.handleEvent,e)}return 2147483647<Number(t)?-1:k.setTimeout(e,t||0)}function st(e,t,n){j.call(this),this.f=null!=n?U(e,n):e,this.c=t,this.b=U(this.ab,this),this.a=[]}function ut(e){e.U=at(e.b,e.c),e.f.apply(null,e.a)}function ct(e){j.call(this),this.b=e,this.a={}}B(it,Ke),(E=it.prototype).ba=!1,E.L=null,E.gb=function(){if(this.ba){var e=q()-this.g;0<e&&e<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-e):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(ot(this),this.start()))}},E.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=q())},E.G=function(){it.N.G.call(this),ot(this),delete this.a},B(st,j),(E=st.prototype).ea=!1,E.U=null,E.Ua=function(e){this.a=arguments,this.U?this.ea=!0:ut(this)},E.G=function(){st.N.G.call(this),this.U&&(k.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},E.ab=function(){this.U=null,this.ea&&(this.ea=!1,ut(this))},B(ct,j);var lt=[];function ht(e,t,n,r){x(n)||(n&&(lt[0]=n.toString()),n=lt);for(var i=0;i<n.length;i++){var o=Le(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function ft(e){ee(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Ue(e)}),e),e.a={}}function dt(){}ct.prototype.G=function(){ct.N.G.call(this),ft(this)},ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pt=new Ke;function mt(e){Ie.call(this,"serverreachability",e)}function yt(e){pt.dispatchEvent(new mt(pt,e))}function vt(e){Ie.call(this,"statevent",e)}function gt(e){pt.dispatchEvent(new vt(pt,e))}function bt(e){Ie.call(this,"timingevent",e)}function wt(e,t){if("function"!=D(e))throw Error("Fn must not be null and must be a function");return k.setTimeout((function(){e()}),t)}B(mt,Ie),B(vt,Ie),B(bt,Ie);var Et={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},Tt={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function St(){}function It(e){var t;return(t=e.a)||(t=e.a={}),t}function kt(){}St.prototype.a=null;var Ct,Nt={OPEN:"a",ib:"b",Na:"c",rb:"d"};function At(){Ie.call(this,"d")}function _t(){Ie.call(this,"c")}function Dt(){}function xt(e,t,n){this.g=e,this.W=t,this.V=n||1,this.I=new ct(this),this.O=Ot,e=le?125:void 0,this.P=new it(e),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}B(At,Ie),B(_t,Ie),B(Dt,St),Ct=new Dt;var Ot=45e3,Pt={},Rt={};function Mt(e,t,n){e.F=1,e.f=sn(Zt(t)),e.l=n,e.H=!0,Ft(e,null)}function Lt(e,t,n,r){e.F=1,e.f=sn(Zt(t)),e.l=null,e.H=n,Ft(e,r)}function Ft(e,t){e.v=q(),qt(e),e.D=Zt(e.f),an(e.D,"t",e.V),e.A=0,e.a=e.g.$(e.g.Y()?t:null),0<e.J&&(e.B=new st(U(e.Ka,e,e.a),e.J)),ht(e.I,e.a,"readystatechange",e.eb),t=e.h?te(e.h):{},e.l?(e.w||(e.w="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ca(e.D,e.w,e.l,t)):(e.w="GET",e.a.ca(e.D,e.w,null,t)),yt(1)}function Ut(e,t,n){for(var r=!0;!e.m&&e.A<n.length;){var i=Vt(e,n);if(i==Rt){4==t&&(e.c=4,gt(14),r=!1);break}if(i==Pt){e.c=4,gt(15),r=!1;break}Kt(e,i)}4==t&&0==n.length&&(e.c=1,gt(16),r=!1),e.b=e.b&&r,r||(Wt(e),zt(e))}function Vt(e,t){var n=e.A,r=t.indexOf("\n",n);return-1==r?Rt:(n=Number(t.substring(n,r)),isNaN(n)?Pt:(r+=1)+n>t.length?Rt:(t=t.substr(r,n),e.A=r+n,t))}function qt(e){e.R=q()+e.O,Bt(e,e.O)}function Bt(e,t){if(null!=e.i)throw Error("WatchDog timer not null");e.i=wt(U(e.bb,e),t)}function jt(e){e.i&&(k.clearTimeout(e.i),e.i=null)}function zt(e){e.g.Da()||e.m||e.g.na(e)}function Wt(e){jt(e);var t=e.B;t&&"function"==typeof t.la&&t.la(),e.B=null,ot(e.P),ft(e.I),e.a&&(t=e.a,e.a=null,t.abort(),t.la())}function Kt(e,t){try{e.g.Ga(e,t),yt(4)}catch(e){}}function Qt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(O(e)||C(e))W(e,t,void 0);else{if(e.K&&"function"==typeof e.K)var n=e.K();else if(e.C&&"function"==typeof e.C)n=void 0;else if(O(e)||C(e)){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.C&&"function"==typeof e.C)return e.C();if(C(e))return e.split("");if(O(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Gt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Gt)for(n=e.K(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ht(e,t){Xt(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Yt(e))}function Yt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Xt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Xt(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function Xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(E=xt.prototype).setTimeout=function(e){this.O=e},E.eb=function(e){e=e.target;var t=this.B;t&&3==Zn(e)?t.Ua():this.Ka(e)},E.Ka=function(e){try{if(e==this.a)e:{var t=Zn(this.a),n=this.a.ya(),r=this.a.T();if(!(t<3||3==t&&!le&&!this.a.aa())){this.m||4!=t||7==n||yt(8==n||r<=0?3:2),jt(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){t:{if(this.a){var a=er(this.a,"X-HTTP-Initial-Response");if(a&&!G(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.c=3,gt(12),Wt(this),zt(this);break e}this.s=!0,Kt(this,s)}this.H?(Ut(this,t,o),le&&this.b&&3==t&&(ht(this.I,this.P,"tick",this.cb),this.P.start())):Kt(this,o),4==t&&Wt(this),this.b&&!this.m&&(4==t?this.g.na(this):(this.b=!1,qt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,gt(12)):(this.c=0,gt(13)),Wt(this),zt(this)}}}catch(e){}},E.cb=function(){if(this.a){var e=Zn(this.a),t=this.a.aa();this.A<t.length&&(jt(this),Ut(this,e,t),this.b&&4!=e&&qt(this))}},E.cancel=function(){this.m=!0,Wt(this)},E.bb=function(){this.i=null;var e=q();0<=e-this.R?(2!=this.F&&(yt(3),gt(17)),Wt(this),this.c=2,zt(this)):Bt(this,this.R-e)},(E=Gt.prototype).C=function(){Yt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},E.K=function(){return Yt(this),this.a.concat()},E.get=function(e,t){return Xt(this.b,e)?this.b[e]:t},E.set=function(e,t){Xt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},E.forEach=function(e,t){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var $t=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jt(e,t){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,e instanceof Jt?(this.h=void 0!==t?t:e.h,en(this,e.f),this.j=e.j,tn(this,e.b),nn(this,e.i),this.a=e.a,rn(this,En(e.c)),this.g=e.g):e&&(n=String(e).match($t))?(this.h=!!t,en(this,n[1]||"",!0),this.j=un(n[2]||""),tn(this,n[3]||"",!0),nn(this,n[4]),this.a=un(n[5]||"",!0),rn(this,n[6]||"",!0),this.g=un(n[7]||"")):(this.h=!!t,this.c=new yn(null,this.h))}function Zt(e){return new Jt(e)}function en(e,t,n){e.f=n?un(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function tn(e,t,n){e.b=n?un(t,!0):t}function nn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.i=t}else e.i=null}function rn(e,t,n){t instanceof yn?(e.c=t,function(e,t){t&&!e.f&&(vn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gn(this,t),wn(this,n,e))}),e)),e.f=t}(e.c,e.h)):(n||(t=cn(t,pn)),e.c=new yn(t,e.h))}function on(e,t,n){e.c.set(t,n)}function an(e,t,n){x(n)||(n=[String(n)]),wn(e.c,t,n)}function sn(e){return on(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^q()).toString(36)),e}function un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cn(e,t,n){return C(e)?(e=encodeURI(e).replace(t,ln),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ln(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(cn(t,hn,!0),":");var n=this.b;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(cn(t,hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(cn(n,"/"==n.charAt(0)?dn:fn,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",cn(n,mn)),e.join("")},Jt.prototype.resolve=function(e){var t=Zt(this),n=!!e.f;n?en(t,e.f):n=!!e.j,n?t.j=e.j:n=!!e.b,n?tn(t,e.b):n=null!=e.i;var r=e.a;if(n)nn(t,e.i);else if(n=!!e.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=t.a.lastIndexOf("/");-1!=i&&(r=t.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(X(i,"./")||X(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.a=r:n=""!==e.c.toString(),n?rn(t,En(e.c)):n=!!e.g,n&&(t.g=e.g),t};var hn=/[#\/\?@]/g,fn=/[#\?:]/g,dn=/[#\?]/g,pn=/[#\?@]/g,mn=/#/g;function yn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function vn(e){e.a||(e.a=new Gt,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gn(e,t){vn(e),t=Tn(e,t),Xt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ht(e.a,t))}function bn(e,t){return vn(e),t=Tn(e,t),Xt(e.a.b,t)}function wn(e,t,n){gn(e,t),0<n.length&&(e.c=null,e.a.set(Tn(e,t),Q(n)),e.b+=n.length)}function En(e){var t=new yn;return t.c=e.c,e.a&&(t.a=new Gt(e.a),t.b=e.b),t}function Tn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Sn(e){this.a=e,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function In(e){var t=e.a.F.a;if(null!=t)gt(4),t?(gt(10),fr(e.a,e,!1)):(gt(11),fr(e.a,e,!0));else{e.b=new xt(e,void 0,void 0),e.b.h=e.h,t=vr(t=e.a,t.Y()?e.f:null,e.i),gt(4),an(t,"TYPE","xmlhttp");var n=e.a.j,r=e.a.I;n&&r&&on(t,n,r),Lt(e.b,t,!1,e.f)}}function kn(){this.a=this.b=null}function Cn(){this.a=new Gt}function Nn(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[R]||(e[R]=++M)):t.charAt(0)+e}function An(e,t){this.b=e,this.a=t}function _n(e){this.g=e||Dn,e=k.PerformanceNavigationTiming?0<(e=k.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(k.ka&&k.ka.Ea&&k.ka.Ea()&&k.ka.Ea().zb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Cn),this.b=null,this.c=[]}(E=yn.prototype).add=function(e,t){vn(this),this.c=null,e=Tn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},E.forEach=function(e,t){vn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},E.K=function(){vn(this);for(var e=this.a.C(),t=this.a.K(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},E.C=function(e){vn(this);var t=[];if(C(e))bn(this,e)&&(t=K(t,this.a.get(Tn(this,e))));else{e=this.a.C();for(var n=0;n<e.length;n++)t=K(t,e[n])}return t},E.set=function(e,t){return vn(this),this.c=null,bn(this,e=Tn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},E.get=function(e,t){return e&&0<(e=this.C(e)).length?String(e[0]):t},E.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.K(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")},B((function(){}),(function(){})),(E=Sn.prototype).M=null,E.$=function(e){return this.a.$(e)},E.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},E.Da=function(){return!1},E.Ga=function(e,t){if(this.c=e.o,0==this.M){if(!this.a.o&&(e=e.a)){var n=er(e,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(e=er(e,"X-HTTP-Session-Id"))&&(this.a.I=e)}if(t){try{var r=this.a.ja.a.parse(t)}catch(e){return(t=this.a).m=this.c,void mr(t,2)}this.f=r[0]}else(t=this.a).m=this.c,mr(t,2)}else 1==this.M&&(this.g?gt(6):"11111"==t?(gt(5),this.g=!0,(!ue||10<=Number(ve))&&(this.c=200,this.b.cancel(),gt(11),fr(this.a,this,!0))):(gt(7),this.g=!1))},E.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,In(this)):1==this.M&&(this.g?(gt(11),fr(this.a,this,!0)):(gt(10),fr(this.a,this,!1)));else{0==this.M?gt(8):1==this.M&&gt(9);var e=this.a;e.m=this.c,mr(e,2)}},E.Y=function(){return this.a.Y()},E.ma=function(){return this.a.ma()},Cn.prototype.add=function(e){this.a.set(Nn(e),e)},Cn.prototype.C=function(){return this.a.C()};var Dn=10;function xn(e,t){!e.a&&(X(t,"spdy")||X(t,"quic")||X(t,"h2"))&&(e.f=e.g,e.a=new Cn,e.b&&(Mn(e,e.b),e.b=null))}function On(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function Pn(e){return e.b?1:e.a?e.a.a.c:0}function Rn(e,t){return e.b?e.b==t:!!e.a&&(t=Nn(t),Xt(e.a.a.b,t))}function Mn(e,t){e.a?e.a.add(t):e.b=t}function Ln(e,t){var n;e.b&&e.b==t?e.b=null:((n=e.a)&&(n=Nn(t),n=Xt(e.a.a.b,n)),n&&Ht(e.a.a,Nn(t)))}function Fn(e){if(null!=e.b)return e.c.concat(e.b.j);if(null==e.a||0==e.a.a.c)return Q(e.c);var t=e.c;return W(e.a.C(),(function(e){t=t.concat(e.j)})),t}function Un(){}function Vn(){this.a=new Un}function qn(e,t,n){var r=n||"";try{Qt(e,(function(e,n){var i=e;P(e)&&(i=Ge(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}_n.prototype.cancel=function(){this.c=Fn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(W(this.a.C(),(function(e){e.cancel()})),function(e){e.b={},e.a.length=0,e.c=0}(this.a.a))},Un.prototype.stringify=function(e){return k.JSON.stringify(e,void 0)},Un.prototype.parse=function(e){return k.JSON.parse(e,void 0)};var jn=k.JSON.parse;function zn(e){Ke.call(this),this.headers=new Gt,this.H=e||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Wn,this.D=this.F=!1}B(zn,Ke);var Wn="",Kn=/^https?$/i,Qn=["POST","PUT"];function Gn(e){return"content-type"==e.toLowerCase()}function Hn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Yn(e),$n(e)}function Yn(e){e.v||(e.v=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Xn(e){if(e.b&&void 0!==I&&(!e.s[1]||4!=Zn(e)||2!=e.T()))if(e.l&&4==Zn(e))at(e.Fa,0,e);else if(e.dispatchEvent("readystatechange"),4==Zn(e)){e.b=!1;try{var t,n=e.T();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.A).match($t)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!Kn.test(o?o.toLowerCase():"")}t=i}t?(e.dispatchEvent("complete"),e.dispatchEvent("success")):(e.h=6,e.f=e.za()+" ["+e.T()+"]",Yn(e))}finally{$n(e)}}}function $n(e,t){if(e.a){Jn(e);var n=e.a,r=e.s[0]?_:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){}}}function Jn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(k.clearTimeout(e.m),e.m=null)}function Zn(e){return e.a?e.a.readyState:0}function er(e,t){return e.a?e.a.getResponseHeader(t):null}function tr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return ee(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),C(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if((n=e.indexOf("#"))<0&&(n=e.length),(r=e.indexOf("?"))<0||n<r){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return on(e,t,n),e}function nr(e){this.f=[],this.F=new kn,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!A("internalChannelParams.failFast",e),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=A("internalChannelParams.baseRetryDelayMs",e)||5e3,this.Sa=A("internalChannelParams.retryDelaySeedMs",e)||1e4,this.Qa=A("internalChannelParams.forwardChannelMaxRetries",e)||2,this.qa=A("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.La=e&&e.Ab||void 0,this.D=void 0,this.R=e&&e.supportsCrossDomainXhr||!1,this.H="",this.b=new _n(e&&e.concurrentRequestLimit),this.ja=new Vn,this.o=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.W=e&&e.fastHandshake||!1)&&!this.o&&(this.o=!0),e&&e.forceLongPolling&&(this.oa=!1),this.fa=void 0}function rr(e){if(ir(e),3==e.u){var t=e.P++,n=Zt(e.B);on(n,"SID",e.H),on(n,"RID",t),on(n,"TYPE","terminate"),ur(e,n),(t=new xt(e,t,void 0)).F=2,t.f=sn(Zt(n)),n=!1,k.navigator&&k.navigator.sendBeacon&&(n=k.navigator.sendBeacon(t.f.toString(),"")),!n&&k.Image&&((new Image).src=t.f,n=!0),n||(t.a=t.g.$(null),t.a.ca(t.f)),t.v=q(),qt(t)}yr(e)}function ir(e){e.w&&(e.w.abort(),e.w=null),e.a&&(e.a.cancel(),e.a=null),e.l&&(k.clearTimeout(e.l),e.l=null),dr(e),e.b.cancel(),e.h&&(N(e.h)&&k.clearTimeout(e.h),e.h=null)}function or(e,t){e.f.push(new An(e.Ra++,t)),3==e.u&&ar(e)}function ar(e){On(e.b)||e.h||(e.h=!0,et(e.Ia,e),e.A=0)}function sr(e,t){var n;n=t?t.W:e.P++;var r=Zt(e.B);on(r,"SID",e.H),on(r,"RID",n),on(r,"AID",e.O),ur(e,r),e.g&&e.i&&tr(r,e.g,e.i),n=new xt(e,n,e.A+1),null===e.g&&(n.h=e.i),t&&(e.f=t.j.concat(e.f)),t=cr(e,n,1e3),n.setTimeout(Math.round(.5*e.qa)+Math.round(.5*e.qa*Math.random())),Mn(e.b,n),Mt(n,r,t)}function ur(e,t){e.c&&Qt({},(function(e,n){on(t,n,e)}))}function cr(e,t,n){n=Math.min(e.f.length,n);var r=e.c?U(e.c.Ta,e.c,e):null;e:for(var i=e.f,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{qn(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.f.splice(0,n),t.j=e,r}function lr(e){e.a||e.l||(e.S=1,et(e.Ha,e),e.v=0)}function hr(e){return!(e.a||e.l||3<=e.v)&&(e.S++,e.l=wt(U(e.Ha,e),pr(e,e.v)),e.v++,!0)}function fr(e,t,n){var r=t.l;r&&xn(e.b,r),e.ia=e.oa&&n,e.m=t.c,e.B=vr(e,null,e.ha),ar(e)}function dr(e){null!=e.s&&(k.clearTimeout(e.s),e.s=null)}function pr(e,t){var n=e.Oa+Math.floor(Math.random()*e.Sa);return e.ma()||(n*=2),n*t}function mr(e,t){if(2==t){var n=null;e.c&&(n=null);var r=U(e.fb,e);n||(n=new Jt("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||en(n,"https"),sn(n)),function(e,t){var n=new dt;if(k.Image){var r=new Image;r.onload=V(Bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=V(Bn,n,r,"TestLoadImage: error",!1,t),r.onabort=V(Bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=V(Bn,n,r,"TestLoadImage: timeout",!1,t),k.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else gt(2);e.u=0,e.c&&e.c.ta(t),yr(e),ir(e)}function yr(e){e.u=0,e.m=-1,e.c&&(0==Fn(e.b).length&&0==e.f.length||(e.b.c.length=0,Q(e.f),e.f.length=0),e.c.sa())}function vr(e,t,n){var r=function(e){return e instanceof Jt?Zt(e):new Jt(e,void 0)}(n);if(""!=r.b)t&&tn(r,t+"."+r.b),nn(r,r.i);else{var i,o=k.location;i=t?t+"."+o.hostname:o.hostname,r=function(e,t,n,r){var i=new Jt(null,void 0);return e&&en(i,e),t&&tn(i,t),n&&nn(i,n),r&&(i.a=r),i}(o.protocol,i,+o.port,n)}return e.V&&ee(e.V,(function(e,t){on(r,t,e)})),t=e.j,n=e.I,t&&n&&on(r,t,n),on(r,"VER",e.wa),ur(e,r),r}function gr(){}function br(){if(ue&&!(10<=Number(ve)))throw Error("Environmental error: no available transport.")}function wr(e,t){Ke.call(this),this.a=new nr(t),this.g=e,this.m=t&&t.testUrl?t.testUrl:function(e){for(var t=e,n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t+=r?i:"/"+i)}return t}(this.g,"test"),this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.xa&&(e?e["X-WebChannel-Client-Profile"]=t.xa:e={"X-WebChannel-Client-Profile":t.xa}),this.a.J=e,(e=t&&t.httpHeadersOverwriteParam)&&!G(e)&&(this.a.g=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.h=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!G(t)&&(this.a.j=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new Sr(this)}function Er(e){At.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Tr(){_t.call(this),this.status=1}function Sr(e){this.a=e}(E=zn.prototype).ca=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+e);t=t?t.toUpperCase():"GET",this.A=e,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?It(this.H):It(Ct),this.a.onreadystatechange=U(this.Fa,this);try{this.w=!0,this.a.open(t,String(e),!0),this.w=!1}catch(e){return void Hn(this,e)}e=n||"";var i=new Gt(this.headers);r&&Qt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Gn,n=e.length,r=C(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:C(e)?e.charAt(t):e[t]}(i.K()),n=k.FormData&&e instanceof k.FormData,0<=z(Qn,t)&&!r&&!n&&i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Jn(this),0<this.o&&((this.D=function(e){return ue&&be(9)&&N(e.timeout)&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=U(this.Ca,this)):this.m=at(this.Ca,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Hn(this,e)}},E.Ca=function(){void 0!==I&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},E.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$n(this))},E.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),$n(this,!0)),zn.N.G.call(this)},E.Fa=function(){this.j||(this.w||this.l||this.g?Xn(this):this.$a())},E.$a=function(){Xn(this)},E.T=function(){try{return 2<Zn(this)?this.a.status:-1}catch(r){return-1}},E.za=function(){try{return 2<Zn(this)?this.a.statusText:""}catch(r){return""}},E.aa=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},E.Va=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jn(t)}},E.ya=function(){return this.h},E.Ya=function(){return C(this.f)?this.f:String(this.f)},(E=nr.prototype).wa=8,E.u=1,E.Da=function(){return 0==this.u},E.Ia=function(e){if(this.h)if(this.h=null,1==this.u){if(!e){this.P=Math.floor(1e5*Math.random());var t,n=new xt(this,e=this.P++,void 0),r=this.i;if(this.J&&(r?re(r=te(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)e:{for(var i=t=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&C(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.f.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=cr(this,n,t),on(i=Zt(this.B),"RID",e),on(i,"CVER",22),this.o&&this.j&&on(i,"X-HTTP-Session-Id",this.j),ur(this,i),this.g&&r&&tr(i,this.g,r),Mn(this.b,n),this.W?(on(i,"$req",t),on(i,"SID","null"),n.S=!0,Mt(n,i,null)):Mt(n,i,t),this.u=2}}else 3==this.u&&(e?sr(this,e):0==this.f.length||On(this.b)||sr(this))},E.Ha=function(){this.l=null,this.a=new xt(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var e=Zt(this.pa);on(e,"RID","rpc"),on(e,"SID",this.H),on(e,"CI",this.ia?"0":"1"),on(e,"AID",this.O),ur(this,e),on(e,"TYPE","xmlhttp"),this.g&&this.i&&tr(e,this.g,this.i),this.D&&this.a.setTimeout(this.D),Lt(this.a,e,!0,this.ga)},E.Ga=function(e,t){if(0!=this.u&&(this.a==e||Rn(this.b,e)))if(this.m=e.o,!e.s&&Rn(this.b,e)&&3==this.u){try{var n=this.ja.a.parse(t)}catch(e){n=null}if(x(n)&&3==n.length){if(0==(t=n)[0]){e:if(!this.l){if(this.a){if(!(this.a.v+3e3<e.v))break e;dr(this),this.a.cancel(),this.a=null}hr(this),gt(18)}}else this.ra=t[1],0<this.ra-this.O&&t[2]<37500&&this.ia&&0==this.v&&!this.s&&(this.s=wt(U(this.Za,this),6e3));if(Pn(this.b)<=1&&this.fa){try{this.fa()}catch(e){}this.fa=void 0}}else mr(this,11)}else if(!e.s&&this.a!=e||dr(this),!G(t))for(t=n=this.ja.a.parse(t),n=0;n<t.length;n++){var r=t[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&N(r)&&0<r&&(this.D=1.5*r),this.o&&(r=e.a)&&((i=er(r,"X-Client-Wire-Protocol"))&&xn(this.b,i),this.j&&(r=er(r,"X-HTTP-Session-Id")))&&(this.I=r,on(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=e,this.pa=vr(this,this.Y()?this.ga:null,this.ha),r.s?(Ln(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(jt(r),qt(r)),this.a=r):lr(this),0<this.f.length&&ar(this)}else"stop"!=r[0]&&"close"!=r[0]||mr(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?mr(this,7):rr(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},E.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,hr(this),gt(19))},E.na=function(e){var t=null;if(this.a==e){dr(this),this.a=null;var n=2}else{if(!Rn(this.b,e))return;t=e.j,Ln(this.b,e),n=1}if(this.m=e.o,0!=this.u)if(e.b)1==n?(t=q()-e.v,pt.dispatchEvent(new bt(pt,e.l?e.l.length:0,t,this.A)),ar(this)):lr(this);else{var r=e.c;if(3==r||0==r&&0<this.m||!(1==n&&function(e,t){return!(Pn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.f=t.j.concat(e.f),!0):!(1==e.u||2==e.u||e.A>=(e.Pa?0:e.Qa))&&(e.h=wt(U(e.Ia,e,t),pr(e,e.A)),e.A++,!0))}(this,e)||2==n&&hr(this)))switch(t&&0<t.length&&(e=this.b,e.c=e.c.concat(t)),r){case 1:mr(this,5);break;case 4:mr(this,10);break;case 3:mr(this,6);break;default:mr(this,2)}}},E.fb=function(e){gt(e?2:1)},E.$=function(e){if(e&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zn(this.La)).F=this.R,e},E.ma=function(){return!!this.c&&!0},E.Y=function(){return this.R},(E=gr.prototype).va=function(){},E.ua=function(){},E.ta=function(){},E.sa=function(){},E.Ta=function(){},br.prototype.a=function(e,t){return new wr(e,t)},B(wr,Ke),(E=wr.prototype).addEventListener=function(e,t,n,r){wr.N.addEventListener.call(this,e,t,n,r)},E.removeEventListener=function(e,t,n,r){wr.N.removeEventListener.call(this,e,t,n,r)},E.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var e=this.a,t=this.m,n=this.g,r=this.b||void 0;gt(0),e.ha=n,e.V=r||{},e.o&&(e.F.b=[],e.F.a=!1),e.w=new Sn(e),null===e.g&&(e.w.h=e.i),n=t,e.g&&e.i&&(n=tr(t,e.g,e.i)),(e=e.w).i=n,t=vr(e.a,null,e.i),gt(3),null!=(n=e.a.F.b)?(e.f=n[0],e.M=1,In(e)):(an(t,"MODE","init"),!e.a.o&&e.a.j&&an(t,"X-HTTP-Session-Id",e.a.j),e.b=new xt(e,void 0,void 0),e.b.h=e.h,Lt(e.b,t,!1,null),e.M=0)},E.close=function(){rr(this.a)},E.Xa=function(e){if(C(e)){var t={};t.__data__=e,or(this.a,t)}else this.h?((t={}).__data__=Ge(e),or(this.a,t)):or(this.a,e)},E.G=function(){this.a.c=null,delete this.f,rr(this.a),delete this.a,wr.N.G.call(this)},B(Er,At),B(Tr,_t),B(Sr,gr),Sr.prototype.va=function(){this.a.dispatchEvent("a")},Sr.prototype.ua=function(e){this.a.dispatchEvent(new Er(e))},Sr.prototype.ta=function(e){this.a.dispatchEvent(new Tr(e))},Sr.prototype.sa=function(){this.a.dispatchEvent("b")};var Ir=V((function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r}),br);br.prototype.createWebChannel=br.prototype.a,wr.prototype.send=wr.prototype.Xa,wr.prototype.open=wr.prototype.Wa,wr.prototype.close=wr.prototype.close,Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Tt.COMPLETE="complete",(kt.EventType=Nt).OPEN="a",Nt.CLOSE="b",Nt.ERROR="c",Nt.MESSAGE="d",Ke.prototype.listen=Ke.prototype.Aa,zn.prototype.listenOnce=zn.prototype.Ba,zn.prototype.getLastError=zn.prototype.Ya,zn.prototype.getLastErrorCode=zn.prototype.ya,zn.prototype.getStatus=zn.prototype.T,zn.prototype.getStatusText=zn.prototype.za,zn.prototype.getResponseJson=zn.prototype.Va,zn.prototype.getResponseText=zn.prototype.aa,zn.prototype.send=zn.prototype.ca;var kr,Cr,Nr={createWebChannelTransport:Ir,ErrorCode:Et,EventType:Tt,WebChannel:kt,XhrIo:zn},Ar=Nr.createWebChannelTransport,_r=Nr.ErrorCode,Dr=Nr.EventType,xr=Nr.WebChannel,Or=Nr.XhrIo,Pr=t.SDK_VERSION,Rr=new d("@firebase/firestore");function Mr(){return Rr.logLevel===i.DEBUG?kr.DEBUG:Rr.logLevel===i.SILENT?kr.SILENT:kr.ERROR}function Lr(e){switch(e){case kr.DEBUG:Rr.logLevel=i.DEBUG;break;case kr.ERROR:Rr.logLevel=i.ERROR;break;case kr.SILENT:Rr.logLevel=i.SILENT;break;default:Rr.error("Firestore ("+Pr+"): Invalid value passed to `setLogLevel`")}}function Fr(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Rr.logLevel<=i.DEBUG){var o=n.map(Vr);Rr.debug.apply(Rr,c(["Firestore ("+Pr+") ["+e+"]: "+t],o))}}function Ur(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=i.ERROR){var r=t.map(Vr);Rr.error.apply(Rr,c(["Firestore ("+Pr+"): "+e],r))}}function Vr(e){if("string"==typeof e)return e;var t=jr.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function qr(e){var t="FIRESTORE ("+Pr+") INTERNAL ASSERTION FAILED: "+e;throw Ur(t),new Error(t)}function Br(e,t){e||qr(t)}(Cr=kr=kr||{})[Cr.DEBUG=0]="DEBUG",Cr[Cr.ERROR=1]="ERROR",Cr[Cr.SILENT=2]="SILENT";var jr=(zr.setPlatform=function(e){zr.platform&&qr("Platform already defined"),zr.platform=e},zr.getPlatform=function(){return zr.platform||qr("Platform not set"),zr.platform},zr);function zr(){}function Wr(){return jr.getPlatform().emptyByteString}var Kr,Qr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gr=(r(Hr,Kr=Error),Hr);function Hr(e,t){var n=Kr.call(this,t)||this;return n.code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Yr(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new Gr(Qr.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function Xr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $r(e,t){return void 0!==e?e:t}function Jr(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function Zr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ei(e){for(var t in Br(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ti(e,t){if(0!==t.length)throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+vi(t.length,"argument")+".")}function ni(e,t,n){if(t.length!==n)throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires "+vi(n,"argument")+", but was called with "+vi(t.length,"argument")+".")}function ri(e,t,n){if(t.length<n)throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires at least "+vi(n,"argument")+", but was called with "+vi(t.length,"argument")+".")}function ii(e,t,n,r){if(t.length<n||t.length>r)throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+vi(t.length,"argument")+".")}function oi(e,t,n,r){li(e,t,yi(n)+" argument",r)}function ai(e,t,n,r){void 0!==r&&oi(e,t,n,r)}function si(e,t,n,r){li(e,t,n+" option",r)}function ui(e,t,n,r){void 0!==r&&si(e,t,n,r)}function ci(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(fi(u))}var c=fi(r);throw new Gr(Qr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function li(e,t,n,r){if(!("object"===t?hi(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=fi(r);throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function hi(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function fi(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":qr("Unknown wrong type: "+typeof e);if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}function di(e,t,n){if(void 0===n)throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+yi(t)+" argument, but it was undefined.")}function pi(e,t,n){Zr(t,(function(t,r){if(n.indexOf(t)<0)throw new Gr(Qr.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function mi(e,t,n,r){var i=fi(r);return new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires its "+yi(n)+" argument to be a "+t+", but it was: "+i)}function yi(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function vi(e,t){return e+" "+t+(1===e?"":"s")}var gi=(bi.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return Br(20===t.length,"Invalid auto ID: "+t),t},bi);function bi(){}function wi(e,t){return e<t?-1:t<e?1:0}function Ei(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function Ti(e){return e+"\0"}function Si(){if("undefined"==typeof Uint8Array)throw new Gr(Qr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ii(){if(!jr.getPlatform().base64Available)throw new Gr(Qr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ki=(Ci.fromBase64String=function(e){ni("Blob.fromBase64String",arguments,1),oi("Blob.fromBase64String","string",1,e),Ii();try{return new Ci(jr.getPlatform().atob(e))}catch(e){throw new Gr(Qr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},Ci.fromUint8Array=function(e){if(ni("Blob.fromUint8Array",arguments,1),Si(),!(e instanceof Uint8Array))throw mi("Blob.fromUint8Array","Uint8Array",1,e);return new Ci(Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join(""))},Ci.prototype.toBase64=function(){return ni("Blob.toBase64",arguments,0),Ii(),jr.getPlatform().btoa(this._binaryString)},Ci.prototype.toUint8Array=function(){ni("Blob.toUint8Array",arguments,0),Si();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},Ci.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Ci.prototype.isEqual=function(e){return this._binaryString===e._binaryString},Ci.prototype._compareTo=function(e){return wi(this._binaryString,e._binaryString)},Ci);function Ci(e){Ii(),this._binaryString=e}var Ni=Yr(ki,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ai=function(e,t,n,r,i){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i},_i="(default)",Di=(Object.defineProperty(xi.prototype,"isDefaultDatabase",{get:function(){return this.database===_i},enumerable:!0,configurable:!0}),xi.prototype.isEqual=function(e){return e instanceof xi&&e.projectId===this.projectId&&e.database===this.database},xi.prototype.compareTo=function(e){return wi(this.projectId,e.projectId)||wi(this.database,e.database)},xi);function xi(e,t){this.projectId=e,this.database=t||_i}var Oi=(Pi.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},Pi.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},Pi.INVALID=-1,Pi);function Pi(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}var Ri="__name__",Mi=(Object.defineProperty(Li.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),Li.prototype.isEqual=function(e){return 0===Li.comparator(this,e)},Li.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Li.prototype.limit=function(){return this.offset+this.length},Li.prototype.popFirst=function(e){return e=void 0===e?1:e,Br(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},Li.prototype.popLast=function(){return Br(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},Li.prototype.firstSegment=function(){return Br(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},Li.prototype.lastSegment=function(){return this.get(this.length-1)},Li.prototype.get=function(e){return Br(e<this.length,"Index out of range"),this.segments[this.offset+e]},Li.prototype.isEmpty=function(){return 0===this.length},Li.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Li.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Li.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Li.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Li.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},Li);function Li(e,t,n){void 0===t?t=0:t>e.length&&qr("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&qr("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n}var Fi,Ui=(r(Vi,Fi=Mi),Vi.prototype.construct=function(e,t,n){return new Vi(e,t,n)},Vi.prototype.canonicalString=function(){return this.toArray().join("/")},Vi.prototype.toString=function(){return this.canonicalString()},Vi.fromString=function(e){if(0<=e.indexOf("//"))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new Vi(e.split("/").filter((function(e){return 0<e.length})))},Vi.EMPTY_PATH=new Vi([]),Vi);function Vi(){return null!==Fi&&Fi.apply(this,arguments)||this}var qi,Bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ji=(r(zi,qi=Mi),zi.prototype.construct=function(e,t,n){return new zi(e,t,n)},zi.isValidIdentifier=function(e){return Bi.test(e)},zi.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},zi.prototype.toString=function(){return this.canonicalString()},zi.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===Ri},zi.keyField=function(){return new zi([Ri])},zi.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new Gr(Qr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Gr(Qr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Gr(Qr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(t)},zi.EMPTY_PATH=new zi([]),zi);function zi(){return null!==qi&&qi.apply(this,arguments)||this}var Wi=(Ki.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},Ki.prototype.isEqual=function(e){return null!==e&&0===Ui.comparator(this.path,e.path)},Ki.prototype.toString=function(){return this.path.toString()},Ki.comparator=function(e,t){return Ui.comparator(e.path,t.path)},Ki.isDocumentKey=function(e){return e.length%2==0},Ki.fromSegments=function(e){return new Ki(new Ui(e.slice()))},Ki.fromPathString=function(e){return new Ki(Ui.fromString(e))},Ki.EMPTY=new Ki(new Ui([])),Ki);function Ki(e){this.path=e,Br(Ki.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}var Qi,Gi,Hi=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};(Gi=Qi=Qi||{}).All="all",Gi.ListenStreamIdle="listen_stream_idle",Gi.ListenStreamConnectionBackoff="listen_stream_connection_backoff",Gi.WriteStreamIdle="write_stream_idle",Gi.WriteStreamConnectionBackoff="write_stream_connection_backoff",Gi.OnlineStateTimeout="online_state_timeout",Gi.ClientMetadataRefresh="client_metadata_refresh",Gi.LruGarbageCollection="lru_garbage_collection",Gi.RetryTransaction="retry_transaction";var Yi=(Xi.createAndSchedule=function(e,t,n,r,i){var o=new Xi(e,t,Date.now()+n,r,i);return o.start(n),o},Xi.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},Xi.prototype.skipDelay=function(){return this.handleDelayElapsed()},Xi.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gr(Qr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},Xi.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},Xi.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Xi);function Xi(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}var $i=(Object.defineProperty(Ji.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),Ji.prototype.enqueueAndForget=function(e){this.enqueue(e)},Ji.prototype.enqueueAndForgetEvenAfterShutdown=function(e){this.verifyNotFailed(),this.enqueueInternal(e)},Ji.prototype.enqueueEvenAfterShutdown=function(e){return this.verifyNotFailed(),this.enqueueInternal(e)},Ji.prototype.enqueueAndInitiateShutdown=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(e)]);case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},Ji.prototype.enqueue=function(e){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(e){})):this.enqueueInternal(e)},Ji.prototype.enqueueInternal=function(e){var t=this,n=this.tail.then((function(){return t.operationInProgress=!0,e().catch((function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw Ur("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw e}),0),e})).then((function(e){return t.operationInProgress=!1,e}))}));return this.tail=n},Ji.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),Br(0<=t,"Attempted to schedule an operation with a negative delay of "+t),-1<this.timerIdsToSkip.indexOf(e)&&(t=0);var i=Yi.createAndSchedule(this,e,t,n,(function(e){return r.removeDelayedOperation(e)}));return this.delayedOperations.push(i),i},Ji.prototype.verifyNotFailed=function(){this.failure&&qr("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},Ji.prototype.verifyOperationInProgress=function(){Br(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},Ji.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},Ji.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},Ji.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then((function(){Br(e===Qi.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==Qi.All&&i.timerId===e)break}return t.drain()}))},Ji.prototype.skipDelaysForTimerId=function(e){this.timerIdsToSkip.push(e)},Ji.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);Br(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},Ji);function Ji(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}var Zi="\x01",eo="\x01",to="\x10",no="\x11";function ro(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=oo(t)),t=io(e.get(n),t);return oo(t)}function io(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=Zi+to;break;case Zi:n+=Zi+no;break;default:n+=o}}return n}function oo(e){return e+Zi+eo}function ao(e){var t=e.length;if(Br(2<=t,"Invalid path "+e),2===t)return Br(e.charAt(0)===Zi&&e.charAt(1)===eo,"Non-empty path "+e+" had length 2"),Ui.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(Zi,o);switch((a<0||n<a)&&qr('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case eo:var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case to:i+=e.substring(o,a),i+="\0";break;case no:i+=e.substring(o,a+1);break;default:qr('Invalid encoded resource path: "'+e+'"')}o=a+2}return new Ui(r)}var so=(uo.now=function(){return uo.fromMillis(Date.now())},uo.fromDate=function(e){return uo.fromMillis(e.getTime())},uo.fromMillis=function(e){var t=Math.floor(e/1e3);return new uo(t,1e6*(e-1e3*t))},uo.prototype.toDate=function(){return new Date(this.toMillis())},uo.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},uo.prototype._compareTo=function(e){return this.seconds===e.seconds?wi(this.nanoseconds,e.nanoseconds):wi(this.seconds,e.seconds)},uo.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},uo.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},uo);function uo(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new Gr(Qr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}var co=(lo.fromMicroseconds=function(e){var t=Math.floor(e/1e6);return new lo(new so(t,e%1e6*1e3))},lo.fromTimestamp=function(e){return new lo(e)},lo.forDeletedDoc=function(){return lo.MIN},lo.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},lo.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},lo.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},lo.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},lo.prototype.toTimestamp=function(){return this.timestamp},lo.MIN=new lo(new so(0,0)),lo);function lo(e){this.timestamp=e}var ho=(fo.prototype.insert=function(e,t){return new fo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yo.BLACK,null,null))},fo.prototype.remove=function(e){return new fo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yo.BLACK,null,null))},fo.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},fo.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},fo.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(fo.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),fo.prototype.minKey=function(){return this.root.minKey()},fo.prototype.maxKey=function(){return this.root.maxKey()},fo.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},fo.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},fo.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},fo.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},fo.prototype.getIterator=function(){return new po(this.root,null,this.comparator,!1)},fo.prototype.getIteratorFrom=function(e){return new po(this.root,e,this.comparator,!1)},fo.prototype.getReverseIterator=function(){return new po(this.root,null,this.comparator,!0)},fo.prototype.getReverseIteratorFrom=function(e){return new po(this.root,e,this.comparator,!0)},fo);function fo(e,t){this.comparator=e,this.root=t||yo.EMPTY}var po=(mo.prototype.getNext=function(){Br(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},mo.prototype.hasNext=function(){return 0<this.nodeStack.length},mo.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},mo);function mo(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}var yo=(vo.prototype.copy=function(e,t,n,r,i){return new vo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},vo.prototype.isEmpty=function(){return!1},vo.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},vo.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},vo.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},vo.prototype.minKey=function(){return this.min().key},vo.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},vo.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},vo.prototype.removeMin=function(){if(this.left.isEmpty())return vo.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},vo.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return vo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},vo.prototype.isRed=function(){return this.color},vo.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},vo.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},vo.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},vo.prototype.rotateLeft=function(){var e=this.copy(null,null,vo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},vo.prototype.rotateRight=function(){var e=this.copy(null,null,vo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},vo.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},vo.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},vo.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw qr("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw qr("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw qr("Black depths differ");return e+(this.isRed()?0:1)},vo.EMPTY=null,vo.RED=!0,vo.BLACK=!1,vo);function vo(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vo.RED,this.left=null!=r?r:vo.EMPTY,this.right=null!=i?i:vo.EMPTY,this.size=this.left.size+1+this.right.size}var go=(Object.defineProperty(bo.prototype,"key",{get:function(){throw qr("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(bo.prototype,"value",{get:function(){throw qr("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(bo.prototype,"color",{get:function(){throw qr("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(bo.prototype,"left",{get:function(){throw qr("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(bo.prototype,"right",{get:function(){throw qr("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),bo.prototype.copy=function(e,t,n,r,i){return this},bo.prototype.insert=function(e,t,n){return new yo(e,t)},bo.prototype.remove=function(e,t){return this},bo.prototype.isEmpty=function(){return!0},bo.prototype.inorderTraversal=function(e){return!1},bo.prototype.reverseTraversal=function(e){return!1},bo.prototype.minKey=function(){return null},bo.prototype.maxKey=function(){return null},bo.prototype.isRed=function(){return!1},bo.prototype.checkMaxDepth=function(){return!0},bo.prototype.check=function(){return 0},bo);function bo(){this.size=0}yo.EMPTY=new go;var wo=(Eo.fromMapKeys=function(e){var t=new Eo(e.comparator);return e.forEach((function(e){t=t.add(e)})),t},Eo.prototype.has=function(e){return null!==this.data.get(e)},Eo.prototype.first=function(){return this.data.minKey()},Eo.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Eo.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),Eo.prototype.indexOf=function(e){return this.data.indexOf(e)},Eo.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},Eo.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},Eo.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},Eo.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},Eo.prototype.getIterator=function(){return new To(this.data.getIterator())},Eo.prototype.getIteratorFrom=function(e){return new To(this.data.getIteratorFrom(e))},Eo.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},Eo.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},Eo.prototype.isEmpty=function(){return this.data.isEmpty()},Eo.prototype.unionWith=function(e){var t=this;return e.forEach((function(e){t=t.add(e)})),t},Eo.prototype.isEqual=function(e){if(!(e instanceof Eo))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},Eo.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},Eo.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},Eo.prototype.copy=function(e){var t=new Eo(this.comparator);return t.data=e,t},Eo);function Eo(e){this.comparator=e,this.data=new ho(this.comparator)}var To=(So.prototype.getNext=function(){return this.iter.getNext().key},So.prototype.hasNext=function(){return this.iter.hasNext()},So);function So(e){this.iter=e}var Io=new ho(Wi.comparator);function ko(){return Io}function Co(){return ko()}var No=new ho(Wi.comparator);function Ao(){return No}var _o=new ho(Wi.comparator);function Do(){return _o}var xo=new wo(Wi.comparator);function Oo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=xo,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Po=new wo(wi);function Ro(){return Po}var Mo=(Lo.prototype.applyToRemoteDocument=function(e,t,n){t&&Br(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;Br(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},Lo.prototype.applyToLocalView=function(e,t){t&&Br(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(e)&&(t=s.applyToLocalView(t,t,this.localWriteTime));for(var i=t,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(e)&&(t=s.applyToLocalView(t,i,this.localWriteTime))}return t},Lo.prototype.applyToLocalDocumentSet=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.applyToLocalView(r.key,e.get(r.key));i&&(n=n.insert(r.key,i))})),n},Lo.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Oo())},Lo.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ei(this.mutations,e.mutations)&&Ei(this.baseMutations,e.baseMutations)},Lo);function Lo(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,Br(0<(this.mutations=r).length,"Cannot create an empty mutation batch")}var Fo=(Uo.from=function(e,t,n,r){Br(e.mutations.length===n.length,"Mutations sent "+e.mutations.length+" must equal results received "+n.length);for(var i=Do(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,n[a].version);return new Uo(e,t,n,r,i)},Uo);function Uo(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}var Vo=(qo.prototype.catch=function(e){return this.next(void 0,e)},qo.prototype.next=function(e,t){var n=this;return this.callbackAttached&&qr("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qo((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},qo.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},qo.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof qo?t:qo.resolve(t)}catch(e){return qo.reject(e)}},qo.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):qo.resolve(t)},qo.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):qo.reject(t)},qo.resolve=function(e){return new qo((function(t,n){t(e)}))},qo.reject=function(e){return new qo((function(t,n){n(e)}))},qo.waitFor=function(e){return new qo((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},qo.or=function(e){for(var t=qo.resolve(!1),n=function(e){t=t.next((function(t){return t?qo.resolve(t):e()}))},r=0,i=e;r<i.length;r++)n(i[r]);return t},qo.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},qo);function qo(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}var Bo,jo,zo=(Wo.forUser=function(e,t,n,r){return Br(""!==e.uid,"UserID must not be an empty string."),new Wo(e.isAuthenticated()?e.uid:"",t,n,r)},Wo.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ho(e).iterate({index:mu.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},Wo.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next((function(t){return t.lastStreamToken=Go(n),Xo(e).put(t)}))},Wo.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next((function(e){return e.lastStreamToken}))},Wo.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next((function(n){return n.lastStreamToken=Go(t),Xo(e).put(n)}))},Wo.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Yo(e),a=Ho(e);return a.add({}).next((function(s){Br("number"==typeof s,"Auto-generated key is not a number");var u=new Mo(s,t,n,r),c=i.serializer.toDbMutationBatch(i.userId,u);i.documentKeysByBatchId[s]=u.keys();for(var l=[],h=0,f=r;h<f.length;h++){var d=f[h],p=vu.key(i.userId,d.key.path,s);l.push(a.put(c)),l.push(o.put(p,vu.PLACEHOLDER)),l.push(i.indexManager.addToCollectionParentIndex(e,d.key.path.popLast()))}return Vo.waitFor(l).next((function(){return u}))}))},Wo.prototype.lookupMutationBatch=function(e,t){var n=this;return Ho(e).get(t).next((function(e){return e?(Br(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null}))},Wo.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Vo.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r}return null}))},Wo.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ho(e).iterate({index:mu.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Br(t.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(t)),i.done()})).next((function(){return o}))},Wo.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ho(e).iterate({index:mu.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},Wo.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ho(e).loadAll(mu.userMutationsIndex,n).next((function(e){return e.map((function(e){return t.serializer.fromDbMutationBatch(e)}))}))},Wo.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=vu.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Yo(e).iterate({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=ao(u);if(s===n.userId&&t.path.isEqual(l))return Ho(e).get(c).next((function(e){if(!e)throw qr("Dangling document-mutation reference found: "+r+" which points to "+c);Br(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))}));a.done()})).next((function(){return o}))},Wo.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new wo(wi),i=[];return t.forEach((function(t){var o=vu.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Yo(e).iterate({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=ao(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Vo.waitFor(i).next((function(){return n.lookupMutationBatches(e,r)}))},Wo.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;Br(!t.isDocumentQuery(),"Document queries shouldn't go down this path"),Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=t.path,i=r.length+1,o=vu.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new wo(wi);return Yo(e).iterate({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=ao(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(e,s)}))},Wo.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ho(e).get(t).next((function(e){if(null===e)throw qr("Dangling document-mutation reference found, which points to "+t);Br(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))})))})),Vo.waitFor(i).next((function(){return r}))},Wo.prototype.removeMutationBatch=function(e,t){var n=this;return Qo(e.simpleDbTransaction,this.userId,t).next((function(r){return n.removeCachedMutationKeys(t.batchId),Vo.forEach(r,(function(t){return n.referenceDelegate.removeMutationReference(e,t)}))}))},Wo.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},Wo.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Vo.resolve();var r=IDBKeyRange.lowerBound(vu.prefixForUser(t.userId)),i=[];return Yo(e).iterate({range:r},(function(e,n,r){if(e[0]===t.userId){var o=ao(e[1]);i.push(o)}else r.done()})).next((function(){Br(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(e){return e.canonicalString()})))}))}))},Wo.prototype.containsKey=function(e,t){return Ko(e,this.userId,t)},Wo.prototype.getMutationQueueMetadata=function(e){var t=this;return Xo(e).get(this.userId).next((function(e){return e||new du(t.userId,-1,"")}))},Wo);function Wo(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}function Ko(e,t,n){var r=vu.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Yo(e).iterate({range:o,keysOnly:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Qo(e,t,n){var r=e.store(mu.store),i=e.store(vu.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Br(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=vu.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Vo.waitFor(o).next((function(){return c}))}function Go(e){return e instanceof Uint8Array?(Br("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/todo-react-hooks"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),e.toString()):e}function Ho(e){return uc.getStore(e,mu.store)}function Yo(e){return uc.getStore(e,vu.store)}function Xo(e){return uc.getStore(e,du.store)}(jo=Bo=Bo||{})[jo.QueryCache=0]="QueryCache",jo[jo.SyncEngine=1]="SyncEngine";var $o=(Jo.prototype.next=function(){var e=this.nextId;return this.nextId+=2,e},Jo.prototype.after=function(e){return this.seek(e+2),this.next()},Jo.prototype.seek=function(e){Br((1&e)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},Jo.forQueryCache=function(){return new Jo(Bo.QueryCache,2)},Jo.forSyncEngine=function(){return new Jo(Bo.SyncEngine)},Jo);function Jo(e,t){Br((1&(this.generatorId=e))===e,"Generator ID "+e+" contains more than 1 reserved bits"),this.seek(void 0!==t?t:this.generatorId)}var Zo="SimpleDb",ea=(ta.openOrCreate=function(e,t,n){return Br(ta.isAvailable(),"IndexedDB not supported in current environment."),Fr(Zo,"Opening database:",e),new Vo((function(r,i){var o=window.indexedDB.open(e,t);o.onsuccess=function(e){var t=e.target.result;r(new ta(t))},o.onblocked=function(){i(new Gr(Qr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(e){var t=e.target.error;"VersionError"===t.name?i(new Gr(Qr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(t)},o.onupgradeneeded=function(t){Fr(Zo,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var r=t.target.result;n.createOrUpgrade(r,o.transaction,t.oldVersion,su).next((function(){Fr(Zo,"Database upgrade to version "+su+" complete")}))}})).toPromise()},ta.delete=function(e){return Fr(Zo,"Removing database:",e),ua(window.indexedDB.deleteDatabase(e)).toPromise()},ta.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/todo-react-hooks"}).USE_MOCK_PERSISTENCE;var e=m(),t=ta.getIOSVersion(e),n=0<t&&t<10,r=ta.getAndroidVersion(e),i=0<r&&r<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||n||i)},ta.getStore=function(e,t){return e.store(t)},ta.getIOSVersion=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},ta.getAndroidVersion=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},ta.prototype.setVersionChangeListener=function(e){this.db.onversionchange=function(t){return e(t)}},ta.prototype.runTransaction=function(e,t,n){var r=ia.open(this.db,e,t),i=n(r).catch((function(e){return r.abort(e),Vo.reject(e)})).toPromise();return i.catch((function(){})),r.completionPromise.then((function(){return i}))},ta.prototype.close=function(){this.db.close()},ta);function ta(e){this.db=e,12.2===ta.getIOSVersion(m())&&Ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}var na=(Object.defineProperty(ra.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(ra.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(ra.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),ra.prototype.done=function(){this.shouldStop=!0},ra.prototype.skip=function(e){this.nextKey=e},ra.prototype.delete=function(){return ua(this.dbCursor.delete())},ra);function ra(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}var ia=(oa.open=function(e,t,n){return new oa(e.transaction(n,t))},Object.defineProperty(oa.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),oa.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(Fr(Zo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},oa.prototype.store=function(e){var t=this.transaction.objectStore(e);return Br(!!t,"Object store not part of transaction: "+e),new aa(t)},oa);function oa(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new Hi,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){var n=la(e.target.error);t.completionDeferred.reject(n)}}var aa=(sa.prototype.put=function(e,t){return ua(void 0!==t?(Fr(Zo,"PUT",this.store.name,e,t),this.store.put(t,e)):(Fr(Zo,"PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},sa.prototype.add=function(e){return Fr(Zo,"ADD",this.store.name,e,e),ua(this.store.add(e))},sa.prototype.get=function(e){var t=this;return ua(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Fr(Zo,"GET",t.store.name,e,n),n}))},sa.prototype.delete=function(e){return Fr(Zo,"DELETE",this.store.name,e),ua(this.store.delete(e))},sa.prototype.count=function(){return Fr(Zo,"COUNT",this.store.name),ua(this.store.count())},sa.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,(function(e,t){r.push(t)})).next((function(){return r}))},sa.prototype.deleteAll=function(e,t){Fr(Zo,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(e,t,n){return n.delete()}))},sa.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},sa.prototype.iterateSerial=function(e){var t=this.cursor({});return new Vo((function(n,r){t.onerror=function(e){var t=la(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},sa.prototype.iterateCursor=function(e,t){var n=[];return new Vo((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new na(i),a=t(i.primaryKey,i.value,o);if(a instanceof Vo){var s=a.catch((function(e){return o.done(),Vo.reject(e)}));n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return Vo.waitFor(n)}))},sa.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(Br(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},sa.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},sa);function sa(e){this.store=e}function ua(e){return new Vo((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=la(e.target.error);n(t)}}))}var ca=!1;function la(e){var t=ea.getIOSVersion(m());if(12.2<=t&&t<13){var n="An internal error was encountered in the Indexed Database server";if(0<=e.message.indexOf(n)){var r=new Gr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ca||(ca=!0,setTimeout((function(){throw r}),0)),r}}return e}var ha=(fa.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next((function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next((function(){return n.highestTargetId}))}))},fa.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next((function(e){return co.fromTimestamp(new so(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},fa.prototype.getHighestSequenceNumber=function(e){return ma(e.simpleDbTransaction)},fa.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)}))},fa.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next((function(){return n.retrieveMetadata(e).next((function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)}))}))},fa.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},fa.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return da(e).delete(t.targetId)})).next((function(){return n.retrieveMetadata(e)})).next((function(t){return Br(0<t.targetCount,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)}))},fa.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return da(e).iterate((function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))})).next((function(){return Vo.waitFor(o)})).next((function(){return i}))},fa.prototype.forEachTarget=function(e,t){var n=this;return da(e).iterate((function(e,r){var i=n.serializer.fromDbTarget(r);t(i)}))},fa.prototype.retrieveMetadata=function(e){return pa(e.simpleDbTransaction)},fa.prototype.saveMetadata=function(e,t){return function(e){return uc.getStore(e,_u.store)}(e).put(_u.key,t)},fa.prototype.saveQueryData=function(e,t){return da(e).put(this.serializer.toDbTarget(t))},fa.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},fa.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next((function(e){return e.targetCount}))},fa.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return da(e).iterate({range:i,index:ku.queryTargetsIndexName},(function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())})).next((function(){return o}))},fa.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=ya(e);return t.forEach((function(t){var a=ro(t.path);i.push(o.put(new Nu(n,a))),i.push(r.referenceDelegate.addReference(e,t))})),Vo.waitFor(i)},fa.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=ya(e);return Vo.forEach(t,(function(t){var o=ro(t.path);return Vo.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])}))},fa.prototype.removeMatchingKeysForTargetId=function(e,t){var n=ya(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},fa.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ya(e),i=Oo();return r.iterate({range:n,keysOnly:!0},(function(e,t,n){var r=ao(e[1]),o=new Wi(r);i=i.add(o)})).next((function(){return i}))},fa.prototype.containsKey=function(e,t){var n=ro(t.path),r=IDBKeyRange.bound([n],[Ti(n)],!1,!0),i=0;return ya(e).iterate({index:Nu.documentTargetsIndex,keysOnly:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return 0<i}))},fa.prototype.getQueryDataForTarget=function(e,t){var n=this;return da(e).get(t).next((function(e){return e?n.serializer.fromDbTarget(e):null}))},fa);function fa(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=$o.forQueryCache()}function da(e){return uc.getStore(e,ku.store)}function pa(e){return ea.getStore(e,_u.store).get(_u.key).next((function(e){return Br(null!==e,"Missing metadata row."),e}))}function ma(e){return pa(e).next((function(e){return e.highestListenSequenceNumber}))}function ya(e){return uc.getStore(e,Nu.store)}var va=(ga.fromSet=function(e){return new ga(e)},ga.fromArray=function(e){var t=new wo(ji.comparator);return e.forEach((function(e){return t=t.add(e)})),new ga(t)},ga.prototype.covers=function(e){var t=!1;return this.fields.forEach((function(n){n.isPrefixOf(e)&&(t=!0)})),t},ga.prototype.isEqual=function(e){return this.fields.isEqual(e.fields)},ga);function ga(e){this.fields=e}var ba=(wa.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},wa);function wa(e,t){this.field=e,this.transform=t}var Ea,Ta,Sa=function(e,t){this.version=e,this.transformResults=t};(Ta=Ea=Ea||{})[Ta.Set=0]="Set",Ta[Ta.Patch=1]="Patch",Ta[Ta.Transform=2]="Transform",Ta[Ta.Delete=3]="Delete";var Ia=(ka.exists=function(e){return new ka(void 0,e)},ka.updateTime=function(e){return new ka(e)},Object.defineProperty(ka.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),ka.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof Fs&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof Fs:(Br(this.isNone,"Precondition should be empty"),!0)},ka.prototype.isEqual=function(e){return function(e,t){return null!=e?!(!t||!e.isEqual(t)):e===t}(this.updateTime,e.updateTime)&&this.exists===e.exists},ka.NONE=new ka,ka);function ka(e,t){this.updateTime=e,this.exists=t,Br(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}var Ca=(Na.prototype.verifyKeyMatches=function(e){null!=e&&Br(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},Na.getPostMutationVersion=function(e){return e instanceof Fs?e.version:co.MIN},Na);function Na(){}var Aa,_a=(r(Da,Aa=Ca),Da.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),Br(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new Fs(this.key,n,{hasCommittedMutations:!0},this.value)},Da.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Ca.getPostMutationVersion(e);return new Fs(this.key,r,{hasLocalMutations:!0},this.value)},Da.prototype.extractBaseValue=function(e){return null},Da.prototype.isEqual=function(e){return e instanceof Da&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},Da);function Da(e,t,n){var r=Aa.call(this)||this;return r.key=e,r.value=t,r.precondition=n,r.type=Ea.Set,r}var xa,Oa=(r(Pa,xa=Ca),Pa.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Br(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new zs(this.key,t.version);var n=this.patchDocument(e);return new Fs(this.key,t.version,{hasCommittedMutations:!0},n)},Pa.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=Ca.getPostMutationVersion(e),i=this.patchDocument(e);return new Fs(this.key,r,{hasLocalMutations:!0},i)},Pa.prototype.extractBaseValue=function(e){return null},Pa.prototype.isEqual=function(e){return e instanceof Pa&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},Pa.prototype.patchDocument=function(e){var t;return t=e instanceof Fs?e.data():_s.EMPTY,this.patchObject(t)},Pa.prototype.patchObject=function(e){var t=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e=null!==r?e.set(n,r):e.delete(n)}})),e},Pa);function Pa(e,t,n,r){var i=xa.call(this)||this;return i.key=e,i.data=t,i.fieldMask=n,i.precondition=r,i.type=Ea.Patch,i}var Ra,Ma=(r(La,Ra=Ca),La.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),Br(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new zs(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data(),r);return new Fs(this.key,i,{hasCommittedMutations:!0},o)},La.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,e,t),o=this.transformObject(r.data(),i);return new Fs(this.key,r.version,{hasLocalMutations:!0},o)},La.prototype.extractBaseValue=function(e){for(var t=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=e instanceof Fs?e.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(t=null==t?_s.EMPTY.set(i.field,a):t.set(i.field,a))}return t},La.prototype.isEqual=function(e){return e instanceof La&&this.key.isEqual(e.key)&&Ei(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},La.prototype.requireDocument=function(e){Br(e instanceof Fs,"Unknown MaybeDocument type "+e);var t=e;return Br(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},La.prototype.serverTransformResults=function(e,t){var n=[];Br(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof Fs&&(a=e.field(i.field)),n.push(o.applyToRemoteDocument(a,t[r]))}return n},La.prototype.localTransformResults=function(e,t,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],s=a.transform,u=null;t instanceof Fs&&(u=t.field(a.field)),null===u&&n instanceof Fs&&(u=n.field(a.field)),r.push(s.applyToLocalView(u,e))}return r},La.prototype.transformObject=function(e,t){Br(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},La);function La(e,t){var n=Ra.call(this)||this;return n.key=e,n.fieldTransforms=t,n.type=Ea.Transform,n.precondition=Ia.exists(!0),n}var Fa,Ua,Va,qa,Ba,ja=(r(za,Fa=Ca),za.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),Br(null==t.transformResults,"Transform results received by DeleteMutation."),new qs(this.key,t.version,{hasCommittedMutations:!0})},za.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&Br(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new qs(this.key,co.forDeletedDoc())):e},za.prototype.extractBaseValue=function(e){return null},za.prototype.isEqual=function(e){return e instanceof za&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},za);function za(e,t){var n=Fa.call(this)||this;return n.key=e,n.precondition=t,n.type=Ea.Delete,n}(Va=Ua=Ua||{})[Va.NullValue=0]="NullValue",Va[Va.BooleanValue=1]="BooleanValue",Va[Va.NumberValue=2]="NumberValue",Va[Va.TimestampValue=3]="TimestampValue",Va[Va.StringValue=4]="StringValue",Va[Va.BlobValue=5]="BlobValue",Va[Va.RefValue=6]="RefValue",Va[Va.GeoPointValue=7]="GeoPointValue",Va[Va.ArrayValue=8]="ArrayValue",Va[Va.ObjectValue=9]="ObjectValue",(Ba=qa=qa||{})[Ba.Default=0]="Default",Ba[Ba.Estimate=1]="Estimate",Ba[Ba.Previous=2]="Previous";var Wa=(Ka.fromSnapshotOptions=function(e,t){switch(e.serverTimestamps){case"estimate":return new Ka(qa.Estimate,t);case"previous":return new Ka(qa.Previous,t);case"none":case void 0:return new Ka(qa.Default,t);default:return qr("fromSnapshotOptions() called with invalid options.")}},Ka);function Ka(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}var Qa=(Ga.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},Ga.prototype.defaultCompareTo=function(e){return Br(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),wi(this.typeOrder,e.typeOrder)},Ga);function Ga(){}var Ha,Ya=(r(Xa,Ha=Qa),Xa.prototype.value=function(e){return null},Xa.prototype.isEqual=function(e){return e instanceof Xa},Xa.prototype.compareTo=function(e){return e instanceof Xa?0:this.defaultCompareTo(e)},Xa.INSTANCE=new Xa,Xa);function Xa(){var e=Ha.call(this)||this;return e.typeOrder=Ua.NullValue,e.internalValue=null,e}var $a,Ja=(r(Za,$a=Qa),Za.prototype.value=function(e){return this.internalValue},Za.prototype.isEqual=function(e){return e instanceof Za&&this.internalValue===e.internalValue},Za.prototype.compareTo=function(e){return e instanceof Za?wi(this,e):this.defaultCompareTo(e)},Za.of=function(e){return e?Za.TRUE:Za.FALSE},Za.TRUE=new Za(!0),Za.FALSE=new Za(!1),Za);function Za(e){var t=$a.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.BooleanValue,t}var es,ts=(r(ns,es=Qa),ns.prototype.value=function(e){return this.internalValue},ns.prototype.compareTo=function(e){return e instanceof ns?function(e,t){return e<t?-1:t<e?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(this.internalValue,e.internalValue):this.defaultCompareTo(e)},ns);function ns(e){var t=es.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.NumberValue,t}function rs(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var is,os=(r(as,is=ts),as.prototype.isEqual=function(e){return e instanceof as&&rs(this.internalValue,e.internalValue)},as);function as(){return null!==is&&is.apply(this,arguments)||this}var ss,us=(r(cs,ss=ts),cs.prototype.isEqual=function(e){return e instanceof cs&&rs(this.internalValue,e.internalValue)},cs.NAN=new cs(NaN),cs.POSITIVE_INFINITY=new cs(1/0),cs.NEGATIVE_INFINITY=new cs(-1/0),cs);function cs(){return null!==ss&&ss.apply(this,arguments)||this}var ls,hs=(r(fs,ls=Qa),fs.prototype.value=function(e){return this.internalValue},fs.prototype.isEqual=function(e){return e instanceof fs&&this.internalValue===e.internalValue},fs.prototype.compareTo=function(e){return e instanceof fs?wi(this.internalValue,e.internalValue):this.defaultCompareTo(e)},fs);function fs(e){var t=ls.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.StringValue,t}var ds,ps=(r(ms,ds=Qa),ms.prototype.value=function(e){return!e||e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},ms.prototype.isEqual=function(e){return e instanceof ms&&this.internalValue.isEqual(e.internalValue)},ms.prototype.compareTo=function(e){return e instanceof ms?this.internalValue._compareTo(e.internalValue):e instanceof vs?-1:this.defaultCompareTo(e)},ms);function ms(e){var t=ds.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.TimestampValue,t}var ys,vs=(r(gs,ys=Qa),gs.prototype.value=function(e){return e&&e.serverTimestampBehavior===qa.Estimate?new ps(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===qa.Previous&&this.previousValue?this.previousValue.value(e):null},gs.prototype.isEqual=function(e){return e instanceof gs&&this.localWriteTime.isEqual(e.localWriteTime)},gs.prototype.compareTo=function(e){return e instanceof gs?this.localWriteTime._compareTo(e.localWriteTime):e instanceof ps?1:this.defaultCompareTo(e)},gs.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},gs);function gs(e,t){var n=ys.call(this)||this;return n.localWriteTime=e,n.previousValue=t,n.typeOrder=Ua.TimestampValue,n}var bs,ws=(r(Es,bs=Qa),Es.prototype.value=function(e){return this.internalValue},Es.prototype.isEqual=function(e){return e instanceof Es&&this.internalValue.isEqual(e.internalValue)},Es.prototype.compareTo=function(e){return e instanceof Es?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},Es);function Es(e){var t=bs.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.BlobValue,t}var Ts,Ss=(r(Is,Ts=Qa),Is.prototype.value=function(e){return this.key},Is.prototype.isEqual=function(e){return e instanceof Is&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},Is.prototype.compareTo=function(e){if(e instanceof Is){var t=this.databaseId.compareTo(e.databaseId);return 0!==t?t:Wi.comparator(this.key,e.key)}return this.defaultCompareTo(e)},Is);function Is(e,t){var n=Ts.call(this)||this;return n.databaseId=e,n.key=t,n.typeOrder=Ua.RefValue,n}var ks,Cs=(r(Ns,ks=Qa),Ns.prototype.value=function(e){return this.internalValue},Ns.prototype.isEqual=function(e){return e instanceof Ns&&this.internalValue.isEqual(e.internalValue)},Ns.prototype.compareTo=function(e){return e instanceof Ns?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},Ns);function Ns(e){var t=ks.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.GeoPointValue,t}var As,_s=(r(Ds,As=Qa),Ds.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal((function(n,r){t[n]=r.value(e)})),t},Ds.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},Ds.prototype.isEqual=function(e){if(e instanceof Ds){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!t.hasNext()&&!n.hasNext()}return!1},Ds.prototype.compareTo=function(e){if(e instanceof Ds){for(var t=this.internalValue.getIterator(),n=e.internalValue.getIterator();t.hasNext()&&n.hasNext();){var r=t.getNext(),i=n.getNext(),o=wi(r.key,i.key)||r.value.compareTo(i.value);if(o)return o}return wi(t.hasNext(),n.hasNext())}return this.defaultCompareTo(e)},Ds.prototype.set=function(e,t){if(Br(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),t);var n=this.child(e.firstSegment());n instanceof Ds||(n=Ds.EMPTY);var r=n.set(e.popFirst(),t);return this.setChild(e.firstSegment(),r)},Ds.prototype.delete=function(e){if(Br(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new Ds(this.internalValue.remove(e.firstSegment()));var t=this.child(e.firstSegment());if(t instanceof Ds){var n=t.delete(e.popFirst());return new Ds(this.internalValue.insert(e.firstSegment(),n))}return this},Ds.prototype.contains=function(e){return null!==this.field(e)},Ds.prototype.field=function(e){Br(!e.isEmpty(),"Can't get field of empty path");var t=this;return e.forEach((function(e){t=t instanceof Ds?t.internalValue.get(e):null})),t},Ds.prototype.fieldMask=function(){var e=new wo(ji.comparator);return this.internalValue.forEach((function(t,n){var r=new ji([t]);if(n instanceof Ds){var i=n.fieldMask().fields;i.isEmpty()?e=e.add(r):i.forEach((function(t){e=e.add(r.child(t))}))}else e=e.add(r)})),va.fromSet(e)},Ds.prototype.toString=function(){return this.internalValue.toString()},Ds.prototype.child=function(e){return this.internalValue.get(e)||void 0},Ds.prototype.setChild=function(e,t){return new Ds(this.internalValue.insert(e,t))},Ds.EMPTY=new Ds(new ho(wi)),Ds);function Ds(e){var t=As.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.ObjectValue,t}var xs,Os=(r(Ps,xs=Qa),Ps.prototype.value=function(e){return this.internalValue.map((function(t){return t.value(e)}))},Ps.prototype.contains=function(e){for(var t=0,n=this.internalValue;t<n.length;t++)if(n[t].isEqual(e))return!0;return!1},Ps.prototype.forEach=function(e){this.internalValue.forEach(e)},Ps.prototype.isEqual=function(e){if(e instanceof Ps){if(this.internalValue.length!==e.internalValue.length)return!1;for(var t=0;t<this.internalValue.length;t++)if(!this.internalValue[t].isEqual(e.internalValue[t]))return!1;return!0}return!1},Ps.prototype.compareTo=function(e){if(e instanceof Ps){for(var t=Math.min(this.internalValue.length,e.internalValue.length),n=0;n<t;n++){var r=this.internalValue[n].compareTo(e.internalValue[n]);if(r)return r}return wi(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},Ps.prototype.toString=function(){return"["+this.internalValue.map((function(e){return e.toString()})).join(",")+"]"},Ps);function Ps(e){var t=xs.call(this)||this;return t.internalValue=e,t.typeOrder=Ua.ArrayValue,t}var Rs=(Ms.compareByKey=function(e,t){return Wi.comparator(e.key,t.key)},Ms);function Ms(e,t){this.key=e,this.version=t}var Ls,Fs=(r(Us,Ls=Rs),Us.prototype.field=function(e){if(this.objectValue)return this.objectValue.field(e);this.fieldValueCache||(this.fieldValueCache=new Map);var t=e.canonicalString(),n=this.fieldValueCache.get(t);if(void 0===n){var r=this.getProtoField(e);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(t,n)}return n},Us.prototype.data=function(){var e=this;if(!this.objectValue){var t=_s.EMPTY;Zr(this.proto.fields||{},(function(n,r){t=t.set(new ji([n]),e.converter(r))})),this.objectValue=t,this.fieldValueCache=void 0}return this.objectValue},Us.prototype.value=function(){return this.data().value()},Us.prototype.isEqual=function(e){return e instanceof Us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations&&this.data().isEqual(e.data())},Us.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Us.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),Us.prototype.getProtoField=function(e){Br(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var t=this.proto.fields?this.proto.fields[e.firstSegment()]:void 0,n=1;n<e.length;++n){if(!t||!t.mapValue||!t.mapValue.fields)return;t=t.mapValue.fields[e.get(n)]}return t},Us.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?r.compareTo(i):qr("Trying to compare documents on fields that don't exist")},Us);function Us(e,t,n,r,i,o){var a=Ls.call(this,e,t)||this;return a.objectValue=r,a.proto=i,a.converter=o,Br(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!n.hasLocalMutations,a.hasCommittedMutations=!!n.hasCommittedMutations,a}var Vs,qs=(r(Bs,Vs=Rs),Bs.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(Bs.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),Bs.prototype.isEqual=function(e){return e instanceof Bs&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Bs);function Bs(e,t,n){var r=Vs.call(this,e,t)||this;return r.hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}var js,zs=(r(Ws,js=Rs),Ws.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Ws.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),Ws.prototype.isEqual=function(e){return e instanceof Ws&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},Ws);function Ws(){return null!==js&&js.apply(this,arguments)||this}var Ks=(Qs.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},Qs.prototype.has=function(e){return void 0!==this.get(e)},Qs.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},Qs.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},Qs.prototype.forEach=function(e){Zr(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},Qs.prototype.isEmpty=function(){return ei(this.inner)},Qs);function Qs(e){this.mapKeyFn=e,this.inner={}}var Gs=(Object.defineProperty(Hs.prototype,"readTime",{get:function(){return Br(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(e){Br(void 0===this._readTime||this._readTime.isEqual(e),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=e},enumerable:!0,configurable:!0}),Hs.prototype.addEntry=function(e,t){this.assertNotApplied(),this.readTime=t,this.changes.set(e.key,e)},Hs.prototype.removeEntry=function(e,t){this.assertNotApplied(),t&&(this.readTime=t),this.changes.set(e,null)},Hs.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Vo.resolve(n):this.getFromCache(e,t)},Hs.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},Hs.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},Hs.prototype.assertNotApplied=function(){Br(!this.changesApplied,"Changes have already been applied.")},Hs);function Hs(){this.changes=new Ks((function(e){return e.toString()})),this.changesApplied=!1}var Ys,Xs=($s.prototype.start=function(e){return this.synchronizeLastProcessedReadTime(e)},$s.prototype.addEntry=function(e,t,n){var r=this;return eu(e).put(tu(t),n).next((function(){r.indexManager.addToCollectionParentIndex(e,t.path.popLast())}))},$s.prototype.removeEntry=function(e,t){var n=eu(e),r=tu(t);return n.delete(r)},$s.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.setMetadata(e,r)}))},$s.prototype.getEntry=function(e,t){var n=this;return eu(e).get(tu(t)).next((function(e){return n.maybeDecodeDocument(e)}))},$s.prototype.getSizedEntry=function(e,t){var n=this;return eu(e).get(tu(t)).next((function(e){var t=n.maybeDecodeDocument(e);return t?{maybeDocument:t,size:nu(e)}:null}))},$s.prototype.getEntries=function(e,t){var n=this,r=Co();return this.forEachDbEntry(e,t,(function(e,t){var i=n.maybeDecodeDocument(t);r=r.insert(e,i)})).next((function(){return r}))},$s.prototype.getSizedEntries=function(e,t){var n=this,r=Co(),i=new ho(Wi.comparator);return this.forEachDbEntry(e,t,(function(e,t){var o=n.maybeDecodeDocument(t);i=o?(r=r.insert(e,o),i.insert(e,nu(t))):(r=r.insert(e,null),i.insert(e,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},$s.prototype.forEachDbEntry=function(e,t,n){if(t.isEmpty())return Vo.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return eu(e).iterate({range:r},(function(e,t,r){for(var a=Wi.fromSegments(e);o&&Wi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},$s.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this;Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Ao(),o=t.path.length+1,a={};if(n.isEqual(co.MIN)){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Eu.collectionReadTimeIndex}return eu(e).iterate(a,(function(e,n,a){if(e.length===o){var s=r.serializer.fromDbRemoteDocument(n);t.path.isPrefixOf(s.key.path)?s instanceof Fs&&t.matches(s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},$s.prototype.getNewDocumentChanges=function(e){var t=this,n=ko(),r=this.serializer.toDbTimestampKey(this.lastProcessedReadTime),i=eu(e),o=IDBKeyRange.lowerBound(r,!0);return i.iterate({index:Eu.readTimeIndex,range:o},(function(e,r){var i=t.serializer.fromDbRemoteDocument(r);n=n.insert(i.key,i),t.lastProcessedReadTime=t.serializer.fromDbTimestampKey(r.readTime)})).next((function(){return n}))},$s.prototype.synchronizeLastProcessedReadTime=function(e){var t=this,n=ea.getStore(e,Eu.store);return this.lastProcessedReadTime=co.forDeletedDoc(),n.iterate({index:Eu.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t.lastProcessedReadTime=t.serializer.fromDbTimestampKey(n.readTime)),r.done()}))},$s.prototype.newChangeBuffer=function(e){return new $s.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},$s.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},$s.prototype.getMetadata=function(e){return Zs(e).get(Su.key).next((function(e){return Br(!!e,"Missing document cache metadata"),e}))},$s.prototype.setMetadata=function(e,t){return Zs(e).put(Su.key,t)},$s.prototype.maybeDecodeDocument=function(e){if(e){var t=this.serializer.fromDbRemoteDocument(e);return t instanceof qs&&t.version.isEqual(co.forDeletedDoc())?null:t}return null},$s.RemoteDocumentChangeBuffer=(r(Js,Ys=Gs),Js.prototype.applyChanges=function(e){var t=this,n=[],r=0;return this.changes.forEach((function(i,o){var a=t.documentSizes.get(i);if(Br(void 0!==a,"Cannot modify a document that wasn't read (for "+i+")"),o){Br(!t.readTime.isEqual(co.MIN),"Cannot add a document with a read time of zero");var s=t.documentCache.serializer.toDbRemoteDocument(o,t.readTime),u=nu(s);r+=u-a,n.push(t.documentCache.addEntry(e,i,s))}else if(r-=a,t.trackRemovals){var c=t.documentCache.serializer.toDbRemoteDocument(new qs(i,co.forDeletedDoc()),t.readTime);n.push(t.documentCache.addEntry(e,i,c))}else n.push(t.documentCache.removeEntry(e,i))})),n.push(this.documentCache.updateMetadata(e,r)),Vo.waitFor(n)},Js.prototype.getFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntry(e,t).next((function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)}))},Js.prototype.getAllFromCache=function(e,t){var n=this;return this.documentCache.getSizedEntries(e,t).next((function(e){var t=e.maybeDocuments;return e.sizeMap.forEach((function(e,t){n.documentSizes.set(e,t)})),t}))},Js),$s);function $s(e,t){this.serializer=e,this.indexManager=t,this.lastProcessedReadTime=co.MIN}function Js(e,t){var n=Ys.call(this)||this;return n.documentCache=e,n.trackRemovals=t,n.documentSizes=new Ks((function(e){return e.toString()})),n}function Zs(e){return uc.getStore(e,Su.store)}function eu(e){return uc.getStore(e,Eu.store)}function tu(e){return e.path.toArray()}function nu(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qr("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var ru=(iu.prototype.addToCollectionParentIndex=function(e,t){return this.collectionParentIndex.add(t),Vo.resolve()},iu.prototype.getCollectionParents=function(e,t){return Vo.resolve(this.collectionParentIndex.getEntries(t))},iu);function iu(){this.collectionParentIndex=new ou}var ou=(au.prototype.add=function(e){Br(e.length%2==1,"Expected a collection path.");var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wo(Ui.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},au.prototype.getEntries=function(e){return(this.index[e]||new wo(Ui.comparator)).toArray()},au);function au(){this.index={}}var su=9,uu=(cu.prototype.createOrUpgrade=function(e,t,n,r){var i=this;Br(n<r&&0<=n&&r<=su,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new ia(t);n<1&&1<=r&&(function(e){e.createObjectStore(hu.store)}(e),function(e){e.createObjectStore(du.store,{keyPath:du.keyPath}),e.createObjectStore(mu.store,{keyPath:mu.keyPath,autoIncrement:!0}).createIndex(mu.userMutationsIndex,mu.userMutationsKeyPath,{unique:!0}),e.createObjectStore(vu.store)}(e),Pu(e),function(e){e.createObjectStore(Eu.store)}(e));var a=Vo.resolve();return n<3&&3<=r&&(0!==n&&(function(e){e.deleteObjectStore(Nu.store),e.deleteObjectStore(ku.store),e.deleteObjectStore(_u.store)}(e),Pu(e)),a=a.next((function(){return function(e){var t=e.store(_u.store),n=new _u(0,0,co.MIN.toTimestamp(),0);return t.put(_u.key,n)}(o)}))),n<4&&4<=r&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(mu.store).loadAll().next((function(n){e.deleteObjectStore(mu.store),e.createObjectStore(mu.store,{keyPath:mu.keyPath,autoIncrement:!0}).createIndex(mu.userMutationsIndex,mu.userMutationsKeyPath,{unique:!0});var r=t.store(mu.store),i=n.map((function(e){return r.put(e)}));return Vo.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Ru.store,{keyPath:Ru.keyPath})}(e)}))),n<5&&5<=r&&(a=a.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&6<=r&&(a=a.next((function(){return function(e){e.createObjectStore(Su.store)}(e),i.addDocumentGlobal(o)}))),n<7&&7<=r&&(a=a.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&8<=r&&(a=a.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&9<=r&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Eu.store);t.createIndex(Eu.readTimeIndex,Eu.readTimeIndexPath,{unique:!1}),t.createIndex(Eu.collectionReadTimeIndex,Eu.collectionReadTimeIndexPath,{unique:!1})}(t)}))),a},cu.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Eu.store).iterate((function(e,n){t+=nu(n)})).next((function(){var n=new Su(t);return e.store(Su.store).put(Su.key,n)}))},cu.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(du.store),r=e.store(mu.store);return n.loadAll().next((function(n){return Vo.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(mu.userMutationsIndex,i).next((function(r){return Vo.forEach(r,(function(r){Br(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return Qo(e,n.userId,i).next((function(){}))}))}))}))}))},cu.prototype.ensureSequenceNumbers=function(e){var t=e.store(Nu.store),n=e.store(Eu.store);return ma(e).next((function(e){var r=[];return n.iterate((function(n,i){var o=new Ui(n),a=function(e){return[0,ro(e)]}(o);r.push(t.get(a).next((function(n){return n?Vo.resolve():function(n){return t.put(new Nu(0,ro(n),e))}(o)})))})).next((function(){return Vo.waitFor(r)}))}))},cu.prototype.createCollectionParentIndex=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:ro(n)})}}e.createObjectStore(xu.store,{keyPath:xu.keyPath});var r=t.store(xu.store),i=new ou;return t.store(Eu.store).iterate({keysOnly:!0},(function(e,t){return n(new Ui(e).popLast())})).next((function(){return t.store(vu.store).iterate({keysOnly:!0},(function(e,t){e[0];var r=e[1];return n((e[2],ao(r)).popLast())}))}))},cu);function cu(e){this.serializer=e}var lu=function(e,t){this.seconds=e,this.nanoseconds=t},hu=(fu.store="owner",fu.key="owner",fu);function fu(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var du=(pu.store="mutationQueues",pu.keyPath="userId",pu);function pu(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}var mu=(yu.store="mutations",yu.keyPath="batchId",yu.userMutationsIndex="userMutationsIndex",yu.userMutationsKeyPath=["userId","batchId"],yu);function yu(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}var vu=(gu.prefixForUser=function(e){return[e]},gu.prefixForPath=function(e,t){return[e,ro(t)]},gu.key=function(e,t,n){return[e,ro(t),n]},gu.store="documentMutations",gu.PLACEHOLDER=new gu,gu);function gu(){}var bu=function(e,t){this.path=e,this.readTime=t},wu=function(e,t){this.path=e,this.version=t},Eu=(Tu.store="remoteDocuments",Tu.readTimeIndex="readTimeIndex",Tu.readTimeIndexPath="readTime",Tu.collectionReadTimeIndex="collectionReadTimeIndex",Tu.collectionReadTimeIndexPath=["parentPath","readTime"],Tu);function Tu(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}var Su=(Iu.store="remoteDocumentGlobal",Iu.key="remoteDocumentGlobalKey",Iu);function Iu(e){this.byteSize=e}var ku=(Cu.store="targets",Cu.keyPath="targetId",Cu.queryTargetsIndexName="queryTargetsIndex",Cu.queryTargetsKeyPath=["canonicalId","targetId"],Cu);function Cu(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}var Nu=(Au.store="targetDocuments",Au.keyPath=["targetId","path"],Au.documentTargetsIndex="documentTargetsIndex",Au.documentTargetsKeyPath=["path","targetId"],Au);function Au(e,t,n){this.targetId=e,this.path=t,Br(0===e==(void 0!==(this.sequenceNumber=n)),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}var _u=(Du.key="targetGlobalKey",Du.store="targetGlobal",Du);function Du(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}var xu=(Ou.store="collectionParents",Ou.keyPath=["collectionId","parent"],Ou);function Ou(e,t){this.collectionId=e,this.parent=t}function Pu(e){e.createObjectStore(Nu.store,{keyPath:Nu.keyPath}).createIndex(Nu.documentTargetsIndex,Nu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ku.store,{keyPath:ku.keyPath}).createIndex(ku.queryTargetsIndexName,ku.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_u.store)}var Ru=(Mu.store="clientMetadata",Mu.keyPath="clientId",Mu);function Mu(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}var Lu,Fu,Uu=c(c(c([du.store,mu.store,vu.store,Eu.store,ku.store,hu.store,_u.store,Nu.store],[Ru.store]),[Su.store]),[xu.store]),Vu=(qu.prototype.addToCollectionParentIndex=function(e,t){if(Br(t.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(t)){Br(1<=t.length,"Invalid collection path.");var n=t.lastSegment(),r=t.popLast();return Bu(e).put({collectionId:n,parent:ro(r)})}return Vo.resolve()},qu.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ti(t),""],!1,!0);return Bu(e).loadAll(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(ao(o.parent))}return n}))},qu);function qu(){this.collectionParentsCache=new ou}function Bu(e){return uc.getStore(e,xu.store)}(Fu=Lu=Lu||{})[Fu.Listen=0]="Listen",Fu[Fu.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",Fu[Fu.LimboResolution=2]="LimboResolution";var ju=(zu.prototype.withSequenceNumber=function(e){return new zu(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},zu.prototype.withResumeToken=function(e,t){return new zu(this.query,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},zu.prototype.withLastLimboFreeSnapshotVersion=function(e){return new zu(this.query,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},zu.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(e.lastLimboFreeSnapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},zu);function zu(e,t,n,r,i,o,a){void 0===i&&(i=co.MIN),void 0===o&&(o=co.MIN),void 0===a&&(a=Wr()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}var Wu=(Ku.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Wi.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new qs(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}return e.unknownDocument?(t=Wi.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version),new zs(t,n)):qr("Unexpected DbRemoteDocument")},Ku.prototype.toDbRemoteDocument=function(e,t){var n=this.toDbTimestampKey(t),r=e.key.path.popLast().toArray();if(e instanceof Fs){var i=e.proto?e.proto:this.remoteSerializer.toDocument(e),o=e.hasCommittedMutations;return new Eu(null,null,i,o,n,r)}if(e instanceof qs){var a=e.key.path.toArray(),s=this.toDbTimestamp(e.version);return o=e.hasCommittedMutations,new Eu(null,new bu(a,s),null,o,n,r)}if(e instanceof zs){a=e.key.path.toArray();var u=this.toDbTimestamp(e.version);return new Eu(new wu(a,u),null,null,!0,n,r)}return qr("Unexpected MaybeDocument")},Ku.prototype.toDbTimestampKey=function(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]},Ku.prototype.fromDbTimestampKey=function(e){var t=new so(e[0],e[1]);return co.fromTimestamp(t)},Ku.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new lu(t.seconds,t.nanoseconds)},Ku.prototype.fromDbTimestamp=function(e){var t=new so(e.seconds,e.nanoseconds);return co.fromTimestamp(t)},Ku.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.baseMutations.map((function(e){return n.remoteSerializer.toMutation(e)})),i=t.mutations.map((function(e){return n.remoteSerializer.toMutation(e)}));return new mu(e,t.batchId,t.localWriteTime.toMillis(),r,i)},Ku.prototype.fromDbMutationBatch=function(e){var t=this,n=(e.baseMutations||[]).map((function(e){return t.remoteSerializer.fromMutation(e)})),r=e.mutations.map((function(e){return t.remoteSerializer.fromMutation(e)})),i=so.fromMillis(e.localWriteTimeMs);return new Mo(e.batchId,i,n,r)},Ku.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach((function(e){t.push(ro(e.path))})),t},Ku.prototype.fromDbResourcePaths=function(e){for(var t=Oo(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new Wi(ao(i)))}return t},Ku.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(e.lastLimboFreeSnapshotVersion):co.MIN,i=e.resumeToken;return t=function(e){return void 0!==e.documents}(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new ju(t,e.targetId,Lu.Listen,e.lastListenSequenceNumber,n,r,i)},Ku.prototype.toDbTarget=function(e){Br(Lu.Listen===e.purpose,"Only queries with purpose "+Lu.Listen+" may be stored, got "+e.purpose);var t,n,r=this.toDbTimestamp(e.snapshotVersion),i=this.toDbTimestamp(e.lastLimboFreeSnapshotVersion);return t=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),n=e.resumeToken instanceof Uint8Array?(Br("YES"===Object({NODE_ENV:"production",PUBLIC_URL:"/todo-react-hooks"}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),e.resumeToken.toString()):e.resumeToken,new ku(e.targetId,e.query.canonicalId(),r,n,e.sequenceNumber,i,t)},Ku);function Ku(e){this.remoteSerializer=e}function Qu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=wi(n,i);return 0===a?wi(r,o):a}var Gu=(Hu.prototype.nextIndex=function(){return++this.previousIndex},Hu.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Qu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(Hu.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),Hu);function Hu(e){this.maxElements=e,this.buffer=new wo(Qu),this.previousIndex=0}var Yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xu=($u.withCacheSize=function(e){return new $u(e,$u.DEFAULT_COLLECTION_PERCENTILE,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},$u.COLLECTION_DISABLED=-1,$u.MINIMUM_CACHE_SIZE_BYTES=1048576,$u.DEFAULT=new $u($u.DEFAULT_CACHE_SIZE_BYTES=41943040,$u.DEFAULT_COLLECTION_PERCENTILE=10,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),$u.DISABLED=new $u($u.COLLECTION_DISABLED,0,0),$u);function $u(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}var Ju=(Zu.prototype.start=function(){Br(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Xu.COLLECTION_DISABLED&&this.scheduleGC()},Zu.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(Zu.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),Zu.prototype.scheduleGC=function(){var e=this;Br(null===this.gcTask,"Cannot schedule GC while a task is pending");var t=this.hasRun?3e5:6e4;Fr("LruGarbageCollector","Garbage collection scheduled in "+t+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Qi.LruGarbageCollection,t,(function(){return e.gcTask=null,e.hasRun=!0,e.localStore.collectGarbage(e.garbageCollector).then((function(){return e.scheduleGC()})).catch(lc)}))},Zu);function Zu(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.hasRun=!1,this.gcTask=null}var ec=(tc.prototype.calculateTargetCount=function(e,t){return this.delegate.getSequenceNumberCount(e).next((function(e){return Math.floor(t/100*e)}))},tc.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Vo.resolve(Oi.INVALID);var r=new Gu(t);return this.delegate.forEachTarget(e,(function(e){return r.addElement(e.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,(function(e){return r.addElement(e)}))})).next((function(){return r.maxValue}))},tc.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},tc.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},tc.prototype.collect=function(e,t){var n=this;return this.params.cacheSizeCollectionThreshold===Xu.COLLECTION_DISABLED?(Fr("LruGarbageCollector","Garbage collection skipped; disabled"),Vo.resolve(Yu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Fr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Yu):n.runGarbageCollection(e,t)}))},tc.prototype.getCacheSize=function(e){return this.delegate.getCacheSize(e)},tc.prototype.runGarbageCollection=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(Fr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Mr()<=kr.DEBUG&&Fr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Vo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},tc);function tc(e,t){this.delegate=e,this.params=t}var nc,rc="IndexedDbPersistence",ic="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",oc="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",ac=(r(sc,nc=function(){}),sc);function sc(e,t){var n=nc.call(this)||this;return n.simpleDbTransaction=e,n.currentSequenceNumber=t,n}var uc=(cc.getStore=function(e,t){if(e instanceof ac)return ea.getStore(e.simpleDbTransaction,t);throw qr("IndexedDbPersistence must use instances of IndexedDbTransaction")},cc.createIndexedDbPersistence=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:if(!cc.isAvailable())throw new Gr(Qr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(t=new cc(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return n.sent(),[2,t]}}))}))},cc.prototype.start=function(){var e=this;return Br(!this.started,"IndexedDbPersistence double-started!"),Br(null!==this.window,"Expected 'window' to be defined"),ea.openOrCreate(this.dbName,su,new uu(this.serializer)).then((function(t){return e.simpleDb=t,e.updateClientMetadataAndTryBecomePrimary()})).then((function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.scheduleClientMetadataAndPrimaryLeaseRefreshes(),e.startRemoteDocumentCache()})).then((function(){return e.simpleDb.runTransaction("readonly",[_u.store],(function(t){return ma(t).next((function(t){e.listenSequence=new Oi(t,e.sequenceNumberSyncer)}))}))})).then((function(){e._started=!0})).catch((function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)}))},cc.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",Uu,(function(t){return e.remoteDocumentCache.start(t)}))},cc.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return s(t,void 0,void 0,(function(){return u(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},cc.prototype.setDatabaseDeletedListener=function(e){var t=this;this.simpleDb.setVersionChangeListener((function(n){return s(t,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return null!==n.newVersion?[3,2]:[4,e()];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},cc.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget((function(){return s(t,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},cc.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",Uu,(function(t){return fc(t).put(new Ru(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next((function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget((function(){return e.primaryStateListener(!1)})))}))})).next((function(){return e.canActAsPrimary(t)})).next((function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget((function(){return e.primaryStateListener(e.isPrimary)})),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0}))}))},cc.prototype.verifyPrimaryLease=function(e){var t=this;return hc(e).get(hu.key).next((function(e){return Vo.resolve(t.isLocalClient(e))}))},cc.prototype.removeClientMetadata=function(e){return fc(e).delete(this.clientId)},cc.prototype.maybeGarbageCollectMultiClientState=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return u(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),t=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(r){var i=cc.getStore(r,Ru.store);return i.loadAll().next((function(r){return e=n.filterActiveClients(r,18e5),t=r.filter((function(t){return-1===e.indexOf(t)})),Vo.forEach(t,(function(e){return i.delete(e.clientId)}))}))}))]);case 1:r.sent(),t.forEach((function(e){n.window.localStorage.removeItem(n.zombiedClientLocalStorageKey(e.clientId))})),r.label=2;case 2:return[2]}}))}))},cc.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Qi.ClientMetadataRefresh,4e3,(function(){return e.updateClientMetadataAndTryBecomePrimary().then((function(){return e.maybeGarbageCollectMultiClientState()})).then((function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},cc.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},cc.prototype.canActAsPrimary=function(e){var t=this;return hc(e).get(hu.key).next((function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Gr(Qr.FAILED_PRECONDITION,oc);return!1}}return!(!t.networkEnabled||!t.inForeground)||fc(e).loadAll().next((function(e){return void 0===t.filterActiveClients(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Fr(rc,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},cc.prototype.shutdown=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){switch(t.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[hu.store,Ru.store],(function(t){return e.releasePrimaryLeaseIfHeld(t).next((function(){return e.removeClientMetadata(t)}))}))];case 1:return t.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},cc.prototype.filterActiveClients=function(e,t){var n=this;return e.filter((function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)}))},cc.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[Ru.store],(function(t){return fc(t).loadAll().next((function(t){return e.filterActiveClients(t,18e5).map((function(e){return e.clientId}))}))}))},cc.clearPersistence=function(e){return s(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return cc.isAvailable()?(t=e+cc.MAIN_DATABASE,[4,ea.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(cc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),cc.prototype.getMutationQueue=function(e){return Br(this.started,"Cannot initialize MutationQueue before persistence is started."),zo.forUser(e,this.serializer,this.indexManager,this.referenceDelegate)},cc.prototype.getQueryCache=function(){return Br(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},cc.prototype.getRemoteDocumentCache=function(){return Br(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},cc.prototype.getIndexManager=function(){return Br(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},cc.prototype.runTransaction=function(e,t,n){var r=this;return Fr(rc,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",Uu,(function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next((function(t){if(!t)throw Ur("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new Gr(Qr.FAILED_PRECONDITION,ic);return n(new ac(i,r.listenSequence.next()))})).next((function(e){return r.acquireOrExtendPrimaryLease(i).next((function(){return e}))})):r.verifyAllowTabSynchronization(i).next((function(){return n(new ac(i,r.listenSequence.next()))}))}))},cc.prototype.verifyAllowTabSynchronization=function(e){var t=this;return hc(e).get(hu.key).next((function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new Gr(Qr.FAILED_PRECONDITION,oc)}))},cc.prototype.acquireOrExtendPrimaryLease=function(e){var t=new hu(this.clientId,this.allowTabSynchronization,Date.now());return hc(e).put(hu.key,t)},cc.isAvailable=function(){return ea.isAvailable()},cc.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},cc.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=hc(e);return n.get(hu.key).next((function(e){return t.isLocalClient(e)?(Fr(rc,"Releasing primary lease."),n.delete(hu.key)):Vo.resolve()}))},cc.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Ur("Detected an update time that is in the future: "+e+" > "+n),1))},cc.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},cc.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(Br(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},cc.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},cc.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(Br("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},cc.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return Fr(rc,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Ur(rc,"Failed to get zombied client id.",e),!1}},cc.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(r){Ur("Failed to set zombie client id.",r)}},cc.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(r){}},cc.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},cc.MAIN_DATABASE="main",cc);function cc(e,t,n,r,i,o,a,s){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.queue=o,this.sequenceNumberSyncer=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},this.referenceDelegate=new dc(this,i),this.dbName=t+cc.MAIN_DATABASE,this.serializer=new Wu(a),this.document=r.document,this.queryCache=new ha(this.referenceDelegate,this.serializer),this.indexManager=new Vu,this.remoteDocumentCache=new Xs(this.serializer,this.indexManager),!r.window||!r.window.localStorage)throw new Gr(Qr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}function lc(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){if(!function(e){return e.code===Qr.FAILED_PRECONDITION&&e.message===ic}(e))throw e;return Fr(rc,"Unexpectedly lost primary lease"),[2]}))}))}function hc(e){return e.store(hu.store)}function fc(e){return e.store(Ru.store)}var dc=(pc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocmentCount(e);return this.db.getQueryCache().getQueryCount(e).next((function(e){return t.next((function(t){return e+t}))}))},pc.prototype.orphanedDocmentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},pc.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},pc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,(function(e,n){return t(n)}))},pc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},pc.prototype.addReference=function(e,t){return mc(e,t)},pc.prototype.removeReference=function(e,t){return mc(e,t)},pc.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},pc.prototype.removeMutationReference=function(e,t){return mc(e,t)},pc.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Vo.resolve(!0):function(e,t){var n=!1;return Xo(e).iterateSerial((function(r){return Ko(e,r,t).next((function(e){return e&&(n=!0),Vo.resolve(!e)}))})).next((function(){return n}))}(e,t)},pc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(e,(function(a,s){if(s<=t){var u=n.isPinned(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),ya(e).delete(function(e){return[0,ro(e.path)]}(a))}))}));i.push(u)}})).next((function(){return Vo.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},pc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(e,n)},pc.prototype.updateLimboDocument=function(e,t){return mc(e,t)},pc.prototype.forEachOrphanedDocument=function(e,t){var n,r=ya(e),i=Oi.INVALID;return r.iterate({index:Nu.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==Oi.INVALID&&t(new Wi(ao(n)),i),i=s,n=a):i=Oi.INVALID})).next((function(){i!==Oi.INVALID&&t(new Wi(ao(n)),i)}))},pc.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},pc);function pc(e,t){this.db=e,this.inMemoryPins=null,this.garbageCollector=new ec(this,t)}function mc(e,t){return ya(e).put(function(e,t){return new Nu(0,ro(e.path),t)}(t,e.currentSequenceNumber))}var yc=(vc.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.getDocumentInternal(e,t,r)}))},vc.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].applyToLocalView(t,e);return e}))},vc.prototype.applyLocalMutationsToDocuments=function(e,t,n){var r=Co();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].applyToLocalView(e,t);r=r.insert(e,t)})),r},vc.prototype.getDocuments=function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t)}))},vc.prototype.getLocalViewOfDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(r){var i=n.applyLocalMutationsToDocuments(e,t,r),o=ko();return i.forEach((function(e,t){t=t||new qs(e,co.forDeletedDoc()),o=o.insert(e,t)})),o}))},vc.prototype.getDocumentsMatchingQuery=function(e,t,n){return t.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(e,t.path):t.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)},vc.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new Wi(t)).next((function(e){var t=Ao();return e instanceof Fs&&(t=t.insert(e.key,e)),t}))},vc.prototype.getDocumentsMatchingCollectionGroupQuery=function(e,t,n){var r=this;Br(t.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=t.collectionGroup,o=Ao();return this.indexManager.getCollectionParents(e,i).next((function(a){return Vo.forEach(a,(function(a){var s=t.asCollectionQueryAtPath(a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},vc.prototype.getDocumentsMatchingCollectionQuery=function(e,t,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.addMissingBaseDocuments(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);r=h instanceof Fs?r.insert(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){t.matches(n)||(r=r.remove(e))})),r}))},vc.prototype.addMissingBaseDocuments=function(e,t,n){for(var r=Oo(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Oa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.remoteDocumentCache.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Fs&&(c=c.insert(e,t))})),c}))},vc);function vc(e,t,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.indexManager=n}var gc=(bc.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},bc.prototype.addReference=function(e,t){var n=new wc(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},bc.prototype.addReferences=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},bc.prototype.removeReference=function(e,t){this.removeRef(new wc(e,t))},bc.prototype.removeReferences=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},bc.prototype.removeReferencesForId=function(e){var t=this,n=Wi.EMPTY,r=new wc(n,e),i=new wc(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(e){t.removeRef(e),o.push(e.key)})),o},bc.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach((function(t){return e.removeRef(t)}))},bc.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},bc.prototype.referencesForId=function(e){var t=Wi.EMPTY,n=new wc(t,e),r=new wc(t,e+1),i=Oo();return this.refsByTarget.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},bc.prototype.containsKey=function(e){var t=new wc(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},bc);function bc(){this.refsByKey=new wo(wc.compareByKey),this.refsByTarget=new wo(wc.compareByTargetId)}var wc=(Ec.compareByKey=function(e,t){return Wi.comparator(e.key,t.key)||wi(e.targetOrBatchId,t.targetOrBatchId)},Ec.compareByTargetId=function(e,t){return wi(e.targetOrBatchId,t.targetOrBatchId)||Wi.comparator(e.key,t.key)},Ec);function Ec(e,t){this.key=e,this.targetOrBatchId=t}var Tc="LocalStore",Sc=(Ic.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",(function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next((function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new yc(t.remoteDocuments,t.mutationQueue,t.persistence.getIndexManager()),t.queryEngine.setLocalDocumentsView(t.localDocuments),t.mutationQueue.getAllMutationBatches(n)})).next((function(e){for(var i=[],o=[],a=Oo(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){c=p[d],o.push(c.batchId);for(var m=0,y=c.mutations;m<y.length;m++)f=y[m],a=a.add(f.key)}return t.localDocuments.getDocuments(n,a).next((function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}}))}))}))},Ic.prototype.localWrite=function(e){var t=this,n=so.now(),r=e.reduce((function(e,t){return e.add(t.key)}),Oo());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(i){return t.localDocuments.getDocuments(i,r).next((function(r){for(var o=[],a=0,s=e;a<s.length;a++){var u=s[a],c=u.extractBaseValue(r.get(u.key));null!=c&&o.push(new Oa(u.key,c,c.fieldMask(),Ia.exists(!0)))}return t.mutationQueue.addMutationBatch(i,n,o,e).next((function(e){var t=e.applyToLocalDocumentSet(r);return{batchId:e.batchId,changes:t}}))}))}))},Ic.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return t.mutationQueue.lookupMutationKeys(n,e).next((function(e){return e?t.localDocuments.getDocuments(n,e):Vo.resolve(null)}))}))},Ic.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer({trackRemovals:!0});return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next((function(){return t.applyWriteToRemoteDocuments(n,e,i)})).next((function(){return i.apply(n)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ic.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next((function(e){return Br(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)})).next((function(){return t.mutationQueue.performConsistencyCheck(n)})).next((function(){return t.localDocuments.getDocuments(n,r)}))}))},Ic.prototype.getHighestUnacknowledgedBatchId=function(){var e=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.mutationQueue.getHighestUnacknowledgedBatchId(t)}))},Ic.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(t){return e.mutationQueue.getLastStreamToken(t)}))},Ic.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return t.mutationQueue.setLastStreamToken(n,e)}))},Ic.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)}))},Ic.prototype.applyRemoteEvent=function(e){var t=this,n=this.remoteDocuments.newChangeBuffer({trackRemovals:!0}),r=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(i){var o=[];Jr(e.targetChanges,(function(e,n){var a=t.queryDataByTarget[e];if(a){o.push(t.queryCache.removeMatchingKeys(i,n.removedDocuments,e).next((function(){return t.queryCache.addMatchingKeys(i,n.addedDocuments,e)})));var s=n.resumeToken;if(0<s.length){var u=a.withResumeToken(s,r).withSequenceNumber(i.currentSequenceNumber);t.queryDataByTarget[e]=u,Ic.shouldPersistQueryData(a,u,n)&&o.push(t.queryCache.updateQueryData(i,u))}}}));var a=ko(),s=Oo();if(e.documentUpdates.forEach((function(e,t){s=s.add(e)})),o.push(n.getEntries(i,s).next((function(s){e.documentUpdates.forEach((function(u,c){var l=s.get(u);c instanceof qs&&c.version.isEqual(co.MIN)?(n.removeEntry(u,r),a=a.insert(u,c)):null==l||0<c.version.compareTo(l.version)||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(co.MIN.isEqual(r)&&Ur(Tc,"Cannot add a document when the remote version is zero"),n.addEntry(c,r),a=a.insert(u,c)):Fr(Tc,"Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(u)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(i,u))}))}))),!r.isEqual(co.MIN)){var u=t.queryCache.getLastRemoteSnapshotVersion(i).next((function(e){return Br(0<=r.compareTo(e),"Watch stream reverted to previous snapshot?? "+r+" < "+e),t.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,r)}));o.push(u)}return Vo.waitFor(o).next((function(){return n.apply(i)})).next((function(){return t.localDocuments.getLocalViewOfDocuments(i,a)}))}))},Ic.shouldPersistQueryData=function(e,t,n){return Br(0<t.resumeToken.length,"Attempted to persist query data with no resume token"),0===e.resumeToken.length||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||0<n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size},Ic.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Vo.forEach(e,(function(e){var r=e.targetId;if(t.localViewReferences.addReferences(e.addedKeys,r),t.localViewReferences.removeReferences(e.removedKeys,r),!e.fromCache){var i=t.queryDataByTarget[r];Br(void 0!==i,"Can't set limbo-free snapshot version for unknown target: "+r);var o=i.snapshotVersion,a=i.withLastLimboFreeSnapshotVersion(o);t.queryDataByTarget[r]=a}return Vo.forEach(e.removedKeys,(function(e){return t.persistence.referenceDelegate.removeReference(n,e)}))}))}))},Ic.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)}))},Ic.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",(function(n){return t.localDocuments.getDocument(n,e)}))},Ic.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",(function(n){var r;return t.queryCache.getQueryData(n,e).next((function(i){return i?(r=i,Vo.resolve()):t.queryCache.allocateTargetId(n).next((function(i){return r=new ju(e,i,Lu.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)}))})).next((function(){return Br(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,t.targetIdByQuery.set(e,r.targetId),r}))}))},Ic.prototype.getQueryData=function(e,t){var n=this.targetIdByQuery.get(t);return void 0!==n?Vo.resolve(this.queryDataByTarget[n]):this.queryCache.getQueryData(e,t)},Ic.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,(function(r){var i=n.targetIdByQuery.get(e);Br(void 0!==i,"Tried to release nonexistent query: "+e);var o=n.queryDataByTarget[i],a=n.localViewReferences.removeReferencesForId(i);return delete n.queryDataByTarget[i],n.targetIdByQuery.delete(e),t?Vo.resolve():Vo.forEach(a,(function(e){return n.persistence.referenceDelegate.removeReference(r,e)})).next((function(){n.persistence.referenceDelegate.removeTarget(r,o)}))}))},Ic.prototype.executeQuery=function(e,t){var n=this,r=co.MIN,i=Oo();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.getQueryData(o,e).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,n.queryCache.getMatchingKeysForTargetId(o,e.targetId).next((function(e){i=e}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,e,t?r:co.MIN,t?i:Oo())})).next((function(e){return{documents:e,remoteKeys:i}}))}))},Ic.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)}))},Ic.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},Ic.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},Ic.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},Ic.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=Vo.resolve();return o.forEach((function(r){a=a.next((function(){return n.getEntry(e,r)})).next((function(e){var o=e,a=t.docVersions.get(r);Br(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o,t.commitVersion):Br(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))}))})),a.next((function(){return r.mutationQueue.removeMutationBatch(e,i)}))},Ic.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.queryDataByTarget)}))},Ic.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",(function(n){return t.queryCache.getQueryDataForTarget(n,e).next((function(e){return e?e.query:null}))}))},Ic.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(t){return e.remoteDocuments.getNewDocumentChanges(t)}))},Ic.RESUME_TOKEN_MAX_AGE_MICROS=3e8,Ic);function Ic(e,t,n){this.persistence=e,this.queryEngine=t,this.localViewReferences=new gc,this.queryDataByTarget={},this.targetIdByQuery=new Ks((function(e){return e.canonicalId()})),Br(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(n),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new yc(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}var kc=(Cc.prototype.checkEmpty=function(e){return Vo.resolve(0===this.mutationQueue.length)},Cc.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");Br(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return Br(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Vo.resolve()},Cc.prototype.getLastStreamToken=function(e){return Vo.resolve(this.lastStreamToken)},Cc.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Vo.resolve()},Cc.prototype.addMutationBatch=function(e,t,n,r){Br(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,0<this.mutationQueue.length&&Br(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Mo(i,t,n,r);this.mutationQueue.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new wc(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}return Vo.resolve(o)},Cc.prototype.lookupMutationBatch=function(e,t){return Vo.resolve(this.findMutationBatch(t))},Cc.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return Br(null!=n,"Failed to find local mutation batch."),Vo.resolve(n.keys())},Cc.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.indexOfBatchId(n),i=r<0?0:r;return Vo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},Cc.prototype.getHighestUnacknowledgedBatchId=function(){return Vo.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},Cc.prototype.getAllMutationBatches=function(e){return Vo.resolve(this.mutationQueue.slice())},Cc.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new wc(t,0),i=new wc(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(e){Br(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);Br(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),Vo.resolve(o)},Cc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new wo(wi);return t.forEach((function(e){var t=new wc(e,0),i=new wc(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],(function(t){Br(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)}))})),Vo.resolve(this.findMutationBatches(r))},Cc.prototype.getAllMutationBatchesAffectingQuery=function(e,t){Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=t.path,r=n.length+1,i=n;Wi.isDocumentKey(i)||(i=i.child(""));var o=new wc(new Wi(i),0),a=new wo(wi);return this.batchesByDocumentKey.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)}),o),Vo.resolve(this.findMutationBatches(a))},Cc.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)})),n},Cc.prototype.removeMutationBatch=function(e,t){var n=this;Br(0===this.indexOfExistingBatchId(t.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Vo.forEach(t.mutations,(function(i){var o=new wc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(e,i.key)})).next((function(){n.batchesByDocumentKey=r}))},Cc.prototype.removeCachedMutationKeys=function(e){},Cc.prototype.containsKey=function(e,t){var n=new wc(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Vo.resolve(t.isEqual(r&&r.key))},Cc.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&Br(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Vo.resolve()},Cc.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return Br(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},Cc.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},Cc.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return Br(n.batchId===e,"If found batch must match"),n},Cc);function Cc(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=Wr(),this.batchesByDocumentKey=new wo(wc.compareByKey)}var Nc=(Ac.prototype.getTargetCount=function(e){return Vo.resolve(this.targetCount)},Ac.prototype.forEachTarget=function(e,t){return this.queries.forEach((function(e,n){return t(n)})),Vo.resolve()},Ac.prototype.getLastRemoteSnapshotVersion=function(e){return Vo.resolve(this.lastRemoteSnapshotVersion)},Ac.prototype.getHighestSequenceNumber=function(e){return Vo.resolve(this.highestSequenceNumber)},Ac.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Vo.resolve(t)},Ac.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Vo.resolve()},Ac.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},Ac.prototype.addQueryData=function(e,t){return Br(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Vo.resolve()},Ac.prototype.updateQueryData=function(e,t){return Br(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Vo.resolve()},Ac.prototype.removeQueryData=function(e,t){return Br(0<this.targetCount,"Removing a target from an empty cache"),Br(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Vo.resolve()},Ac.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach((function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Vo.waitFor(o).next((function(){return i}))},Ac.prototype.getQueryCount=function(e){return Vo.resolve(this.targetCount)},Ac.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Vo.resolve(n)},Ac.prototype.getQueryDataForTarget=function(e,t){return qr("Not yet implemented.")},Ac.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.addReference(e,t))})),Vo.waitFor(i)},Ac.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.removeReference(e,t))})),Vo.waitFor(i)},Ac.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Vo.resolve()},Ac.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Vo.resolve(n)},Ac.prototype.containsKey=function(e,t){return Vo.resolve(this.references.containsKey(t))},Ac);function Ac(e){this.persistence=e,this.queries=new Ks((function(e){return e.canonicalId()})),this.lastRemoteSnapshotVersion=co.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new gc,this.targetCount=0,this.targetIdGenerator=$o.forQueryCache()}var _c,Dc=(xc.prototype.addEntry=function(e,t,n){Br(!n.isEqual(co.MIN),"Cannot add a document with a read time of zero");var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(t);return this.docs=this.docs.insert(r,{maybeDocument:t,size:a,readTime:n}),this.newDocumentChanges=this.newDocumentChanges.add(r),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())},xc.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.newDocumentChanges=this.newDocumentChanges.add(e),this.docs=this.docs.remove(e),this.size-=t.size)},xc.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Vo.resolve(n?n.maybeDocument:null)},xc.prototype.getEntries=function(e,t){var n=this,r=Co();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.maybeDocument:null)})),Vo.resolve(r)},xc.prototype.getDocumentsMatchingQuery=function(e,t,n){Br(!t.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Ao(),i=new Wi(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof Fs&&t.matches(c)&&(r=r.insert(c.key,c))}return Vo.resolve(r)},xc.prototype.forEachDocumentKey=function(e,t){return Vo.forEach(this.docs,(function(e){return t(e)}))},xc.prototype.getNewDocumentChanges=function(e){var t=this,n=ko();return this.newDocumentChanges.forEach((function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new qs(e,co.forDeletedDoc());n=n.insert(e,i)})),this.newDocumentChanges=Oo(),Vo.resolve(n)},xc.prototype.newChangeBuffer=function(e){return new xc.RemoteDocumentChangeBuffer(this)},xc.prototype.getSize=function(e){return Vo.resolve(this.size)},xc.RemoteDocumentChangeBuffer=(r(Oc,_c=Gs),Oc.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i?n.push(t.documentCache.addEntry(e,i,t.readTime)):t.documentCache.removeEntry(r)})),Vo.waitFor(n)},Oc.prototype.getFromCache=function(e,t){return this.documentCache.getEntry(e,t)},Oc.prototype.getAllFromCache=function(e,t){return this.documentCache.getEntries(e,t)},Oc),xc);function xc(e,t){this.indexManager=e,this.sizer=t,this.docs=new ho(Wi.comparator),this.newDocumentChanges=Oo(),this.size=0}function Oc(e){var t=_c.call(this)||this;return t.documentCache=e,t}var Pc=(Rc.createLruPersistence=function(e,t,n){return new Rc(e,(function(e){return new Uc(e,new Wu(t),n)}))},Rc.createEagerPersistence=function(e){return new Rc(e,(function(e){return new Lc(e)}))},Rc.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(Rc.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),Rc.prototype.getActiveClients=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,[this.clientId]]}))}))},Rc.prototype.setPrimaryStateListener=function(e){return e(!0)},Rc.prototype.setDatabaseDeletedListener=function(){},Rc.prototype.setNetworkEnabled=function(e){},Rc.prototype.getIndexManager=function(){return this.indexManager},Rc.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new kc(this.indexManager,this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},Rc.prototype.getQueryCache=function(){return this.queryCache},Rc.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},Rc.prototype.runTransaction=function(e,t,n){var r=this;Fr("MemoryPersistence","Starting transaction:",e);var i=new Mc(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(e){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return e}))})).toPromise()},Rc.prototype.mutationQueuesContainKey=function(e,t){return Vo.or(function(e){var t=[];return Zr(e,(function(e,n){return t.push(n)})),t}(this.mutationQueues).map((function(n){return function(){return n.containsKey(e,t)}})))},Rc);function Rc(e,t){var n=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new Oi(0),this._started=!1,this._started=!0,this.referenceDelegate=t(this),this.queryCache=new Nc(this),this.indexManager=new ru,this.remoteDocumentCache=new Dc(this.indexManager,(function(e){return n.referenceDelegate.documentSize(e)}))}var Mc=function(e){this.currentSequenceNumber=e},Lc=(Object.defineProperty(Fc.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw qr("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),Fc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Fc.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Vo.resolve()},Fc.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Vo.resolve()},Fc.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Vo.resolve()},Fc.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.orphanedDocuments.add(e)}))})).next((function(){return r.removeQueryData(e,t)}))},Fc.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},Fc.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vo.forEach(this.orphanedDocuments,(function(r){return t.isReferenced(e,r).next((function(e){e||n.removeEntry(r)}))})).next((function(){return t._orphanedDocuments=null,n.apply(e)}))},Fc.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next((function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)}))},Fc.prototype.documentSize=function(e){return 0},Fc.prototype.isReferenced=function(e,t){var n=this;return Vo.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Vo.resolve(n.inMemoryPins.containsKey(t))}])},Fc);function Fc(e){this.persistence=e,this.inMemoryPins=null,this._orphanedDocuments=null}var Uc=(Vc.prototype.onTransactionStarted=function(){},Vc.prototype.onTransactionCommitted=function(e){return Vo.resolve()},Vc.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},Vc.prototype.getSequenceNumberCount=function(e){var t=this.orphanedDocumentCount(e);return this.persistence.getQueryCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},Vc.prototype.orphanedDocumentCount=function(e){var t=0;return this.forEachOrphanedDocumentSequenceNumber(e,(function(e){t++})).next((function(){return t}))},Vc.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Vo.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(e,r,i).next((function(e){return e?Vo.resolve():t(i)}))}))},Vc.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},Vc.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},Vc.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(e,(function(i){return n.isPinned(e,i,t).next((function(e){e||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(e)})).next((function(){return r}))},Vc.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Vo.resolve()},Vc.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(e,n)},Vc.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Vo.resolve()},Vc.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Vo.resolve()},Vc.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Vo.resolve()},Vc.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e,e.version);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw qr("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},Vc.prototype.isPinned=function(e,t,n){var r=this;return Vo.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Vo.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Vo.resolve(void 0!==e&&n<e)}])},Vc.prototype.getCacheSize=function(e){return this.persistence.getRemoteDocumentCache().getSize(e)},Vc);function Vc(e,t,n){this.persistence=e,this.serializer=t,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Ks((function(e){return ro(e.path)})),this.garbageCollector=new ec(this,n)}var qc=(Bc.prototype.setLocalDocumentsView=function(e){this.localDocumentsView=e},Bc.prototype.getDocumentsMatchingQuery=function(e,t,n,r){return Br(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(e,t,co.MIN)},Bc);function Bc(){}var jc=Number,zc=jc.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Wc=jc.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Kc=jc.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Qc(e){return null==e}function Gc(e){return Kc(e)&&e<=Wc&&zc<=e}var Hc=(Yc.prototype.reset=function(){this.currentBaseMs=0},Yc.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},Yc.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);0<this.currentBaseMs&&Fr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return t.lastAttemptTime=Date.now(),e()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},Yc.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},Yc.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},Yc);function Yc(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}var Xc,$c,Jc="PersistentStream";($c=Xc=Xc||{})[$c.Initial=0]="Initial",$c[$c.Starting=1]="Starting",$c[$c.Open=2]="Open",$c[$c.Error=3]="Error",$c[$c.Backoff=4]="Backoff";var Zc=(el.prototype.isStarted=function(){return this.state===Xc.Starting||this.state===Xc.Open||this.state===Xc.Backoff},el.prototype.isOpen=function(){return this.state===Xc.Open},el.prototype.start=function(){this.state!==Xc.Error?(Br(this.state===Xc.Initial,"Already started"),this.auth()):this.performBackoff()},el.prototype.stop=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Xc.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},el.prototype.inhibitBackoff=function(){Br(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Xc.Initial,this.backoff.reset()},el.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return e.handleIdleCloseTimer()})))},el.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},el.prototype.handleIdleCloseTimer=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.isOpen()?[2,this.close(Xc.Initial)]:[2]}))}))},el.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},el.prototype.close=function(e,t){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return Br(this.isStarted(),"Only started streams should be closed."),Br(e===Xc.Error||Qc(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Xc.Error?this.backoff.reset():t&&t.code===Qr.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===Qr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}}))}))},el.prototype.tearDown=function(){},el.prototype.auth=function(){var e=this;Br(this.state===Xc.Initial,"Must be in initial state to auth"),this.state=Xc.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(t){e.closeCount===n&&e.startStream(t)}),(function(n){t((function(){var t=new Gr(Qr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)}))}))},el.prototype.startStream=function(e){var t=this;Br(this.state===Xc.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen((function(){n((function(){return Br(t.state===Xc.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Xc.Open,t.listener.onOpen()}))})),this.stream.onClose((function(e){n((function(){return t.handleStreamClose(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},el.prototype.performBackoff=function(){var e=this;Br(this.state===Xc.Error,"Should only perform backoff when in Error state"),this.state=Xc.Backoff,this.backoff.backoffAndRun((function(){return s(e,void 0,void 0,(function(){return u(this,(function(e){return Br(this.state===Xc.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Xc.Initial,this.start(),Br(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},el.prototype.handleStreamClose=function(e){return Br(this.isStarted(),"Can't handle server close on non-started stream"),Fr(Jc,"close with error: "+e),this.stream=null,this.close(Xc.Error,e)},el.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget((function(){return t.closeCount===e?n():(Fr(Jc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},el);function el(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Xc.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Hc(e,t)}var tl,nl=(r(rl,tl=Zc),rl.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},rl.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},rl.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},rl.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},rl);function rl(e,t,n,r,i){var o=tl.call(this,e,Qi.ListenStreamConnectionBackoff,Qi.ListenStreamIdle,t,n,i)||this;return o.serializer=r,o}var il,ol=(r(al,il=Zc),Object.defineProperty(al.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),al.prototype.start=function(){this.handshakeComplete_=!1,il.prototype.start.call(this)},al.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},al.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},al.prototype.onMessage=function(e){if(Br(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return Br(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},al.prototype.writeHandshake=function(){Br(this.isOpen(),"Writing handshake requires an opened stream"),Br(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},al.prototype.writeMutations=function(e){var t=this;Br(this.isOpen(),"Writing mutations requires an opened stream"),Br(this.handshakeComplete_,"Handshake must be complete before writing mutations"),Br(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map((function(e){return t.serializer.toMutation(e)}))};this.sendRequest(n)},al);function al(e,t,n,r,i){var o=il.call(this,e,Qi.WriteStreamConnectionBackoff,Qi.WriteStreamIdle,t,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o.lastStreamToken=Wr(),o}var sl=(ul.prototype.newPersistentWriteStream=function(e){return new ol(this.queue,this.connection,this.credentials,this.serializer,e)},ul.prototype.newPersistentWatchStream=function(e){return new nl(this.queue,this.connection,this.credentials,this.serializer,e)},ul.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map((function(e){return t.serializer.toMutation(e)}))};return this.invokeRPC("Commit",n).then((function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)}))},ul.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map((function(e){return t.serializer.toName(e)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=ko();n.forEach((function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)}));var i=[];return e.forEach((function(e){var t=r.get(e);Br(!!t,"Missing entity in write response for "+e),i.push(t)})),i}))},ul.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(e,t,r)})).catch((function(e){throw e.code===Qr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},ul.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(e,t,r)})).catch((function(e){throw e.code===Qr.UNAUTHENTICATED&&n.credentials.invalidateToken(),e}))},ul);function ul(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}var cl,ll,hl,fl,dl=(pl.prototype.lookup=function(e){return s(this,void 0,void 0,(function(){var t,n=this;return u(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Gr(Qr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(e)];case 1:return(t=r.sent()).forEach((function(e){e instanceof qs||e instanceof Fs?n.recordVersion(e):qr("Document in a transaction was a "+e.constructor.name)})),[2,t]}}))}))},pl.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e))),this.writtenDocs.add(e)},pl.prototype.update=function(e,t){try{this.write(t.toMutations(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e)},pl.prototype.delete=function(e){this.write([new ja(e,this.precondition(e))]),this.writtenDocs.add(e)},pl.prototype.commit=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(e=this.readVersions,this.mutations.forEach((function(t){e=e.remove(t.key)})),!e.isEmpty())throw new Gr(Qr.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}}))}))},pl.prototype.recordVersion=function(e){var t;if(e instanceof Fs)t=e.version;else{if(!(e instanceof qs))throw qr("Document in a transaction was a "+e.constructor.name);t=co.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new Gr(Qr.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},pl.prototype.precondition=function(e){var t=this.readVersions.get(e);return!this.writtenDocs.has(e)&&t?Ia.updateTime(t):Ia.NONE},pl.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(this.writtenDocs.has(e)||!t)return Ia.exists(!0);if(t.isEqual(co.forDeletedDoc()))throw new Gr(Qr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ia.updateTime(t)},pl.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(e)},pl.prototype.ensureCommitNotCalled=function(){Br(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},pl);function pl(e){this.datastore=e,this.readVersions=Do(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}(ll=cl=cl||{})[ll.Unknown=0]="Unknown",ll[ll.Online=1]="Online",ll[ll.Offline=2]="Offline",(fl=hl=hl||{})[fl.RemoteStore=0]="RemoteStore",fl[fl.SharedClientState=1]="SharedClientState";var ml,yl,vl=(gl.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(cl.Unknown),Br(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Qi.OnlineStateTimeout,1e4,(function(){return e.onlineStateTimer=null,Br(e.state===cl.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(cl.Offline),Promise.resolve()})))},gl.prototype.handleWatchStreamFailure=function(e){this.state===cl.Online?(this.setAndBroadcast(cl.Unknown),Br(0===this.watchStreamFailures,"watchStreamFailures must be 0"),Br(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,1<=this.watchStreamFailures&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(cl.Offline)))},gl.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===cl.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},gl.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},gl.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(Ur(t),this.shouldWarnClientIsOffline=!1):Fr("OnlineStateTracker",t)},gl.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},gl);function gl(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=cl.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}function bl(e){switch(e){case Qr.OK:return qr("Treated status OK as error");case Qr.CANCELLED:case Qr.UNKNOWN:case Qr.DEADLINE_EXCEEDED:case Qr.RESOURCE_EXHAUSTED:case Qr.INTERNAL:case Qr.UNAVAILABLE:case Qr.UNAUTHENTICATED:return!1;case Qr.INVALID_ARGUMENT:case Qr.NOT_FOUND:case Qr.ALREADY_EXISTS:case Qr.PERMISSION_DENIED:case Qr.FAILED_PRECONDITION:case Qr.ABORTED:case Qr.OUT_OF_RANGE:case Qr.UNIMPLEMENTED:case Qr.DATA_LOSS:return!0;default:return qr("Unknown status code: "+e)}}function wl(e){if(void 0===e)return Ur("GRPC error has no .code"),Qr.UNKNOWN;switch(e){case ml.OK:return Qr.OK;case ml.CANCELLED:return Qr.CANCELLED;case ml.UNKNOWN:return Qr.UNKNOWN;case ml.DEADLINE_EXCEEDED:return Qr.DEADLINE_EXCEEDED;case ml.RESOURCE_EXHAUSTED:return Qr.RESOURCE_EXHAUSTED;case ml.INTERNAL:return Qr.INTERNAL;case ml.UNAVAILABLE:return Qr.UNAVAILABLE;case ml.UNAUTHENTICATED:return Qr.UNAUTHENTICATED;case ml.INVALID_ARGUMENT:return Qr.INVALID_ARGUMENT;case ml.NOT_FOUND:return Qr.NOT_FOUND;case ml.ALREADY_EXISTS:return Qr.ALREADY_EXISTS;case ml.PERMISSION_DENIED:return Qr.PERMISSION_DENIED;case ml.FAILED_PRECONDITION:return Qr.FAILED_PRECONDITION;case ml.ABORTED:return Qr.ABORTED;case ml.OUT_OF_RANGE:return Qr.OUT_OF_RANGE;case ml.UNIMPLEMENTED:return Qr.UNIMPLEMENTED;case ml.DATA_LOSS:return Qr.DATA_LOSS;default:return qr("Unknown status code: "+e)}}(yl=ml=ml||{})[yl.OK=0]="OK",yl[yl.CANCELLED=1]="CANCELLED",yl[yl.UNKNOWN=2]="UNKNOWN",yl[yl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yl[yl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yl[yl.NOT_FOUND=5]="NOT_FOUND",yl[yl.ALREADY_EXISTS=6]="ALREADY_EXISTS",yl[yl.PERMISSION_DENIED=7]="PERMISSION_DENIED",yl[yl.UNAUTHENTICATED=16]="UNAUTHENTICATED",yl[yl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yl[yl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yl[yl.ABORTED=10]="ABORTED",yl[yl.OUT_OF_RANGE=11]="OUT_OF_RANGE",yl[yl.UNIMPLEMENTED=12]="UNIMPLEMENTED",yl[yl.INTERNAL=13]="INTERNAL",yl[yl.UNAVAILABLE=14]="UNAVAILABLE",yl[yl.DATA_LOSS=15]="DATA_LOSS";var El,Tl,Sl,Il,kl=(Cl.emptySet=function(e){return new Cl(e.comparator)},Cl.prototype.has=function(e){return null!=this.keyedMap.get(e)},Cl.prototype.get=function(e){return this.keyedMap.get(e)},Cl.prototype.first=function(){return this.sortedSet.minKey()},Cl.prototype.last=function(){return this.sortedSet.maxKey()},Cl.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Cl.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(Cl.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),Cl.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},Cl.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},Cl.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},Cl.prototype.isEqual=function(e){if(!(e instanceof Cl))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Cl.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Cl.prototype.copy=function(e,t){var n=new Cl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},Cl);function Cl(e){this.comparator=e?function(t,n){return e(t,n)||Wi.comparator(t.key,n.key)}:function(e,t){return Wi.comparator(e.key,t.key)},this.keyedMap=Ao(),this.sortedSet=new ho(this.comparator)}(Tl=El=El||{})[Tl.Added=0]="Added",Tl[Tl.Removed=1]="Removed",Tl[Tl.Modified=2]="Modified",Tl[Tl.Metadata=3]="Metadata",(Il=Sl=Sl||{})[Il.Local=0]="Local",Il[Il.Synced=1]="Synced";var Nl=(Al.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==El.Added&&n.type===El.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===El.Metadata&&n.type!==El.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===El.Modified&&n.type===El.Modified?this.changeMap=this.changeMap.insert(t,{type:El.Modified,doc:e.doc}):e.type===El.Modified&&n.type===El.Added?this.changeMap=this.changeMap.insert(t,{type:El.Added,doc:e.doc}):e.type===El.Removed&&n.type===El.Added?this.changeMap=this.changeMap.remove(t):e.type===El.Removed&&n.type===El.Modified?this.changeMap=this.changeMap.insert(t,{type:El.Removed,doc:n.doc}):e.type===El.Added&&n.type===El.Removed?this.changeMap=this.changeMap.insert(t,{type:El.Modified,doc:e.doc}):qr("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},Al.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal((function(t,n){e.push(n)})),e},Al);function Al(){this.changeMap=new ho(Wi.comparator)}var _l=(Dl.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:El.Added,doc:e})})),new Dl(e,t,kl.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(Dl.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),Dl.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},Dl);function Dl(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}var xl=(Ol.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n,r=((n={})[e]=Pl.createSynthesizedTargetChangeForCurrentChange(e,t),n);return new Ol(co.MIN,r,Ro(),ko(),Oo())},Ol);function Ol(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}var Pl=(Rl.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new Rl(Wr(),t,Oo(),Oo(),Oo())},Rl);function Rl(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}var Ml,Ll,Fl=function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r},Ul=function(e,t){this.targetId=e,this.existenceFilter=t};(Ll=Ml=Ml||{})[Ll.NoChange=0]="NoChange",Ll[Ll.Added=1]="Added",Ll[Ll.Removed=2]="Removed",Ll[Ll.Current=3]="Current",Ll[Ll.Reset=4]="Reset";var Vl=function(e,t,n,r){void 0===n&&(n=Wr()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ql=(Object.defineProperty(Bl.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(Bl.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),Bl.prototype.updateResumeToken=function(e){0<e.length&&(this._hasPendingChanges=!0,this._resumeToken=e)},Bl.prototype.toTargetChange=function(){var e=Oo(),t=Oo(),n=Oo();return this.documentChanges.forEach((function(r,i){switch(i){case El.Added:e=e.add(r);break;case El.Modified:t=t.add(r);break;case El.Removed:n=n.add(r);break;default:qr("Encountered invalid change type: "+i)}})),new Pl(this._resumeToken,this._current,e,t,n)},Bl.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Kl()},Bl.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},Bl.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},Bl.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},Bl.prototype.recordTargetResponse=function(){this.pendingResponses-=1},Bl.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},Bl);function Bl(){this.pendingResponses=0,this.documentChanges=Kl(),this._resumeToken=Wr(),this._current=!1,this._hasPendingChanges=!0}var jl=(zl.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof Fs?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof qs&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.removeDocumentFromTarget(r,e.key,e.newDoc)},zl.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ensureTargetState(n);switch(e.state){case Ml.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Ml.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Ml.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),Br(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Ml.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Ml.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:qr("Unknown target watch change state: "+e.state)}}))},zl.prototype.forEachTarget=function(e,t){0<e.targetIds.length?e.targetIds.forEach(t):Jr(this.targetStates,t)},zl.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Wi(i.path);this.removeDocumentFromTarget(t,o,new qs(o,co.forDeletedDoc()))}else Br(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},zl.prototype.createRemoteEvent=function(e){var t=this,n={};Jr(this.targetStates,(function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Wi(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new qs(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Oo();this.pendingDocumentTargetMapping.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Lu.LimboResolution||(i=!1)})),i&&(r=r.add(e))}));var i=new xl(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=ko(),this.pendingDocumentTargetMapping=Wl(),this.pendingTargetResets=new wo(wi),i},zl.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?El.Modified:El.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},zl.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,El.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},zl.prototype.removeTarget=function(e){delete this.targetStates[e]},zl.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},zl.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},zl.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new ql),this.targetStates[e]},zl.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new wo(wi),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},zl.prototype.isActiveTarget=function(e){var t=null!==this.queryDataForActiveTarget(e);return t||Fr("WatchChangeAggregator","Detected inactive target",e),t},zl.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},zl.prototype.resetTarget=function(e){var t=this;Br(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new ql,this.metadataProvider.getRemoteKeysForTarget(e).forEach((function(n){t.removeDocumentFromTarget(e,n,null)}))},zl.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},zl);function zl(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=ko(),this.pendingDocumentTargetMapping=Wl(),this.pendingTargetResets=new wo(wi)}function Wl(){return new ho(Wi.comparator)}function Kl(){return new ho(Wi.comparator)}var Ql="RemoteStore",Gl=(Hl.prototype.start=function(){return this.enableNetwork()},Hl.prototype.enableNetwork=function(){return s(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(cl.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},Hl.prototype.disableNetwork=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(cl.Offline),[2]}}))}))},Hl.prototype.disableNetworkInternal=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),0<this.writePipeline.length&&(Fr(Ql,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},Hl.prototype.shutdown=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return Fr(Ql,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(cl.Unknown),[2]}}))}))},Hl.prototype.listen=function(e){Br(!Xr(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},Hl.prototype.unlisten=function(e){Br(Xr(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),ei(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(cl.Unknown))},Hl.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},Hl.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},Hl.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},Hl.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},Hl.prototype.startWatchStream=function(){Br(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new jl(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},Hl.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!ei(this.listenTargets)},Hl.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},Hl.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},Hl.prototype.onWatchStreamOpen=function(){return s(this,void 0,void 0,(function(){var e=this;return u(this,(function(t){return Jr(this.listenTargets,(function(t,n){e.sendWatchRequest(n)})),[2]}))}))},Hl.prototype.onWatchStreamClose=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return void 0===e&&Br(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(cl.Unknown),[2]}))}))},Hl.prototype.onWatchStreamChange=function(e,t){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(cl.Online),e instanceof Vl&&e.state===Ml.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Fl?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Ul?this.watchChangeAggregator.handleExistenceFilter(e):(Br(e instanceof Vl,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual(co.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),0<=t.compareTo(n)?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},Hl.prototype.raiseWatchSnapshot=function(e){var t=this;Br(!e.isEqual(co.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return Jr(n.targetChanges,(function(n,r){if(0<r.resumeToken.length){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.withResumeToken(r.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.withResumeToken(Wr(),n.snapshotVersion),t.sendUnwatchRequest(e);var r=new ju(n.query,e,Lu.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},Hl.prototype.handleTargetError=function(e){var t=this;Br(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach((function(e){r=r.then((function(){return s(t,void 0,void 0,(function(){return u(this,(function(t){return Xr(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]}))}))}))})),r},Hl.prototype.fillWritePipeline=function(){return s(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=0<this.writePipeline.length?this.writePipeline[this.writePipeline.length-1].batchId:-1,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},Hl.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},Hl.prototype.outstandingWrites=function(){return this.writePipeline.length},Hl.prototype.addToWritePipeline=function(e){Br(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},Hl.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&0<this.writePipeline.length},Hl.prototype.startWriteStream=function(){Br(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},Hl.prototype.onWriteStreamOpen=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.writeStream.writeHandshake(),[2]}))}))},Hl.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}})).catch(lc)},Hl.prototype.onMutationResult=function(e,t){var n=this;Br(0<this.writePipeline.length,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Fo.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},Hl.prototype.onWriteStreamClose=function(e){return s(this,void 0,void 0,(function(){var t=this;return u(this,(function(n){return void 0===e&&Br(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&0<this.writePipeline.length?[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then((function(){t.shouldStartWriteStream()&&t.startWriteStream()}))]:[2]}))}))},Hl.prototype.handleHandshakeError=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return bl(e.code)?(Fr(Ql,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=Wr(),[2,this.localStore.setLastStreamToken(Wr()).catch(lc)]):[2]}))}))},Hl.prototype.handleWriteError=function(e){return s(this,void 0,void 0,(function(){var t,n=this;return u(this,(function(r){return function(e){return bl(e)&&e!==Qr.ABORTED}(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then((function(){return n.fillWritePipeline()}))]):[2]}))}))},Hl.prototype.createTransaction=function(){return new dl(this.datastore)},Hl.prototype.restartNetwork=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(cl.Unknown),[4,this.enableNetwork()];case 2:return e.sent(),[2]}}))}))},Hl.prototype.handleCredentialChange=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Fr(Ql,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},Hl.prototype.applyPrimaryState=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return(this.isPrimary=e)&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(cl.Unknown),t.label=4;case 4:return[2]}}))}))},Hl);function Hl(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(e){n.enqueueAndForget((function(){return s(o,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.canUseNetwork()?(Fr(Ql,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new vl(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}var Yl=(Object.defineProperty(Xl.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(Xl.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),Xl.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},Xl.prototype._compareTo=function(e){return wi(this._lat,e._lat)||wi(this._long,e._long)},Xl);function Xl(e,t){if(ni("GeoPoint",arguments,2),oi("GeoPoint","number",1,e),oi("GeoPoint","number",2,t),!isFinite(e)||e<-90||90<e)throw new Gr(Qr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new Gr(Qr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}var $l=(Jl.atPath=function(e){return new Jl(e)},Object.defineProperty(Jl.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[kh]:this.memoizedOrderBy=[new Sh(e),kh];else{Br(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field.");for(var n=!(this.memoizedOrderBy=[]),r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:bh.ASCENDING;this.memoizedOrderBy.push(a===bh.ASCENDING?kh:Ch)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),Jl.prototype.addFilter=function(e){Br(null==this.getInequalityFilterField()||!(e instanceof nh)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),Br(!this.isDocumentQuery(),"No filtering allowed for document query");var t=this.filters.concat([e]);return new Jl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),t,this.limit,this.startAt,this.endAt)},Jl.prototype.addOrderBy=function(e){Br(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var t=this.explicitOrderBy.concat([e]);return new Jl(this.path,this.collectionGroup,t,this.filters.slice(),this.limit,this.startAt,this.endAt)},Jl.prototype.withLimit=function(e){return new Jl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},Jl.prototype.withStartAt=function(e){return new Jl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},Jl.prototype.withEndAt=function(e){return new Jl(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},Jl.prototype.asCollectionQueryAtPath=function(e){return new Jl(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},Jl.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},Jl.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();this.isCollectionGroupQuery()&&(e+="|cg:"+this.collectionGroup),e+="|f:";for(var t=0,n=this.filters;t<n.length;t++)e+=n[t].canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)e+=i[r].canonicalId(),e+=",";Qc(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},Jl.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(e+=" collectionGroup="+this.collectionGroup),0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),Qc(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},Jl.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return this.collectionGroup===e.collectionGroup&&!!this.path.isEqual(e.path)&&!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt)},Jl.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return Br(n,"orderBy used that doesn't compare on key field"),0},Jl.prototype.matches=function(e){return this.matchesPathAndCollectionGroup(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},Jl.prototype.hasLimit=function(){return!Qc(this.limit)},Jl.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},Jl.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof nh&&n.isInequality())return n.field}return null},Jl.prototype.findFilterOperator=function(e){for(var t=0,n=this.filters;t<n.length;t++){var r=n[t];if(r instanceof nh&&0<=e.indexOf(r.op))return r.op}return null},Jl.prototype.isDocumentQuery=function(){return Wi.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},Jl.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},Jl.prototype.matchesPathAndCollectionGroup=function(e){var t=e.key.path;return null!==this.collectionGroup?e.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(t):Wi.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isImmediateParentOf(t)},Jl.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0},Jl.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++)if(!n[t].matches(e))return!1;return!0},Jl.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e))},Jl.prototype.assertValidBound=function(e){Br(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},Jl);function Jl(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}var Zl=(eh.fromString=function(e){switch(e){case"<":return eh.LESS_THAN;case"<=":return eh.LESS_THAN_OR_EQUAL;case"==":return eh.EQUAL;case">=":return eh.GREATER_THAN_OR_EQUAL;case">":return eh.GREATER_THAN;case"array-contains":return eh.ARRAY_CONTAINS;case"in":return eh.IN;case"array-contains-any":return eh.ARRAY_CONTAINS_ANY;default:return qr("Unknown FieldFilter operator: "+e)}},eh.prototype.toString=function(){return this.name},eh.prototype.isEqual=function(e){return this.name===e.name},eh.LESS_THAN=new eh("<"),eh.LESS_THAN_OR_EQUAL=new eh("<="),eh.EQUAL=new eh("=="),eh.GREATER_THAN=new eh(">"),eh.GREATER_THAN_OR_EQUAL=new eh(">="),eh.ARRAY_CONTAINS=new eh("array-contains"),eh.IN=new eh("in"),eh.ARRAY_CONTAINS_ANY=new eh("array-contains-any"),eh);function eh(e){this.name=e}var th,nh=(r(rh,th=function(){}),rh.create=function(e,t,n){if(e.isKeyField())return t===Zl.IN?(Br(n instanceof Os,"Comparing on key with IN, but filter value not an ArrayValue"),Br(n.internalValue.every((function(e){return e instanceof Ss})),"Comparing on key with IN, but an array value was not a RefValue"),new uh(e,n)):(Br(n instanceof Ss,"Comparing on key, but filter value not a RefValue"),Br(t!==Zl.ARRAY_CONTAINS&&t!==Zl.ARRAY_CONTAINS_ANY,"'"+t.toString()+"' queries don't make sense on document keys."),new oh(e,t,n));if(n.isEqual(Ya.INSTANCE)){if(t!==Zl.EQUAL)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new rh(e,t,n)}if(n.isEqual(us.NAN)){if(t!==Zl.EQUAL)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new rh(e,t,n)}return t===Zl.ARRAY_CONTAINS?new hh(e,n):t===Zl.IN?(Br(n instanceof Os,"IN filter has invalid value: "+n.toString()),new ph(e,n)):t===Zl.ARRAY_CONTAINS_ANY?(Br(n instanceof Os,"ARRAY_CONTAINS_ANY filter has invalid value: "+n.toString()),new vh(e,n)):new rh(e,t,n)},rh.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},rh.prototype.matchesComparison=function(e){switch(this.op){case Zl.LESS_THAN:return e<0;case Zl.LESS_THAN_OR_EQUAL:return e<=0;case Zl.EQUAL:return 0===e;case Zl.GREATER_THAN:return 0<e;case Zl.GREATER_THAN_OR_EQUAL:return 0<=e;default:return qr("Unknown FieldFilter operator: "+this.op)}},rh.prototype.isInequality=function(){return 0<=[Zl.LESS_THAN,Zl.LESS_THAN_OR_EQUAL,Zl.GREATER_THAN,Zl.GREATER_THAN_OR_EQUAL].indexOf(this.op)},rh.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},rh.prototype.isEqual=function(e){return e instanceof rh&&this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value)},rh.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},rh);function rh(e,t,n){var r=th.call(this)||this;return r.field=e,r.op=t,r.value=n,r}var ih,oh=(r(ah,ih=nh),ah.prototype.matches=function(e){var t=this.value,n=Wi.comparator(e.key,t.key);return this.matchesComparison(n)},ah);function ah(){return null!==ih&&ih.apply(this,arguments)||this}var sh,uh=(r(ch,sh=nh),ch.prototype.matches=function(e){return this.value.internalValue.some((function(t){return e.key.isEqual(t.key)}))},ch);function ch(e,t){var n=sh.call(this,e,Zl.IN,t)||this;return n.value=t,n}var lh,hh=(r(fh,lh=nh),fh.prototype.matches=function(e){var t=e.field(this.field);return t instanceof Os&&t.contains(this.value)},fh);function fh(e,t){return lh.call(this,e,Zl.ARRAY_CONTAINS,t)||this}var dh,ph=(r(mh,dh=nh),mh.prototype.matches=function(e){var t=this.value,n=e.field(this.field);return null!==n&&t.contains(n)},mh);function mh(e,t){var n=dh.call(this,e,Zl.IN,t)||this;return n.value=t,n}var yh,vh=(r(gh,yh=nh),gh.prototype.matches=function(e){var t=this,n=e.field(this.field);return n instanceof Os&&n.internalValue.some((function(e){return t.value.contains(e)}))},gh);function gh(e,t){var n=yh.call(this,e,Zl.ARRAY_CONTAINS_ANY,t)||this;return n.value=t,n}var bh=(wh.prototype.toString=function(){return this.name},wh.ASCENDING=new wh("asc"),wh.DESCENDING=new wh("desc"),wh);function wh(e){this.name=e}var Eh=(Th.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++)e+=n[t].toString();return e},Th.prototype.sortsBeforeDocument=function(e,t){Br(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())Br(o instanceof Ss,"Bound has a non-key value where the key path is being used."),n=Wi.comparator(o.key,t.key);else{var a=t.field(i.field);Br(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===bh.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},Th.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];if(!n.isEqual(r))return!1}return!0},Th);function Th(e,t){this.position=e,this.before=t}var Sh=(Ih.prototype.compare=function(e,t){var n=this.isKeyOrderBy?Fs.compareByKey(e,t):Fs.compareByField(this.field,e,t);switch(this.dir){case bh.ASCENDING:return n;case bh.DESCENDING:return-1*n;default:return qr("Unknown direction: "+this.dir)}},Ih.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},Ih.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},Ih.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},Ih);function Ih(e,t){this.field=e,void 0===t&&(t=bh.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}var kh=new Sh(ji.keyField(),bh.ASCENDING),Ch=new Sh(ji.keyField(),bh.DESCENDING),Nh=(Ah.prototype.applyToLocalView=function(e,t){return new vs(t,e)},Ah.prototype.applyToRemoteDocument=function(e,t){return t},Ah.prototype.computeBaseValue=function(e){return null},Ah.prototype.isEqual=function(e){return e instanceof Ah},Ah.instance=new Ah,Ah);function Ah(){}var _h=(Dh.prototype.applyToLocalView=function(e,t){return this.apply(e)},Dh.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Dh.prototype.apply=function(e){for(var t=Mh(e),n=function(e){t.find((function(t){return t.isEqual(e)}))||t.push(e)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Os(t)},Dh.prototype.computeBaseValue=function(e){return null},Dh.prototype.isEqual=function(e){return e instanceof Dh&&Ei(e.elements,this.elements)},Dh);function Dh(e){this.elements=e}var xh=(Oh.prototype.applyToLocalView=function(e,t){return this.apply(e)},Oh.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},Oh.prototype.apply=function(e){for(var t=Mh(e),n=function(e){t=t.filter((function(t){return!t.isEqual(e)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Os(t)},Oh.prototype.computeBaseValue=function(e){return null},Oh.prototype.isEqual=function(e){return e instanceof Oh&&Ei(e.elements,this.elements)},Oh);function Oh(e){this.elements=e}var Ph=(Rh.prototype.applyToLocalView=function(e,t){var n=this.computeBaseValue(e);if(n instanceof os&&this.operand instanceof os){var r=n.internalValue+this.operand.internalValue;return new os(r)}return r=n.internalValue+this.operand.internalValue,new us(r)},Rh.prototype.applyToRemoteDocument=function(e,t){return Br(null!==t,"Didn't receive transformResult for NUMERIC_ADD transform"),t},Rh.prototype.computeBaseValue=function(e){return e instanceof ts?e:new os(0)},Rh.prototype.isEqual=function(e){return e instanceof Rh&&this.operand.isEqual(e.operand)},Rh);function Rh(e){this.operand=e}function Mh(e){return e instanceof Os?e.internalValue.slice():[]}var Lh=(Fh.prototype.isEqual=function(e){return e&&e.count===this.count},Fh);function Fh(e){this.count=e}var Uh,Vh,qh=((Uh={})[bh.ASCENDING.name]="ASCENDING",Uh[bh.DESCENDING.name]="DESCENDING",Uh),Bh=((Vh={})[Zl.LESS_THAN.name]="LESS_THAN",Vh[Zl.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Vh[Zl.GREATER_THAN.name]="GREATER_THAN",Vh[Zl.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Vh[Zl.EQUAL.name]="EQUAL",Vh[Zl.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Vh[Zl.IN.name]="IN",Vh[Zl.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",Vh),jh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zh(e,t){Br(!Qc(e),t+" is missing")}function Wh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):qr("can't parse "+e)}var Kh=(Qh.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},Qh.prototype.unsafeCastProtoByteString=function(e){return e},Qh.prototype.fromRpcStatus=function(e){var t=void 0===e.code?Qr.UNKNOWN:wl(e.code);return new Gr(t,e.message||"")},Qh.prototype.toInt32Value=function(e){return this.options.useProto3Json||Qc(e)?e:{value:e}},Qh.prototype.fromInt32Value=function(e){var t;return Qc(t="object"==typeof e?e.value:e)?null:t},Qh.prototype.toTimestamp=function(e){return{seconds:""+e.seconds,nanos:e.nanoseconds}},Qh.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);Br(!!e,"Cannot deserialize null or undefined timestamp.");var t=Wh(e.seconds||"0"),n=e.nanos||0;return new so(t,n)},Qh.prototype.fromIso8601String=function(e){var t=0,n=jh.exec(e);if(Br(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new so(o,t)},Qh.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},Qh.prototype.fromBlob=function(e){return"string"==typeof e?(Br(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ki.fromBase64String(e)):(Br(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),ki.fromUint8Array(e))},Qh.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},Qh.prototype.fromVersion=function(e){return Br(!!e,"Trying to deserialize version that isn't set"),co.fromTimestamp(this.fromTimestamp(e))},Qh.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},Qh.prototype.fromResourceName=function(e){var t=Ui.fromString(e);return Br(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},Qh.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},Qh.prototype.fromName=function(e){var t=this.fromResourceName(e);return Br(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),Br(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new Wi(this.extractLocalPathFromResourceName(t))},Qh.prototype.toQueryPath=function(e){return this.toResourceName(this.databaseId,e)},Qh.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Ui.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(Qh.prototype,"encodedDatabaseId",{get:function(){return new Ui(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),Qh.prototype.fullyQualifiedPrefixPath=function(e){return new Ui(["projects",e.projectId,"databases",e.database])},Qh.prototype.extractLocalPathFromResourceName=function(e){return Br(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},Qh.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},Qh.prototype.toValue=function(e){if(e instanceof Ya)return{nullValue:"NULL_VALUE"};if(e instanceof Ja)return{booleanValue:e.value()};if(e instanceof os)return{integerValue:""+e.value()};if(e instanceof us){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof hs?{stringValue:e.value()}:e instanceof _s?{mapValue:this.toMapValue(e)}:e instanceof Os?{arrayValue:this.toArrayValue(e)}:e instanceof ps?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Cs?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof ws?{bytesValue:this.toBytes(e.value())}:e instanceof Ss?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:qr("Unknown FieldValue "+JSON.stringify(e))},Qh.prototype.fromValue=function(e){var t=this;if("nullValue"in e)return Ya.INSTANCE;if("booleanValue"in e)return Ja.of(e.booleanValue);if("integerValue"in e)return new os(Wh(e.integerValue));if("doubleValue"in e){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return us.NAN;if("Infinity"===e.doubleValue)return us.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return us.NEGATIVE_INFINITY}return new us(e.doubleValue)}if("stringValue"in e)return new hs(e.stringValue);if("mapValue"in e)return this.fromFields(e.mapValue.fields||{});if("arrayValue"in e){zh(e.arrayValue,"arrayValue");var n=e.arrayValue.values||[];return new Os(n.map((function(e){return t.fromValue(e)})))}if("timestampValue"in e)return zh(e.timestampValue,"timestampValue"),new ps(this.fromTimestamp(e.timestampValue));if("geoPointValue"in e){zh(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new Cs(new Yl(r,i))}if("bytesValue"in e){zh(e.bytesValue,"bytesValue");var o=this.fromBlob(e.bytesValue);return new ws(o)}if("referenceValue"in e){zh(e.referenceValue,"referenceValue");var a=this.fromResourceName(e.referenceValue),s=new Di(a.get(1),a.get(3)),u=new Wi(this.extractLocalPathFromResourceName(a));return new Ss(s,u)}return qr("Unknown Value proto "+JSON.stringify(e))},Qh.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},Qh.prototype.toDocument=function(e){return Br(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data()),updateTime:this.toTimestamp(e.version.toTimestamp())}},Qh.prototype.fromDocument=function(e,t){var n=this,r=this.fromName(e.name),i=this.fromVersion(e.updateTime);return new Fs(r,i,{hasCommittedMutations:!!t},void 0,e,(function(e){return n.fromValue(e)}))},Qh.prototype.toFields=function(e){var t=this,n={};return e.forEach((function(e,r){n[e]=t.toValue(r)})),n},Qh.prototype.fromFields=function(e){var t=this,n=e,r=_s.EMPTY;return Zr(n,(function(e,n){r=r.set(new ji([e]),t.fromValue(n))})),r},Qh.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},Qh.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach((function(e){n.push(t.toValue(e))})),{values:n}},Qh.prototype.fromFound=function(e){var t=this;Br(!!e.found,"Tried to deserialize a found document from a missing document."),zh(e.found.name,"doc.found.name"),zh(e.found.updateTime,"doc.found.updateTime");var n=this.fromName(e.found.name),r=this.fromVersion(e.found.updateTime);return new Fs(n,r,{},void 0,e.found,(function(e){return t.fromValue(e)}))},Qh.prototype.fromMissing=function(e){Br(!!e.missing,"Tried to deserialize a missing document from a found document."),Br(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new qs(t,n)},Qh.prototype.fromMaybeDocument=function(e){return"found"in e?this.fromFound(e):"missing"in e?this.fromMissing(e):qr("invalid batch get response: "+JSON.stringify(e))},Qh.prototype.toWatchTargetChangeState=function(e){switch(e){case Ml.Added:return"ADD";case Ml.Current:return"CURRENT";case Ml.NoChange:return"NO_CHANGE";case Ml.Removed:return"REMOVE";case Ml.Reset:return"RESET";default:return qr("Unknown WatchTargetChangeState: "+e)}},Qh.prototype.toTestWatchChange=function(e){if(e instanceof Ul)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Fl){if(e.newDoc instanceof Fs){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof qs)return t=e.newDoc,{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}};if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof Vl){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return ml.OK;switch(e){case Qr.OK:return ml.OK;case Qr.CANCELLED:return ml.CANCELLED;case Qr.UNKNOWN:return ml.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return ml.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return ml.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return ml.INTERNAL;case Qr.UNAVAILABLE:return ml.UNAVAILABLE;case Qr.UNAUTHENTICATED:return ml.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return ml.INVALID_ARGUMENT;case Qr.NOT_FOUND:return ml.NOT_FOUND;case Qr.ALREADY_EXISTS:return ml.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return ml.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return ml.FAILED_PRECONDITION;case Qr.ABORTED:return ml.ABORTED;case Qr.OUT_OF_RANGE:return ml.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return ml.UNIMPLEMENTED;case Qr.DATA_LOSS:return ml.DATA_LOSS;default:return qr("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return qr("Unrecognized watch change: "+JSON.stringify(e))},Qh.prototype.fromWatchChange=function(e){var t,n=this;if("targetChange"in e){zh(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new Vl(r,i,o,s||null)}else if("documentChange"in e){zh(e.documentChange,"documentChange"),zh(e.documentChange.document,"documentChange.name"),zh(e.documentChange.document.name,"documentChange.document.name"),zh(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=new Fs(c,l,{},void 0,u.document,(function(e){return n.fromValue(e)})),f=u.targetIds||[],d=u.removedTargetIds||[];t=new Fl(f,d,h.key,h)}else if("documentDelete"in e){zh(e.documentDelete,"documentDelete"),zh(e.documentDelete.document,"documentDelete.document");var p=e.documentDelete;c=this.fromName(p.document),l=p.readTime?this.fromVersion(p.readTime):co.forDeletedDoc(),h=new qs(c,l),d=p.removedTargetIds||[],t=new Fl([],d,h.key,h)}else if("documentRemove"in e){zh(e.documentRemove,"documentRemove"),zh(e.documentRemove.document,"documentRemove");var m=e.documentRemove;c=this.fromName(m.document),d=m.removedTargetIds||[],t=new Fl([],d,c,null)}else{if(!("filter"in e))return qr("Unknown change type "+JSON.stringify(e));zh(e.filter,"filter"),zh(e.filter.targetId,"filter.targetId");var y=e.filter,v=y.count||0,g=new Lh(v),b=y.targetId;t=new Ul(b,g)}return t},Qh.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Ml.NoChange:"ADD"===e?Ml.Added:"REMOVE"===e?Ml.Removed:"CURRENT"===e?Ml.Current:"RESET"===e?Ml.Reset:qr("Got unexpected TargetChange.state: "+e)},Qh.prototype.versionFromListenResponse=function(e){if(!("targetChange"in e))return co.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?co.MIN:t.readTime?this.fromVersion(t.readTime):co.MIN},Qh.prototype.toMutation=function(e){var t,n=this;if(e instanceof _a)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof ja)t={delete:this.toName(e.key)};else if(e instanceof Oa)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof Ma))return qr("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map((function(e){return n.toFieldTransform(e)}))}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},Qh.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):Ia.NONE;if(e.update){zh(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new Oa(r,i,o,n)}return new _a(r,i,n)}if(e.delete)return r=this.fromName(e.delete),new ja(r,n);if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map((function(e){return t.fromFieldTransform(e)}));return Br(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ma(r,a)}return qr("unknown mutation proto: "+JSON.stringify(e))},Qh.prototype.toPrecondition=function(e){return Br(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qr("Unknown precondition")},Qh.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?Ia.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?Ia.exists(e.exists):Ia.NONE},Qh.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t);r.isEqual(co.MIN)&&(r=this.fromVersion(t));var i=null;return e.transformResults&&0<e.transformResults.length&&(i=e.transformResults.map((function(e){return n.fromValue(e)}))),new Sa(r,i)},Qh.prototype.fromWriteResults=function(e,t){var n=this;return e&&0<e.length?(Br(void 0!==t,"Received a write result without a commit time"),e.map((function(e){return n.fromWriteResult(e,t)}))):[]},Qh.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof Nh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _h)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof xh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(e){return t.toValue(e)}))}};if(n instanceof Ph)return{fieldPath:e.field.canonicalString(),increment:this.toValue(n.operand)};throw qr("Unknown transform: "+e.transform)},Qh.prototype.fromFieldTransform=function(e){var t=this,n=null;if("setToServerValue"in e)Br("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),n=Nh.instance;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new _h(r.map((function(e){return t.fromValue(e)})))}else if("removeAllFromArray"in e)r=e.removeAllFromArray.values||[],n=new xh(r.map((function(e){return t.fromValue(e)})));else if("increment"in e){var i=this.fromValue(e.increment);Br(i instanceof ts,"NUMERIC_ADD transform requires a NumberValue"),n=new Ph(i)}else qr("Unknown transform proto: "+JSON.stringify(e));var o=ji.fromServerFormat(e.fieldPath);return new ba(o,n)},Qh.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},Qh.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;Br(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return $l.atPath(this.fromQueryPath(n))},Qh.prototype.toQueryTarget=function(e){var t={structuredQuery:{}},n=e.path;null!==e.collectionGroup?(Br(n.length%2==0,"Collection Group queries should be within a document path or root."),t.parent=this.toQueryPath(n),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(Br(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},Qh.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(0<r){Br(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var c=null;n.startAt&&(c=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new $l(t,i,s,a,u,c,l)},Qh.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},Qh.prototype.toLabel=function(e){switch(e){case Lu.Listen:return null;case Lu.ExistenceFilterMismatch:return"existence-filter-mismatch";case Lu.LimboResolution:return"limbo-document";default:return qr("Unrecognized query purpose: "+e)}},Qh.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,0<e.resumeToken.length&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},Qh.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map((function(e){return e instanceof nh?t.toUnaryOrFieldFilter(e):qr("Unrecognized filter: "+JSON.stringify(e))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},Qh.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromFieldFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t.fromFilter(e)})).reduce((function(e,t){return e.concat(t)})):qr("Unknown filter: "+JSON.stringify(e)):[]},Qh.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map((function(e){return t.toPropertyOrder(e)}))},Qh.prototype.fromOrder=function(e){var t=this;return e.map((function(e){return t.fromPropertyOrder(e)}))},Qh.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map((function(e){return t.toValue(e)}))}},Qh.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map((function(e){return t.fromValue(e)}));return new Eh(r,n)},Qh.prototype.toDirection=function(e){return qh[e.name]},Qh.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return bh.ASCENDING;case"DESCENDING":return bh.DESCENDING;default:return}},Qh.prototype.toOperatorName=function(e){return Bh[e.name]},Qh.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Zl.EQUAL;case"GREATER_THAN":return Zl.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Zl.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Zl.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Zl.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Zl.ARRAY_CONTAINS;case"IN":return Zl.IN;case"ARRAY_CONTAINS_ANY":return Zl.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return qr("Unspecified operator");default:return qr("Unknown operator")}},Qh.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},Qh.prototype.fromFieldPathReference=function(e){return ji.fromServerFormat(e.fieldPath)},Qh.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},Qh.prototype.fromPropertyOrder=function(e){return new Sh(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},Qh.prototype.fromFieldFilter=function(e){return nh.create(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},Qh.prototype.toUnaryOrFieldFilter=function(e){if(e.op===Zl.EQUAL){if(e.value.isEqual(us.NAN))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}};if(e.value.isEqual(Ya.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}},Qh.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return nh.create(t,Zl.EQUAL,us.NAN);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return nh.create(n,Zl.EQUAL,Ya.INSTANCE);case"OPERATOR_UNSPECIFIED":return qr("Unspecified filter");default:return qr("Unknown filter")}},Qh.prototype.toDocumentMask=function(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}},Qh.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map((function(e){return ji.fromServerFormat(e)}));return va.fromArray(t)},Qh);function Qh(e,t){this.databaseId=e,this.options=t}var Gh=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Hh=(Yh.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new Gh,this.queries.set(t,r)),r.listeners.push(e),Br(!e.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),!r.viewSnap||e.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(t).then((function(e){return r.targetId=e})):Promise.resolve(r.targetId)},Yh.prototype.unlisten=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i;return u(this,(function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&0<=(i=r.listeners.indexOf(e))&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]}))}))},Yh.prototype.onWatchChange=function(e){for(var t=!1,n=0,r=e;n<r.length;n++){var i=r[n],o=i.query,a=this.queries.get(o);if(a){for(var s=0,u=a.listeners;s<u.length;s++)u[s].onViewSnapshot(i)&&(t=!0);a.viewSnap=i}}t&&this.raiseSnapshotsInSyncEvent()},Yh.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(t);this.queries.delete(e)},Yh.prototype.onOnlineStateChange=function(e){this.onlineState=e;var t=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(e)&&(t=!0)})),t&&this.raiseSnapshotsInSyncEvent()},Yh.prototype.addSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.add(e),e.next()},Yh.prototype.removeSnapshotsInSyncListener=function(e){this.snapshotsInSyncListeners.delete(e)},Yh.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(e){e.next()}))},Yh);function Yh(e){this.syncEngine=e,this.queries=new Ks((function(e){return e.canonicalId()})),this.onlineState=cl.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}var Xh=($h.prototype.onViewSnapshot=function(e){if(Br(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==El.Metadata&&t.push(i)}e=new _l(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),o=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),o=!0),this.snap=e,o},$h.prototype.onError=function(e){this.queryObserver.error(e)},$h.prototype.applyOnlineStateChange=function(e){this.onlineState=e;var t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t},$h.prototype.shouldRaiseInitialEvent=function(e,t){if(Br(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==cl.Offline;return this.options.waitForSyncWhenOnline&&n?(Br(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===cl.Offline},$h.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},$h.prototype.raiseInitialEvent=function(e){Br(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},$h);function $h(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=cl.Unknown,this.options=n||{}}var Jh=(Zh.fromSnapshot=function(e,t){for(var n=Oo(),r=Oo(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case El.Added:n=n.add(a.doc.key);break;case El.Removed:r=r.add(a.doc.key)}}return new Zh(e,t.fromCache,n,r)},Zh);function Zh(e,t,n,r){this.targetId=e,this.fromCache=t,this.addedKeys=n,this.removedKeys=r}var ef=function(e){this.key=e},tf=function(e){this.key=e},nf=(Object.defineProperty(rf.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),rf.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Nl,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),l=t instanceof Fs?t:null;l&&(Br(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;c&&l?c.data().isEqual(l.data())?h!==f&&(r.track({type:El.Metadata,doc:l}),d=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:El.Modified,doc:l}),d=!0,u&&0<n.query.docComparator(l,u)&&(s=!0)):!c&&l?(r.track({type:El.Added,doc:l}),d=!0):c&&!l&&(r.track({type:El.Removed,doc:c}),d=!0,u&&(s=!0)),d&&(o=l?(a=a.add(l),f?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:El.Removed,doc:c})}return Br(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},rf.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},rf.prototype.applyChanges=function(e,t,n){var r=this;Br(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort((function(e,t){return function(e,t){function n(e){switch(e){case El.Added:return 1;case El.Modified:case El.Metadata:return 2;case El.Removed:return 0;default:return qr("Unknown ChangeType: "+e)}}return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)})),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Sl.Synced:Sl.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new _l(this.query,e.documentSet,i,o,e.mutatedKeys,s===Sl.Local,u,!1),limboChanges:a}:{limboChanges:a}},rf.prototype.applyOnlineStateChange=function(e){return this.current&&e===cl.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Nl,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},rf.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},rf.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.add(e)})),e.modifiedDocuments.forEach((function(e){return Br(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")})),e.removedDocuments.forEach((function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)})),this.current=e.current)},rf.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=Oo(),this.documentSet.forEach((function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))}));var n=[];return t.forEach((function(t){e.limboDocuments.has(t)||n.push(new tf(t))})),this.limboDocuments.forEach((function(e){t.has(e)||n.push(new ef(e))})),n},rf.prototype.synchronizeWithPersistedState=function(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=Oo();var t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)},rf.prototype.computeInitialSnapshot=function(){return _l.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Sl.Local)},rf);function rf(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=Oo(),this.mutatedKeys=Oo(),this.documentSet=new kl(e.docComparator.bind(e))}var of=(af.prototype.run=function(){this.runWithBackOff()},af.prototype.runWithBackOff=function(){var e=this;this.backoff.backoffAndRun((function(){return s(e,void 0,void 0,(function(){var e,t,n=this;return u(this,(function(r){return e=this.remoteStore.createTransaction(),(t=this.tryRunUpdateFunction(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.handleTransactionError(e)}))}))})).catch((function(e){n.handleTransactionError(e)})),[2]}))}))}))},af.prototype.tryRunUpdateFunction=function(e){try{var t=this.updateFunction(e);return!Qc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},af.prototype.handleTransactionError=function(e){var t=this;0<this.retries&&this.isRetryableTransactionError(e)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return t.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(e)},af.prototype.isRetryableTransactionError=function(e){if("FirebaseError"!==e.name)return!1;var t=e.code;return"aborted"===t||"failed-precondition"===t||!bl(t)},af);function af(e,t,n,r){this.asyncQueue=e,this.remoteStore=t,this.updateFunction=n,this.deferred=r,this.retries=5,this.backoff=new Hc(this.asyncQueue,Qi.RetryTransaction)}var sf="SyncEngine",uf=function(e,t,n){this.query=e,this.targetId=t,this.view=n},cf=function(e){this.key=e,this.receivedDocument=!1},lf=(Object.defineProperty(hf.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),hf.prototype.subscribe=function(e){Br(null!==e,"SyncEngine listener cannot be null"),Br(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},hf.prototype.listen=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,o;return u(this,(function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}}))}))},hf.prototype.initializeViewAndComputeSnapshot=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return u(this,(function(u){switch(u.label){case 0:return n=e.query,[4,this.localStore.executeQuery(n,!0)];case 1:return r=u.sent(),i=new nf(n,r.remoteKeys),o=i.computeDocChanges(r.documents),a=Pl.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&this.onlineState!==cl.Offline),Br(0===(s=i.applyChanges(o,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),Br(!!s.snapshot,"applyChanges for new view should always return a snapshot"),c=new uf(n,e.targetId,i),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[e.targetId]=c,[2,s.snapshot]}}))}))},hf.prototype.synchronizeViewAndComputeSnapshot=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(e.query,!0)];case 1:return t=r.sent(),n=e.view.synchronizeWithPersistedState(t),this.isPrimary&&this.updateTrackedLimbos(e.targetId,n.limboChanges),[2,n]}}))}))},hf.prototype.unlisten=function(e){return s(this,void 0,void 0,(function(){var t,n=this;return u(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),Br(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then((function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)})).catch(lc)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},hf.prototype.write=function(e,t){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(e)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,t),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},hf.prototype.runTransaction=function(e,t,n){new of(e,this.remoteStore,t,n).run()},hf.prototype.applyRemoteEvent=function(e){return s(this,void 0,void 0,(function(){var t,n=this;return u(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(e)];case 2:return t=r.sent(),Zr(e.targetChanges,(function(e,t){var r=n.limboResolutionsByTarget[Number(e)];r&&(Br(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),0<t.addedDocuments.size?r.receivedDocument=!0:0<t.modifiedDocuments.size?Br(r.receivedDocument,"Received change for limbo target document without add."):0<t.removedDocuments.size&&(Br(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(t,e)];case 3:return r.sent(),[3,6];case 4:return[4,lc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},hf.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===hl.RemoteStore||!this.isPrimary&&t===hl.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(t,r){var i=r.view.applyOnlineStateChange(e);Br(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},hf.prototype.rejectListen=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c=this;return u(this,(function(u){switch(u.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new ho(Wi.comparator)).insert(r,new qs(r,co.forDeletedDoc())),o=Oo().add(r),a=new xl(co.MIN,{},new wo(wi),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return Br(!!(s=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(s.query,!1).then((function(){return c.removeAndCleanupQuery(s)})).catch(lc)];case 2:u.sent(),this.syncEngineListener.onWatchError(s.query,t),u.label=3;case 3:return[2]}}))}))},hf.prototype.applyBatchState=function(e,t,n){return s(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(Fr(sf,"Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):qr("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},hf.prototype.applySuccessfulWrite=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),t=e.batch.batchId,this.processUserCallback(t,null),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,lc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},hf.prototype.rejectFailedWrite=function(e,t){return s(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(e)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"rejected",t),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,lc(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},hf.prototype.registerPendingWritesCallback=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||Fr(sf,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(t=r.sent())?e.resolve():((n=this.pendingWritesCallbacks.get(t)||[]).push(e),this.pendingWritesCallbacks.set(t,n)),[2]}}))}))},hf.prototype.triggerPendingWritesCallbacks=function(e){(this.pendingWritesCallbacks.get(e)||[]).forEach((function(e){e.resolve()})),this.pendingWritesCallbacks.delete(e)},hf.prototype.rejectOutstandingPendingWritesCallbacks=function(e){this.pendingWritesCallbacks.forEach((function(t){t.forEach((function(t){t.reject(new Gr(Qr.CANCELLED,e))}))})),this.pendingWritesCallbacks.clear()},hf.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n=(n=n||new ho(wi)).insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},hf.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(Br(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},hf.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach((function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)}))}},hf.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},hf.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];i instanceof ef?(this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i)):i instanceof tf?(Fr(sf,"Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):qr("Unknown limbo change: "+JSON.stringify(i))}},hf.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){Fr(sf,"New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=$l.atPath(t.path);this.limboResolutionsByTarget[n]=new cf(t),this.remoteStore.listen(new ju(r,n,Lu.LimboResolution,Oi.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},hf.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},hf.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o=this;return u(this,(function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(a,s){i.push(Promise.resolve().then((function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query,!1).then((function(e){var n=e.documents;return s.view.computeDocChanges(n,t)})):t})).then((function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=Jh.fromSnapshot(s.targetId,a.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}}))}))},hf.prototype.assertSubscribed=function(e){Br(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},hf.prototype.handleCredentialChange=function(e){return s(this,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(e)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},hf.prototype.applyPrimaryState=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c=this;return u(this,(function(u){switch(u.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return u.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=u.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),Jr(this.queryViewsByTarget,(function(e,t){c.sharedClientState.isLocalQueryTarget(e)?a.push(e):s=s.then((function(){return c.unlisten(t.query)})),c.remoteStore.unlisten(t.targetId)})),[4,s]);case 4:return u.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return u.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))},hf.prototype.resetLimboDocuments=function(){var e=this;Jr(this.limboResolutionsByTarget,(function(t){e.remoteStore.unlisten(t)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new ho(Wi.comparator)},hf.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,l;return u(this,(function(u){switch(u.label){case 0:t=[],n=[],r=0,i=e,u.label=1;case 1:return r<i.length?(o=i[r],a=void 0,(s=this.queryViewsByTarget[o])?[4,this.localStore.releaseQuery(s.query,!0)]:[3,5]):[3,11];case 2:return u.sent(),[4,this.localStore.allocateQuery(s.query)];case 3:return a=u.sent(),[4,this.synchronizeViewAndComputeSnapshot(s)];case 4:return(c=u.sent()).snapshot&&n.push(c.snapshot),[3,9];case 5:return Br(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return Br(!!(l=u.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(l)];case 7:return a=u.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:u.sent(),u.label=9;case 9:t.push(a),u.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,t]}}))}))},hf.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},hf.prototype.applyTargetState=function(e,t,n){return s(this,void 0,void 0,(function(){var r,i,o;return u(this,(function(a){switch(a.label){case 0:if(this.isPrimary)return Fr(sf,"Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,7];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=a.sent(),i=xl.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return a.sent(),[3,7];case 4:return o=this.queryViewsByTarget[e],this.removeAndCleanupQuery(o),[4,this.localStore.releaseQuery(o.query,!0)];case 5:return a.sent(),this.syncEngineListener.onWatchError(o.query,n),[3,7];case 6:qr("Unexpected target state: "+t),a.label=7;case 7:return[2]}}))}))},hf.prototype.applyActiveTargetsChange=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,l,h,f=this;return u(this,(function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,d.label=1;case 1:return n<r.length?(h=r[n],Br(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return Br(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:a=function(e){var t;return u(this,(function(n){switch(n.label){case 0:return(t=s.queryViewsByTarget[e])?[4,s.localStore.releaseQuery(t.query,!1).then((function(){f.remoteStore.unlisten(e),f.removeAndCleanupQuery(t)})).catch(lc)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},s=this,c=0,l=t,d.label=7;case 7:return c<l.length?(h=l[c],[5,a(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))},hf.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},hf.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},hf.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?Oo().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:Oo()},hf);function hf(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Ks((function(e){return e.canonicalId()})),this.queryViewsByTarget={},this.limboTargetsByKey=new ho(Wi.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new gc,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=$o.forSyncEngine(),this.isPrimary=void 0,this.onlineState=cl.Unknown}var ff=(df.prototype.isAuthenticated=function(){return null!=this.uid},df.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},df.prototype.isEqual=function(e){return e.uid===this.uid},df.UNAUTHENTICATED=new df(null),df.GOOGLE_CREDENTIALS=new df("google-credentials-uid"),df.FIRST_PARTY=new df("first-party-uid"),df);function df(e){this.uid=e}var pf="SharedClientState",mf="firestore_clients",yf="firestore_mutations",vf="firestore_targets",gf=(bf.fromWebStorageEntry=function(e,t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Gr(r.error.code,r.error.message)),i?new bf(e,t,r.state,o):(Ur(pf,"Failed to parse mutation state for ID '"+t+"': "+n),null)},bf.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},bf);function bf(e,t,n,r){this.user=e,this.batchId=t,this.state=n,Br(void 0!==(this.error=r)==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}var wf=(Ef.fromWebStorageEntry=function(e,t){var n=JSON.parse(t),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new Gr(n.error.code,n.error.message)),r?new Ef(e,n.state,i):(Ur(pf,"Failed to parse target state for ID '"+e+"': "+t),null)},Ef.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},Ef);function Ef(e,t,n){this.targetId=e,this.state=t,Br(void 0!==(this.error=n)==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}var Tf=(Sf.fromWebStorageEntry=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Ro(),o=0;r&&o<n.activeTargetIds.length;++o)r=Gc(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Sf(e,i):(Ur(pf,"Failed to parse client data for instance '"+e+"': "+t),null)},Sf);function Sf(e,t){this.clientId=e,this.activeTargetIds=t}var If=(kf.fromWebStorageEntry=function(e){var t=JSON.parse(e);return"object"==typeof t&&t.onlineState in cl&&"string"==typeof t.clientId?new kf(t.clientId,cl[t.onlineState]):(Ur(pf,"Failed to parse online state: "+e),null)},kf);function kf(e,t){this.clientId=e,this.onlineState=t}var Cf=(Nf.prototype.addQueryTarget=function(e){Br(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},Nf.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},Nf.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},Nf);function Nf(){this.activeTargetIds=Ro()}var Af=(_f.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},_f.prototype.start=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,l,h,f=this;return u(this,(function(u){switch(u.label){case 0:return Br(!this.started,"WebStorageSharedClientState already started"),Br(null!==this.syncEngine,"syncEngine property must be set before calling start()"),Br(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=u.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Tf.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),c=0,l=this.earlyEvents;c<l.length;c++)h=l[c],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},_f.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},_f.prototype.getAllActiveQueryTargets=function(){var e=Ro();return Zr(this.activeClients,(function(t,n){e=e.unionWith(n.activeTargetIds)})),e},_f.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},_f.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},_f.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},_f.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=wf.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},_f.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},_f.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},_f.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},_f.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},_f.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.removeMutationState(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},_f.prototype.setOnlineState=function(e){this.persistOnlineState(e)},_f.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},_f.prototype.getItem=function(e){var t=this.storage.getItem(e);return Fr(pf,"READ",e,t),t},_f.prototype.setItem=function(e,t){Fr(pf,"SET",e,t),this.storage.setItem(e,t)},_f.prototype.removeItem=function(e){Fr(pf,"REMOVE",e),this.storage.removeItem(e)},_f.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(Fr(pf,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void Ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return s(t,void 0,void 0,(function(){var t,n,r,i,o,a;return u(this,(function(s){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(Br(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(e){var t=Oi.INVALID;if(null!=e)try{var n=JSON.parse(e);Br("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){Ur(pf,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==Oi.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(_f.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),_f.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},_f.prototype.persistMutationState=function(e,t,n){var r=new gf(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},_f.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},_f.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:cl[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},_f.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new wf(e,t,n);this.setItem(r,i.toWebStorageJSON())},_f.prototype.toWebStorageClientStateKey=function(e){return Br(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),mf+"_"+this.persistenceKey+"_"+e},_f.prototype.toWebStorageQueryTargetMetadataKey=function(e){return vf+"_"+this.persistenceKey+"_"+e},_f.prototype.toWebStorageMutationBatchKey=function(e){var t=yf+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},_f.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},_f.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return Br(null!==n,"Cannot parse client state key '"+e+"'"),Tf.fromWebStorageEntry(n,t)},_f.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);Br(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gf.fromWebStorageEntry(new ff(i),r,t)},_f.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);Br(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return wf.fromWebStorageEntry(r,t)},_f.prototype.fromWebStorageOnlineState=function(e){return If.fromWebStorageEntry(e)},_f.prototype.handleMutationBatchEvent=function(e){return s(this,void 0,void 0,(function(){return u(this,(function(t){return e.user.uid!==this.currentUser.uid?(Fr(pf,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]}))}))},_f.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},_f.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach((function(e){return s(n,void 0,void 0,(function(){return u(this,(function(t){return r.has(e)||o.push(e),[2]}))}))})),r.forEach((function(e){return s(n,void 0,void 0,(function(){return u(this,(function(t){return i.has(e)||a.push(e),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(o,a)},_f.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},_f);function _f(e,t,n,r,i){if(this.queue=e,this.platform=t,this.persistenceKey=n,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!_f.isAvailable(this.platform))throw new Gr(Qr.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=i,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey="firestore_sequence_number_"+n,this.activeClients[this.localClientId]=new Cf,this.clientStateKeyRe=new RegExp("^"+mf+"_"+o+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+yf+"_"+o+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+vf+"_"+o+"_(\\d+)$"),this.onlineStateKey="firestore_online_state_"+n,this.platform.window.addEventListener("storage",this.storageListener)}var Df=(xf.prototype.addPendingMutation=function(e){},xf.prototype.updateMutationState=function(e,t,n){},xf.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},xf.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},xf.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},xf.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},xf.prototype.clearQueryState=function(e){delete this.queryState[e]},xf.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},xf.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},xf.prototype.start=function(){return this.localState=new Cf,Promise.resolve()},xf.prototype.handleUserChange=function(e,t,n){},xf.prototype.setOnlineState=function(e){},xf.prototype.shutdown=function(){},xf.prototype.writeSequenceNumber=function(e){},xf);function xf(){this.localState=new Cf,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}var Of="FirestoreClient",Pf=(Rf.prototype.lruParams=function(){return Xu.withCacheSize(this.cacheSizeBytes)},Rf);function Rf(e,t){this.cacheSizeBytes=e,this.synchronizeTabs=t}var Mf=function(){},Lf=(Ff.prototype.start=function(e){var t=this;this.verifyNotTerminated();var n=new Hi,r=new Hi,i=!1;return this.credentials.setChangeListener((function(o){i?t.asyncQueue.enqueueAndForget((function(){return t.handleCredentialChange(o)})):(i=!0,t.initializePersistence(e,r,o).then((function(e){return t.initializeRest(o,e)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},Ff.prototype.enableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.enableNetwork()}))},Ff.prototype.initializePersistence=function(e,t,n){var r=this;return e instanceof Pf?this.startIndexedDbPersistence(n,e).then((function(e){return t.resolve(),e})).catch((function(e){if(t.reject(e),!r.canFallback(e))throw e;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.startMemoryPersistence()})):(t.resolve(),this.startMemoryPersistence())},Ff.prototype.canFallback=function(e){return e instanceof Gr?e.code===Qr.FAILED_PRECONDITION||e.code===Qr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},Ff.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Gr(Qr.FAILED_PRECONDITION,"The client has already been terminated.")},Ff.prototype.startIndexedDbPersistence=function(e,t){var n=this,r=uc.buildStoragePrefix(this.databaseInfo),i=new Kh(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return s(n,void 0,void 0,(function(){var n,o;return u(this,(function(a){switch(a.label){case 0:if(t.synchronizeTabs&&!Af.isAvailable(this.platform))throw new Gr(Qr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=t.lruParams(),this.sharedClientState=t.synchronizeTabs?new Af(this.asyncQueue,this.platform,r,this.clientId,e):new Df,[4,uc.createIndexedDbPersistence({allowTabSynchronization:t.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=a.sent(),[2,(this.persistence=o).referenceDelegate.garbageCollector]}}))}))}))},Ff.prototype.startMemoryPersistence=function(){return this.persistence=Pc.createEagerPersistence(this.clientId),this.sharedClientState=new Df,Promise.resolve(null)},Ff.prototype.initializeRest=function(e,t){var n=this;return Fr(Of,"Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return s(n,void 0,void 0,(function(){var n,i,o,a,c,l,h=this;return u(this,(function(f){switch(f.label){case 0:return n=new qc,this.localStore=new Sc(this.persistence,n,e),t&&(this.lruScheduler=new Ju(t,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),o=this.platform.newSerializer(this.databaseInfo.databaseId),a=new sl(this.asyncQueue,r,this.credentials,o),c=function(e){return h.syncEngine.applyOnlineStateChange(e,hl.RemoteStore)},l=function(e){return h.syncEngine.applyOnlineStateChange(e,hl.SharedClientState)},this.remoteStore=new Gl(this.localStore,a,this.asyncQueue,c,i),this.syncEngine=new lf(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=l,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Hh(this.syncEngine),[4,this.sharedClientState.start()];case 1:return f.sent(),[4,this.remoteStore.start()];case 2:return f.sent(),[4,this.persistence.setPrimaryStateListener((function(e){return s(h,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.syncEngine.applyPrimaryState(e)];case 1:return t.sent(),this.lruScheduler&&(e&&!this.lruScheduler.started?this.lruScheduler.start():e||this.lruScheduler.stop()),[2]}}))}))}))];case 3:return f.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return s(h,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))}))];case 4:return f.sent(),[2]}}))}))}))},Ff.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),Fr(Of,"Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},Ff.prototype.disableNetwork=function(){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.syncEngine.disableNetwork()}))},Ff.prototype.terminate=function(){var e=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown()];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},Ff.prototype.waitForPendingWrites=function(){var e=this;this.verifyNotTerminated();var t=new Hi;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.registerPendingWritesCallback(t)})),t.promise},Ff.prototype.listen=function(e,t,n){var r=this;this.verifyNotTerminated();var i=new Xh(e,t,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},Ff.prototype.unlisten=function(e){var t=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.unlisten(e)}))},Ff.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.localStore.readDocument(e)})).then((function(e){if(e instanceof Fs)return e;if(e instanceof qs)return null;throw new Gr(Qr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},Ff.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return s(t,void 0,void 0,(function(){var t,n,r;return u(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(e,!0)];case 1:return t=i.sent(),n=new nf(e,t.remoteKeys),r=n.computeDocChanges(t.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},Ff.prototype.write=function(e){var t=this;this.verifyNotTerminated();var n=new Hi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.write(e,n)})),n.promise},Ff.prototype.databaseId=function(){return this.databaseInfo.databaseId},Ff.prototype.addSnapshotsInSyncListener=function(e){var t=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return t.eventMgr.addSnapshotsInSyncListener(e),Promise.resolve()}))},Ff.prototype.removeSnapshotsInSyncListener=function(e){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(e)},Object.defineProperty(Ff.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),Ff.prototype.transaction=function(e){var t=this;this.verifyNotTerminated();var n=new Hi;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.runTransaction(t.asyncQueue,e,n),Promise.resolve()})),n.promise},Ff);function Ff(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=gi.newId()}var Uf=(Vf.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},Vf.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},Vf.prototype.mute=function(){this.muted=!0},Vf.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},Vf);function Vf(e){this.observer=e,this.muted=!1}var qf=(Bf.documentId=function(){return Bf._DOCUMENT_ID},Bf.prototype.isEqual=function(e){if(!(e instanceof Bf))throw mi("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},Bf._DOCUMENT_ID=new Bf(ji.keyField().canonicalString()),Bf);function Bf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new Gr(Qr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+vi(1,"element")+".")}(0,e);for(var n=0;n<e.length;++n)if(oi("FieldPath","string",n,e[n]),0===e[n].length)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}var jf=new RegExp("[~\\*/\\[\\]]"),zf=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}},Wf=(Kf.prototype.getToken=function(){return Promise.resolve(null)},Kf.prototype.invalidateToken=function(){},Kf.prototype.setChangeListener=function(e){Br(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(ff.UNAUTHENTICATED)},Kf.prototype.removeChangeListener=function(){Br(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},Kf);function Kf(){this.changeListener=null}var Qf=(Gf.prototype.getToken=function(){var e=this;Br(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then((function(n){if(e.tokenCounter!==t)throw new Gr(Qr.ABORTED,"getToken aborted due to token change.");return n?(Br("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new zf(n.accessToken,e.currentUser)):null}))},Gf.prototype.invalidateToken=function(){this.forceRefresh=!0},Gf.prototype.setChangeListener=function(e){Br(!this.changeListener,"Can only call setChangeListener() once."),(this.changeListener=e)(this.currentUser)},Gf.prototype.removeChangeListener=function(){Br(null!=this.tokenListener,"removeChangeListener() called twice"),Br(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},Gf.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return Br(null===e||"string"==typeof e,"Received invalid UID: "+e),new ff(e)},Gf);function Gf(e){var t=this;this.app=e,this.tokenListener=null,this.currentUser=ff.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}var Hf=(Object.defineProperty(Yf.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.sessionIndex},t=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!0,configurable:!0}),Yf);function Yf(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ff.FIRST_PARTY}var Xf=($f.prototype.getToken=function(){return Promise.resolve(new Hf(this.gapi,this.sessionIndex))},$f.prototype.setChangeListener=function(e){e(ff.FIRST_PARTY)},$f.prototype.removeChangeListener=function(){},$f.prototype.invalidateToken=function(){},$f);function $f(e,t){this.gapi=e,this.sessionIndex=t}function Jf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Zf=(ed.delete=function(){return ti("FieldValue.delete",arguments),nd.instance},ed.serverTimestamp=function(){return ti("FieldValue.serverTimestamp",arguments),od.instance},ed.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ri("FieldValue.arrayUnion",arguments,1),new ud(e)},ed.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ri("FieldValue.arrayRemove",arguments,1),new hd(e)},ed.increment=function(e){return oi("FieldValue.increment","number",1,e),ni("FieldValue.increment",arguments,1),new pd(e)},ed.prototype.isEqual=function(e){return this===e},ed);function ed(e){this._methodName=e}var td,nd=(r(rd,td=Zf),rd.instance=new rd,rd);function rd(){return td.call(this,"FieldValue.delete")||this}var id,od=(r(ad,id=Zf),ad.instance=new ad,ad);function ad(){return id.call(this,"FieldValue.serverTimestamp")||this}var sd,ud=(r(cd,sd=Zf),cd);function cd(e){var t=sd.call(this,"FieldValue.arrayUnion")||this;return t._elements=e,t}var ld,hd=(r(fd,ld=Zf),fd);function fd(e){var t=ld.call(this,"FieldValue.arrayRemove")||this;return t._elements=e,t}var dd,pd=(r(md,dd=Zf),md);function md(e){var t=dd.call(this,"FieldValue.increment")||this;return t._operand=e,t}var yd=Yr(Zf,"Use FieldValue.<field>() instead."),vd=/^__.*__$/,gd=(bd.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new Oa(e,this.data,this.fieldMask,t)):n.push(new _a(e,this.data,t)),0<this.fieldTransforms.length&&n.push(new Ma(e,this.fieldTransforms)),n},bd);function bd(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}var wd,Ed,Td=(Sd.prototype.toMutations=function(e,t){var n=[new Oa(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new Ma(e,this.fieldTransforms)),n},Sd);function Sd(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function Id(e){switch(e){case wd.Set:case wd.MergeSet:case wd.Update:return!0;case wd.Argument:return!1;default:throw qr("Unexpected case for UserDataSource: "+e)}}(Ed=wd=wd||{})[Ed.Set=0]="Set",Ed[Ed.Update=1]="Update",Ed[Ed.MergeSet=2]="MergeSet",Ed[Ed.Argument=3]="Argument";var kd=(Cd.prototype.childContextForField=function(e){var t=null==this.path?null:this.path.child(e),n=new Cd(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePathSegment(e),n},Cd.prototype.childContextForFieldPath=function(e){var t=null==this.path?null:this.path.child(e),n=new Cd(this.dataSource,this.methodName,t,!1,this.fieldTransforms,this.fieldMask);return n.validatePath(),n},Cd.prototype.childContextForArray=function(e){return new Cd(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},Cd.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Gr(Qr.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},Cd.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},Cd.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},Cd.prototype.validatePathSegment=function(e){if(Id(this.dataSource)&&vd.test(e))throw this.createError("Document fields cannot begin and end with __")},Cd);function Cd(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}var Nd=function(e,t){this.databaseId=e,this.key=t},Ad=(_d.prototype.parseSetData=function(e,t){var n=new kd(wd.Set,e,ji.EMPTY_PATH);xd("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new gd(r,null,n.fieldTransforms)},_d.prototype.parseMergeData=function(e,t,n){var r=new kd(wd.MergeSet,e,ji.EMPTY_PATH);xd("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=new wo(ji.comparator),u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof qf)h=l._internalPath;else{if("string"!=typeof l)throw qr("Expected stringOrFieldPath to be a string or a FieldPath");h=Pd(e,l)}if(!r.contains(h))throw new Gr(Qr.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=va.fromSet(s),o=r.fieldTransforms.filter((function(e){return i.covers(e.field)}))}else i=va.fromArray(r.fieldMask),o=r.fieldTransforms;return new gd(a,i,o)},_d.prototype.parseUpdateData=function(e,t){var n=this,r=new kd(wd.Update,e,ji.EMPTY_PATH);xd("Data must be an object, but it was:",r,t);var i=new wo(ji.comparator),o=_s.EMPTY;Zr(t,(function(t,a){var s=Pd(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof nd)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}}));var a=va.fromSet(i);return new Td(o,a,r.fieldTransforms)},_d.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new kd(wd.Update,e,ji.EMPTY_PATH),o=[Od(e,t)],a=[n];if(r.length%2!=0)throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(Od(e,r[s])),a.push(r[s+1]);var u=new wo(ji.comparator),c=_s.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof nd)u=u.add(l);else{var d=this.parseData(f,h);null!=d&&(u=u.add(l),c=c.set(l,d))}}var p=va.fromSet(u);return new Td(c,p,i.fieldTransforms)},_d.prototype.parseQueryValue=function(e,t){var n=new kd(wd.Argument,e,ji.EMPTY_PATH),r=this.parseData(t,n);return Br(null!=r,"Parsed data should not be null."),Br(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},_d.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=Rd(e);throw t.createError(n)}},_d.prototype.parseData=function(e,t){if(Dd(e=this.runPreConverter(e,t)))return xd("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof Zf)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},_d.prototype.parseObject=function(e,t){var n=this,r=new ho(wi);return ei(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Zr(e,(function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))})),new _s(r)},_d.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=Ya.INSTANCE),n.push(s),r++}return new Os(n)},_d.prototype.parseSentinelFieldValue=function(e,t){if(!Id(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof nd){if(t.dataSource!==wd.MergeSet)throw t.dataSource===wd.Update?(Br(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof od)t.fieldTransforms.push(new ba(t.path,Nh.instance));else if(e instanceof ud){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new _h(n);t.fieldTransforms.push(new ba(t.path,r))}else if(e instanceof hd){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new xh(n);t.fieldTransforms.push(new ba(t.path,i))}else if(e instanceof pd){var o=this.parseQueryValue("FieldValue.increment",e._operand),a=new Ph(o);t.fieldTransforms.push(new ba(t.path,a))}else qr("Unknown FieldValue type: "+e)},_d.prototype.parseScalarValue=function(e,t){if(null===e)return Ya.INSTANCE;if("number"==typeof e)return Gc(e)?new os(e):new us(e);if("boolean"==typeof e)return Ja.of(e);if("string"==typeof e)return new hs(e);if(e instanceof Date)return new ps(so.fromDate(e));if(e instanceof so)return new ps(new so(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Yl)return new Cs(e);if(e instanceof ki)return new ws(e);if(e instanceof Nd)return new Ss(e.databaseId,e.key);throw t.createError("Unsupported field value: "+fi(e))},_d.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map((function(t,r){var i=new kd(wd.Argument,e,ji.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))}))},_d);function _d(e){this.preConverter=e}function Dd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof so||e instanceof Yl||e instanceof ki||e instanceof Nd||e instanceof Zf)}function xd(e,t,n){if(!Dd(n)||!hi(n)){var r=fi(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Od(e,t){if(t instanceof qf)return t._internalPath;if("string"==typeof t)return Pd(e,t);throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Pd(e,t){try{return function(e){if(0<=e.search(jf))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(qf.bind.apply(qf,c([void 0],e.split("."))))}catch(t){throw new Gr(Qr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=Rd(t);throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function Rd(e){return e instanceof Error?e.message:e.toString()}var Md=Xu.COLLECTION_DISABLED,Ld=(Fd.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.forceLongPolling===e.forceLongPolling},Fd);function Fd(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Gr(Qr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else si("settings","non-empty string","host",e.host),this.host=e.host,ui("settings","boolean","ssl",e.ssl),this.ssl=$r(e.ssl,!0);if(pi("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),ui("settings","object","credentials",e.credentials),this.credentials=e.credentials,ui("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),!0===e.timestampsInSnapshots?Ur("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===e.timestampsInSnapshots&&Ur("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=$r(e.timestampsInSnapshots,!0),ui("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=Xu.DEFAULT_CACHE_SIZE_BYTES;else{if(e.cacheSizeBytes!==Md&&e.cacheSizeBytes<Xu.MINIMUM_CACHE_SIZE_BYTES)throw new Gr(Qr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Xu.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=e.cacheSizeBytes}ui("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.forceLongPolling=void 0!==e.experimentalForceLongPolling&&e.experimentalForceLongPolling}var Ud=(Vd.prototype.settings=function(e){if(ni("Firestore.settings",arguments,1),oi("Firestore.settings","object",1,e),Xr(e,"persistence"))throw new Gr(Qr.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new Ld(e);if(this._firestoreClient&&!this._settings.isEqual(t))throw new Gr(Qr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this._settings=t).credentials&&(this._credentials=function(e){if(!e)return new Wf;switch(e.type){case"gapi":var t=e.client;return Br(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Xf(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new Gr(Qr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},Vd.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},Vd.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},Vd.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new Gr(Qr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var t=!1;return e&&(void 0!==e.experimentalTabSynchronization&&Ur("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),t=$r(void 0!==e.synchronizeTabs?e.synchronizeTabs:e.experimentalTabSynchronization,!1)),this.configureClient(new Pf(this._settings.cacheSizeBytes,t))},Vd.prototype.clearPersistence=function(){var e=this,t=uc.buildStoragePrefix(this.makeDatabaseInfo()),n=new Hi;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return s(e,void 0,void 0,(function(){var e;return u(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new Gr(Qr.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,uc.clearPersistence(t)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise},Vd.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(Vd.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),Vd.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},Vd.prototype.onSnapshotsInSync=function(e){if(this.ensureClientConfigured(),Jf(e))return this.onSnapshotsInSyncInternal(e);oi("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.onSnapshotsInSyncInternal(t)},Vd.prototype.onSnapshotsInSyncInternal=function(e){var t=this,n=new Uf({next:function(){e.next&&e.next()},error:function(e){throw qr("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),t._firestoreClient.removeSnapshotsInSyncListener(n)}},Vd.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Mf),this._firestoreClient},Vd.prototype.makeDatabaseInfo=function(){return new Ai(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},Vd.prototype.configureClient=function(e){Br(!!this._settings.host,"FirestoreSettings.host is not set"),Br(!this._firestoreClient,"configureClient() called multiple times");var t=this.makeDatabaseInfo();return this._firestoreClient=new Lf(jr.getPlatform(),t,this._credentials,this._queue),this._firestoreClient.start(e)},Vd.prototype.createDataConverter=function(e){return new Ad((function(t){if(t instanceof Wd){var n=e,r=t.firestore._databaseId;if(!r.isEqual(n))throw new Gr(Qr.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Nd(e,t._key)}return t}))},Vd.databaseIdFromApp=function(e){var t=e.options;if(!Xr(t,"projectId"))throw new Gr(Qr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new Gr(Qr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Di(n)},Object.defineProperty(Vd.prototype,"app",{get:function(){if(!this._firebaseApp)throw new Gr(Qr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),Vd.prototype.collection=function(e){return ni("Firestore.collection",arguments,1),oi("Firestore.collection","non-empty string",1,e),this.ensureClientConfigured(),new ip(Ui.fromString(e),this)},Vd.prototype.doc=function(e){return ni("Firestore.doc",arguments,1),oi("Firestore.doc","non-empty string",1,e),this.ensureClientConfigured(),Wd.forPath(Ui.fromString(e),this)},Vd.prototype.collectionGroup=function(e){if(ni("Firestore.collectionGroup",arguments,1),oi("Firestore.collectionGroup","non-empty string",1,e),0<=e.indexOf("/"))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Zd(new $l(Ui.EMPTY_PATH,e),this)},Vd.prototype.runTransaction=function(e){var t=this;return ni("Firestore.runTransaction",arguments,1),oi("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction((function(n){return e(new qd(t,n))}))},Vd.prototype.batch=function(){return this.ensureClientConfigured(),new jd(this)},Object.defineProperty(Vd,"logLevel",{get:function(){switch(Mr()){case kr.DEBUG:return"debug";case kr.ERROR:return"error";case kr.SILENT:return"silent";default:return qr("Unknown log level: "+Mr())}},enumerable:!0,configurable:!0}),Vd.setLogLevel=function(e){switch(ni("Firestore.setLogLevel",arguments,1),oi("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":Lr(kr.DEBUG);break;case"error":Lr(kr.ERROR);break;case"silent":Lr(kr.SILENT);break;default:throw new Gr(Qr.INVALID_ARGUMENT,"Invalid log level: "+e)}},Vd.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},Vd);function Vd(e){var t=this;if(this._firebaseApp=null,this._queue=new $i,this.INTERNAL={delete:function(){return s(t,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==typeof e.options){var n=e;this._firebaseApp=n,this._databaseId=Vd.databaseIdFromApp(n),this._persistenceKey=n.name,this._credentials=new Qf(n)}else{var r=e;if(!r.projectId)throw new Gr(Qr.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new Di(r.projectId,r.database),this._persistenceKey="[DEFAULT]",this._credentials=new Wf}this._settings=new Ld({}),this._dataConverter=this.createDataConverter(this._databaseId)}var qd=(Bd.prototype.get=function(e){var t=this;ni("Transaction.get",arguments,1);var n=cp("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return qr("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof qs)return new Hd(t._firestore,n._key,null,!1,!1);if(r instanceof Fs)return new Hd(t._firestore,n._key,r,!1,!1);throw qr("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},Bd.prototype.set=function(e,t,n){ii("Transaction.set",arguments,2,3);var r=cp("Transaction.set",e,this._firestore),i=(n=ap("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},Bd.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return i="string"==typeof t||t instanceof qf?(ri("Transaction.update",arguments,3),r=cp("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(ni("Transaction.update",arguments,2),r=cp("Transaction.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},Bd.prototype.delete=function(e){ni("Transaction.delete",arguments,1);var t=cp("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},Bd);function Bd(e,t){this._firestore=e,this._transaction=t}var jd=(zd.prototype.set=function(e,t,n){ii("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=cp("WriteBatch.set",e,this._firestore),i=(n=ap("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,Ia.NONE)),this},zd.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),i="string"==typeof t||t instanceof qf?(ri("WriteBatch.update",arguments,3),r=cp("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(ni("WriteBatch.update",arguments,2),r=cp("WriteBatch.update",e,this._firestore),this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,Ia.exists(!0))),this},zd.prototype.delete=function(e){ni("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=cp("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new ja(t._key,Ia.NONE)),this},zd.prototype.commit=function(){return s(this,void 0,void 0,(function(){return u(this,(function(e){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},zd.prototype.verifyNotCommitted=function(){if(this._committed)throw new Gr(Qr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},zd);function zd(e){this._firestore=e,this._mutations=[],this._committed=!1}var Wd=(Kd.forPath=function(e,t){if(e.length%2!=0)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new Kd(new Wi(e),t)},Object.defineProperty(Kd.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Kd.prototype,"parent",{get:function(){return new ip(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Kd.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),Kd.prototype.collection=function(e){if(ni("DocumentReference.collection",arguments,1),oi("DocumentReference.collection","non-empty string",1,e),!e)throw new Gr(Qr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Ui.fromString(e);return new ip(this._key.path.child(t),this.firestore)},Kd.prototype.isEqual=function(e){if(!(e instanceof Kd))throw mi("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},Kd.prototype.set=function(e,t){ii("DocumentReference.set",arguments,1,2);var n=(t=ap("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,Ia.NONE))},Kd.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof e||e instanceof qf?(ri("DocumentReference.update",arguments,2),this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(ni("DocumentReference.update",arguments,1),this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,Ia.exists(!0)))},Kd.prototype.delete=function(){return ni("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ja(this._key,Ia.NONE)])},Kd.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ii("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||Jf(e[i])||(pi("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),ui("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return n=Jf(e[i])?e[i]:(oi("DocumentReference.onSnapshot","function",i,e[i]),ai("DocumentReference.onSnapshot","function",i+1,e[i+1]),ai("DocumentReference.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},Kd.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Uf({next:function(e){if(t.next){Br(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new Hd(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen($l.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},Kd.prototype.get=function(e){var t=this;return ii("DocumentReference.get",arguments,0,1),up("DocumentReference.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then((function(e){n(new Hd(t.firestore,t._key,e,!0,e instanceof Fs&&e.hasLocalMutations))}),r):t.getViaSnapshotListener(n,r,e)}))},Kd.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new Gr(Qr.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new Gr(Qr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},Kd);function Kd(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}var Qd=(Gd.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},Gd);function Gd(e,t){this.hasPendingWrites=e,this.fromCache=t}var Hd=(Yd.prototype.data=function(e){return ii("DocumentSnapshot.data",arguments,0,1),e=sp("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data(),Wa.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},Yd.prototype.get=function(e,t){if(ii("DocumentSnapshot.get",arguments,1,2),t=sp("DocumentSnapshot.get",t),this._document){var n=this._document.data().field(Od("DocumentSnapshot.get",e));if(null!==n)return this.convertValue(n,Wa.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(Yd.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(Yd.prototype,"ref",{get:function(){return new Wd(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(Yd.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(Yd.prototype,"metadata",{get:function(){return new Qd(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),Yd.prototype.isEqual=function(e){if(!(e instanceof Yd))throw mi("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},Yd.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach((function(e,i){r[e]=n.convertValue(i,t)})),r},Yd.prototype.convertValue=function(e,t){if(e instanceof _s)return this.convertObject(e,t);if(e instanceof Os)return this.convertArray(e,t);if(e instanceof Ss){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||Ur("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Wd(n,this._firestore)}return e.value(t)},Yd.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map((function(e){return n.convertValue(e,t)}))},Yd);function Yd(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}var Xd,$d=(r(Jd,Xd=Hd),Jd.prototype.data=function(e){var t=Xd.prototype.data.call(this,e);return Br("object"==typeof t,"Document in a QueryDocumentSnapshot should exist"),t},Jd);function Jd(){return null!==Xd&&Xd.apply(this,arguments)||this}var Zd=(ep.prototype.where=function(e,t,n){ni("Query.where",arguments,3),di("Query.where",3,n),"in"!==t&&"array-contains-any"!==t&&function(e,t,n,r){if(!t.some((function(e){return e===r})))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid value "+fi(r)+" provided to function Query.where() for its "+yi(2)+" argument. Acceptable values: "+t.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,t);var r,i=Od("Query.where",e),o=Zl.fromString(t);if(i.isKeyField()){if(o===Zl.ARRAY_CONTAINS||o===Zl.ARRAY_CONTAINS_ANY)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o.toString()+"' queries on FieldPath.documentId().");if(o===Zl.IN){this.validateDisjunctiveFilterElements(n,o);for(var a=[],s=0,u=n;s<u.length;s++){var c=u[s];a.push(this.parseDocumentIdValue(c))}r=new Os(a)}else r=this.parseDocumentIdValue(n)}else o!==Zl.IN&&o!==Zl.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(n,o),r=this.firestore._dataConverter.parseQueryValue("Query.where",n);var l=nh.create(i,o,r);return this.validateNewFilter(l),new ep(this._query.addFilter(l),this.firestore)},ep.prototype.orderBy=function(e,t){var n;if(ii("Query.orderBy",arguments,1,2),ai("Query.orderBy","non-empty string",2,t),void 0===t||"asc"===t)n=bh.ASCENDING;else{if("desc"!==t)throw new Gr(Qr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+t+"', expected 'asc' or 'desc'.");n=bh.DESCENDING}if(null!==this._query.startAt)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Od("Query.orderBy",e),i=new Sh(r,n);return this.validateNewOrderBy(i),new ep(this._query.addOrderBy(i),this.firestore)},ep.prototype.limit=function(e){if(ni("Query.limit",arguments,1),oi("Query.limit","number",1,e),e<=0)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new ep(this._query.withLimit(e),this.firestore)},ep.prototype.startAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ri("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,t,!0);return new ep(this._query.withStartAt(r),this.firestore)},ep.prototype.startAfter=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ri("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,t,!1);return new ep(this._query.withStartAt(r),this.firestore)},ep.prototype.endBefore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ri("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,t,!0);return new ep(this._query.withEndAt(r),this.firestore)},ep.prototype.endAt=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ri("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,t,!1);return new ep(this._query.withEndAt(r),this.firestore)},ep.prototype.isEqual=function(e){if(!(e instanceof ep))throw mi("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},ep.prototype.boundFromDocOrFields=function(e,t,n,r){if(di(e,1,t),t instanceof Hd){if(0<n.length)throw new Gr(Qr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new Gr(Qr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},ep.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Ss(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(s instanceof vs)throw new Gr(Qr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var u=a.field.canonicalString();throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Eh(r,n)},ep.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new Gr(Qr.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+e+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(Ui.fromString(a));if(!Wi.isDocumentKey(s))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+e+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var u=new Wi(s);i.push(new Ss(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(e,a);i.push(c)}}return new Eh(i,n)},ep.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ii("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||Jf(e[i])||(pi("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),ui("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),n=Jf(e[i])?e[i]:(oi("Query.onSnapshot","function",i,e[i]),ai("Query.onSnapshot","function",i+1,e[i+1]),ai("Query.onSnapshot","function",i+2,e[i+2]),{next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},ep.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Uf({next:function(e){t.next&&t.next(new tp(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},ep.prototype.get=function(e){var t=this;return ii("Query.get",arguments,0,1),up("Query.get",e),new Promise((function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then((function(e){n(new tp(t.firestore,t._query,e))}),r):t.getViaSnapshotListener(n,r,e)}))},ep.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new Gr(Qr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},ep.prototype.parseDocumentIdValue=function(e){if("string"==typeof e){if(""===e)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==e.indexOf("/"))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var t=this._query.path.child(Ui.fromString(e));if(!Wi.isDocumentKey(t))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return new Ss(this.firestore._databaseId,new Wi(t))}if(e instanceof Wd){var n=e;return new Ss(this.firestore._databaseId,n._key)}throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fi(e)+".")},ep.prototype.validateDisjunctiveFilterElements=function(e,t){if(!Array.isArray(e)||0===e.length)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if(0<=e.indexOf(null))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(0<e.filter((function(e){return Number.isNaN(e)})).length)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")},ep.prototype.validateNewFilter=function(e){if(e instanceof nh){var t=[Zl.ARRAY_CONTAINS,Zl.ARRAY_CONTAINS_ANY],n=[Zl.IN,Zl.ARRAY_CONTAINS_ANY],r=0<=t.indexOf(e.op),i=0<=n.indexOf(e.op);if(e.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(e.field))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+e.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(e.field,a)}else if(i||r){var s=null;if(i&&(s=this._query.findFilterOperator(n)),null===s&&r&&(s=this._query.findFilterOperator(t)),null!=s)throw s===e.op?new Gr(Qr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Gr(Qr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},ep.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},ep.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new Gr(Qr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},ep);function ep(e,t){this._query=e,this.firestore=t}var tp=(Object.defineProperty(np.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(np.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(np.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),np.prototype.forEach=function(e,t){var n=this;ii("QuerySnapshot.forEach",arguments,1,2),oi("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach((function(r){e.call(t,n.convertToDocumentImpl(r))}))},Object.defineProperty(np.prototype,"query",{get:function(){return new Zd(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),np.prototype.docChanges=function(e){e&&(pi("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),ui("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new Gr(Qr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map((function(t){var o=new $d(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return Br(t.type===El.Added,"Invalid event type for first snapshot"),Br(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.oldDocs;return n.docChanges.filter((function(e){return t||e.type!==El.Metadata})).map((function(t){var r=new $d(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==El.Added&&(Br(0<=(i=o.indexOf(t.doc.key)),"Index for document not found"),o=o.delete(t.doc.key)),t.type!==El.Removed&&(a=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case El.Added:return"added";case El.Modified:case El.Metadata:return"modified";case El.Removed:return"removed";default:return qr("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:i,newIndex:a}}))}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},np.prototype.isEqual=function(e){if(!(e instanceof np))throw mi("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},np.prototype.convertToDocumentImpl=function(e){return new $d(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},np);function np(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Qd(n.hasPendingWrites,n.fromCache)}c(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(e){try{Object.defineProperty(tp.prototype.docChanges,e,{get:function(){return function(){throw new Gr(Qr.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var rp,ip=(r(op,rp=Zd),Object.defineProperty(op.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(op.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Wd(new Wi(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(op.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),op.prototype.doc=function(e){if(ii("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=gi.newId()),oi("CollectionReference.doc","non-empty string",1,e),""===e)throw new Gr(Qr.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Ui.fromString(e);return Wd.forPath(this._query.path.child(t),this.firestore)},op.prototype.add=function(e){ni("CollectionReference.add",arguments,1),oi("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then((function(){return t}))},op);function op(e,t){var n=rp.call(this,$l.atPath(e),t)||this;if(e.length%2!=1)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return n}function ap(e,t){if(void 0===t)return{merge:!1};if(pi(e,t,["merge","mergeFields"]),ui(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+fi(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Gr(Qr.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+fi(r[o]))}(e,t,n,r,i)}(e,"mergeFields","a string or a FieldPath",t.mergeFields,(function(e){return"string"==typeof e||e instanceof qf})),void 0!==t.mergeFields&&void 0!==t.merge)throw new Gr(Qr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function sp(e,t){return void 0===t?{}:(pi(e,t,["serverTimestamps"]),ci(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function up(e,t){ai(e,"object",1,t),t&&(pi(e,t,["source"]),ci(e,0,"source",t.source,["default","server","cache"]))}function cp(e,t,n){if(t instanceof Wd){if(t.firestore!==n)throw new Gr(Qr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw mi(e,"DocumentReference",1,t)}var lp=Yr(Ud,"Use firebase.firestore() instead."),hp=Yr(qd,"Use firebase.firestore().runTransaction() instead."),fp=Yr(jd,"Use firebase.firestore().batch() instead."),dp=Yr(Wd,"Use firebase.firestore().doc() instead."),pp=Yr(Hd),mp=Yr($d),yp=Yr(Zd),vp=Yr(tp),gp=Yr(ip,"Use firebase.firestore().collection() instead."),bp={Firestore:lp,GeoPoint:Yl,Timestamp:so,Blob:Ni,Transaction:hp,WriteBatch:fp,DocumentReference:dp,DocumentSnapshot:pp,Query:yp,QueryDocumentSnapshot:mp,QuerySnapshot:vp,CollectionReference:gp,FieldPath:qf,FieldValue:yd,setLogLevel:Ud.setLogLevel,CACHE_SIZE_UNLIMITED:Md},wp=(Ep.prototype.addCallback=function(e){},Ep.prototype.shutdown=function(){},Ep);function Ep(){}var Tp="ConnectivityMonitor",Sp=(Ip.prototype.addCallback=function(e){this.callbacks.push(e)},Ip.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},Ip.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},Ip.prototype.onNetworkAvailable=function(){Fr(Tp,"Network connectivity changed: AVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(0)},Ip.prototype.onNetworkUnavailable=function(){Fr(Tp,"Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.callbacks;e<t.length;e++)(0,t[e])(1)},Ip.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},Ip);function Ip(){var e=this;this.networkAvailableListener=function(){return e.onNetworkAvailable()},this.networkUnavailableListener=function(){return e.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}var kp=(Cp.prototype.onOpen=function(e){Br(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},Cp.prototype.onClose=function(e){Br(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},Cp.prototype.onMessage=function(e){Br(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},Cp.prototype.close=function(){this.closeFn()},Cp.prototype.send=function(e){this.sendFn(e)},Cp.prototype.callOnOpen=function(){Br(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},Cp.prototype.callOnClose=function(e){Br(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},Cp.prototype.callOnMessage=function(e){Br(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},Cp);function Cp(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}var Np="Connection",Ap={BatchGetDocuments:"batchGet",Commit:"commit"},_p="gl-js/ fire/"+Pr,Dp=(xp.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=_p},xp.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise((function(o,s){var u=new Or;u.listenOnce(Dr.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case _r.NO_ERROR:var t=u.getResponseJson();Fr(Np,"XHR received:",JSON.stringify(t)),o(t);break;case _r.TIMEOUT:Fr(Np,'RPC "'+e+'" timed out'),s(new Gr(Qr.DEADLINE_EXCEEDED,"Request time out"));break;case _r.HTTP_ERROR:var n=u.getStatus();if(Fr(Np,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),0<n){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=function(e){var t=e.toLowerCase().replace("_","-");return 0<=Object.values(Qr).indexOf(t)?t:Qr.UNKNOWN}(r.status);s(new Gr(i,r.message))}else s(new Gr(Qr.UNKNOWN,"Server responded with status "+u.getStatus()))}else Fr(Np,'RPC "'+e+'" failed'),s(new Gr(Qr.UNAVAILABLE,"Connection failed."));break;default:qr('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{Fr(Np,'RPC "'+e+'" completed.')}}));var c=a({},t);delete c.database;var l=JSON.stringify(c);Fr(Np,"XHR sending: ",i+" "+l);var h={"Content-Type":"text/plain"};r.modifyHeadersForRequest(h,n),u.send(i,"POST",l,h,15)}))},xp.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},xp.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Ar(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");function a(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))}Fr(Np,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,l=new kp({sendFn:function(e){c?Fr(Np,"Not sending because WebChannel is closed:",e):(u||(Fr(Np,"Opening WebChannel transport."),s.open(),u=!0),Fr(Np,"WebChannel sending:",e),s.send(e))},closeFn:function(){return s.close()}});return a(xr.EventType.OPEN,(function(){c||Fr(Np,"WebChannel transport opened.")})),a(xr.EventType.CLOSE,(function(){c||(c=!0,Fr(Np,"WebChannel transport closed"),l.callOnClose())})),a(xr.EventType.ERROR,(function(e){c||(c=!0,Fr(Np,"WebChannel transport errored:",e),l.callOnClose(new Gr(Qr.UNAVAILABLE,"The operation could not be completed")))})),a(xr.EventType.MESSAGE,(function(e){if(!c){var t=e.data[0];Br(!!t,"Got a webchannel message without data.");var n=t,r=n.error||n[0]&&n[0].error;if(r){Fr(Np,"WebChannel received error:",r);var i=r.status,o=function(e){var t=ml[e];if(void 0!==t)return wl(t)}(i),a=r.message;void 0===o&&(o=Qr.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.callOnClose(new Gr(o,a)),s.close()}else Fr(Np,"WebChannel received:",t),l.callOnMessage(t)}})),setTimeout((function(){l.callOnOpen()}),0),l},xp.prototype.makeUrl=function(e){var t=Ap[e];Br(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},xp);function xp(e){this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host,this.forceLongPolling=e.forceLongPolling}var Op=(Object.defineProperty(Pp.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(Pp.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),Pp.prototype.loadConnection=function(e){return Promise.resolve(new Dp(e))},Pp.prototype.newConnectivityMonitor=function(){return Sp.isAvailable()?new Sp:new wp},Pp.prototype.newSerializer=function(e){return new Kh(e,{useProto3Json:!0})},Pp.prototype.formatJSON=function(e){return JSON.stringify(e)},Pp.prototype.atob=function(e){return atob(e)},Pp.prototype.btoa=function(e){return btoa(e)},Pp);function Pp(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}jr.setPlatform(new Op),function(e){e.INTERNAL.registerService("firestore",(function(e){return new Ud(e)}),function(e){Br(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(bp))}(t)}).apply(this,arguments)}catch(n){throw console.error(n),new Error("Cannot instantiate firebase-firestore - be sure to load firebase-app.js first.")}}(n(14))}).call(this,n(9))},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(38),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(9))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(9),n(39))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(41);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case v:case y:case o:return t}}}function T(e){return E(e)===f}t.typeOf=E,t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w)},t.isAsyncMode=function(e){return T(e)||E(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p}}]]);
//# sourceMappingURL=2.421d31a3.chunk.js.map